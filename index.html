<!DOCTYPE html>
<html lang="pt-BR">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--  -->
	<meta property="og:site_name" content="Meu Pix">
	<meta property="article:author" content="@DaviMaTaeus">
  <meta property="og:description" content="Acesse o link para copiar o qr ou chave pix e pague pelo seu banco.">
  <meta property="og:image" content="pagamentos.files/imagens/metaTag.png">
  <meta property="og:locale" content="pt_BR">
  <meta property="og:type" content="website">
  <meta name="robots" content="index, follow">
	<meta name="theme-color" content="#ffa200e0">
<!--  -->
  <link href="pagamentos.files/imagens/favicon.png" rel="shortcut icon" type="image/png">
	<link rel="stylesheet" href="pagamentos.files/css/tachyons.min.css">
	<link rel="stylesheet" href="pagamentos.files/css/compartilhar.css">
	<script src="pagamentos.files/script/jquery.min.js"></script>
	<script src="pagamentos.files/script/qrious.min.js"></script>
	<script src="pagamentos.files/script/html2canvas.min.js"></script>
  <script src="pagamentos.files/script/clipboard.min.js"></script>
	
	<title>Meu Pix - Gerador de Pix de código aberto</title>
	
 <style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    mix-blend-mode: normal;
    background-image: url(pagamentos.files/imagens/capa-pix.png);
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    min-height: 100vh;
    display: flex;
    align-content: center;
    justify-content: center;
    align-items: center;
}

.rodape{
    background: linear-gradient(226deg, #d68800bd, #ff5d00a6);
    box-shadow: 0 0 15px #ff670085;
    height: auto;
    width: 100%;
    font-size: 14px;
    font-family: helvetica;
    margin-top: 15px;
    border-radius: 15px;
}
.rodape a{
    text-decoration: none;
    color: white;
}
.rodape p{
    margin-bottom: 5px;
}
.rodape-div{
    display: flex;
    width: 100%;
    margin: auto;
    padding: 15px 10px 15px 10px;
    flex-direction: row;
    justify-content: space-around;
}
.rodape-div-1, .rodape-div-2, .rodape-div-3, .rodape-div-4 {
  display: flex;
    flex-wrap: wrap;
    flex-direction: column;
    justify-content: center;
    align-content: center;
    align-items: center;
}
.rodape span{
    font-size: 20px;
    color: white;
}
.rodape-direitos{
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
    background: #000000c9;
    padding: 6px;
    border-radius: 19px;
}
.rodape-div-4-coluna{
    margin-bottom: 10px;
}
/*mobile*/
@media (max-width: 768px) {
.rodape-div-1, .rodape-div-2, .rodape-div-3, .rodape-div-4 {
        width: calc(50% - 20px);
        padding: 10px;
}
.rodape-div{
        padding: 0px 0px 0px 0px;
}
.rodape-div-4-coluna{
    margin-bottom: 10px;
}
}
.notificatextocopiado {
    color: #01cc01;
    font-size: 25px;
    margin-bottom: 10px;
}
.texocopiado{
    text-align: center;
    word-wrap: break-word;
    white-space: pre-wrap;
    color: #fff;
    width: 90%;
}
.modal-salva {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  justify-content: center;
  align-items: center;
  z-index: 999;
}
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  justify-content: center;
  align-items: center;
  z-index: 999;
}
.modal-content-salva {
    background: linear-gradient(351deg, #206958cf, #20695894);
    box-shadow: 0 0 15px #05a58170;
    border-radius: 5px;
    padding-top: 10px;
    padding-bottom: 10px;
    color: #fff;
    display: flex;
    flex-direction: column;
    width: 400px;
    align-content: center;
    align-items: center;
}
.modal-content {
    background: linear-gradient(226deg, #d68800bd, #ff5d00a6);
    box-shadow: 0 0 15px #ff670085;
    border-radius: 5px;
    padding-bottom: 25px;
    color: #fff;
    display: flex;
    flex-direction: column;
    width: 400px;
    flex-wrap: nowrap;
    align-items: center;
    justify-content: center;
}

.modal-btn {
        padding: 8px 18px;
    font-size: 20px;
    transform: skewX(-15deg);
    background: linear-gradient(335deg, #ff0000, #ac0505);
    box-shadow: 0 0 15px #ff0000;
    border: none;
    cursor: pointer;
}
.modal-btn:focus {
   outline: none; 
}
.modal-btn:hover {
    transition: 0.5s;
    color: #fff;
    box-shadow: 0 0 15px #03ff00bd;
}
.modal-btn span:nth-child(2) {
    transition: 0.5s;
    margin-right: 0px;
}

.modal-btn:hover  span:nth-child(2) {
    transition: 0.5s;
}
.modal-btn:before {
    content: '';
    background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
    position: absolute;
    top: -2px;
    left: -2px;
    background-size: 400%;
    z-index: -1;
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    animation: glowing 20s linear infinite;
    opacity: 0;
    transition: opacity .3s ease-in-out;
}
.modal-btn:active {
    color: #000
}
.modal-btn:active:after {
    background: transparent;
}
.modal-btn:hover:before {
    opacity: 1;
}

/* qr Criado */
    
.npurple-1 {
    color: #fff;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    border-radius: 15px;
    box-shadow: 0 0 15px #ff5d00e0;
    margin-bottom: 15px;
	    margin-bottom: 15px;
    padding-right: 10px;
    padding-left: 10px;
    padding-top: 10px;
    padding-bottom: 10px;
}

.botaocanva {
    color: #fff;
    background: linear-gradient(112deg, #05bcce, #3970e2, #7b2ce6);
    border-radius: 15px;
    box-shadow: 0 0 15px #05bcce;
    margin-bottom: 15px;
    padding-right: 10px;
    padding-left: 10px;
    padding-top: 10px;
    padding-bottom: 10px;
}


.n-grey-777 {
    color: #fff;        
}
    
#qr-data {
    color: #fff;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
	border-radius: 15px;
    box-shadow: 0 0 15px #ff6700;
    overflow: hidden;
}
    
#qr-code {
      mix-blend-mode: normal;
    background: linear-gradient(47deg, #206958, #05a581, #206958);
    box-shadow: 0 0 15px #05a581;
}

#qr-data-placa {
    color: #fff;
    border-radius: 15px;
    background: linear-gradient(231deg, #ffa200, #ff5d00);
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    overflow: hidden;
}
    
#qr-code-placa {
mix-blend-mode: normal;
    background: linear-gradient(47deg, #206958, #05a581, #206958);

    color: #fff;
    border-radius: 15px;
}
	/* botao whatsapp */
	
.whatswidget-widget-wrapper {
            font-family: "Helvetica Neue","Apple Color Emoji",Helvetica,Arial,sans-serif !important;
            font-size: 16px !important;
            position: fixed !important;
            bottom: 20px !important;
            right: 30px !important;
            z-index: 1001 !important
        }

        .whatswidget-conversation {
            background-color: #e4dcd4 !important;
            background-image: url('data:image/png !important;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAYAAABUfC3PAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAhHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAAiZdY5dDoQwCITfOcUeYQqUluOYrCbewOM7tW6MD/slwPAbZD32TT6DAojX1iMjQDw9daHomBhQFGVE+skdrVApxXfmYjpFZG/wZ9DxpiJ6bM1pXDHV1YJmV5M3BOOFfA5E/X3zp34jJ5txK0wLhZMZAAABd2lUWHRYTUw6Y29tLmFkb2JlLnhtcAABAFVURi04AFhNTDpjb20uYWRvYmUueG1wAEiJ7ZaxTsMwFEX3foVl5thJKEOsuB1aUBkKCJBaxjR5Taw2TpQYYvprDHwSv4DdVi2qyojEYE+27/U99vPy4qGuk3QFCi0gF5Ljr49PjETG8exq6k/rERRismngaXP3nG5WaZTh4aAXa6bLugSVIF2uZcs0x0lWLYCZud2mGG0tasXxfPqARlUDqE/6xPeutXgL8aCH4iZbssfxzT7CrDgulKoZpV3Xke6SVE1OgyiKqB/SMPSMw2vfpUq0J9sLG7HLGEObNqJWopLIrpNF9ao4xkZH+3DQ4pguW7K9LEmrklqFBsSnP+1KLH+xW+Vot4fZg9Cwno9FCbI1V+A48IMT9eWMapPYbZnkMBOZKs4JExB5oU6U+0aAqYHahWFqK0n3pTQ/Qw9fM9g+6K+HgziIgziIgziIg/wrSC8+NHcgTUfXmdbtG8Nkm7OA2X6LAAATK0lEQVR4nO1d25bjOI4MgKSy5/+/bR/3cf+hLJLAPoCgaFu2JaeU6dptnFNTPVlpWSJIXAIBiP7nv/9L8a98lPBv38C/ci/xt2/g/5qICGoVqAoUAAEAEQIzmBlE9PIaEQBUFaUUiAhU7VIhMEIIYP73MG0VEUHOpa+lCxEhhICUIkIILxUTRQSlVtRSoAoQAQqFFoGoIsX4r2I2iIjgcrlARMGB8fU1gYigqqhVUGpBzhmqipTS02vFWivmeQYTI8YA5gBVQc4ZJWcQgJgSeMOx+/8qtvAVtQpCDJhSujJVzAIiIJeCXApCiGB+vJ6xioCIME0JIYT2Y7tg6RcJQP+33xMzrcvfIAIBm+z0mSIi8HWMMQ7raMLMSCmZ4sT8DfB4PSNUV51QjBEiipzLsgi/JKoKVYWIQETb/SiICMy8yU6fen/tf0IIDy2K36vq8jyP7rlFXw8e6Beec1l8U4CIQFTa7RCIlpNRRaClYEoJMcbfU8xycF8IbVrTqABqLUh6HR3XWiG12oOe/LBdCarQHgGi7yo3UUQMZuqLTyIopaDUCmJGbGajnyy7QA9N3RocrTxfIhnu/VbsngR4ckJcYuCAWgrmeUZskZaIopQMEUVK8VQnX6ugVgsjq0hfPOaAEPlpfC/NjpdSUUtFYIYCkGa7pdoiKRTUwnx/xiMVw+0ecylgEYSmGP8Oj8BEbHvQi++PIYTuP0qpIJa+y7g9xFlmQUQwzxdUEcQQkG6iltu/b2Wx0xk5C6pUO2kAePA3AEFUuuJTjC/D0j3ieUhgRikFKnK1brVaNEtESCm+tGAxBAbxF2opzWQJiAkpphYin5OjdN+hauF4SggPdpD/rjaPquq70xY+xtSTNWrOlm9OmCqDMEaUz8PSvWILnlriqMil9MVXBYgJMUSE8HqTR8B2Fd2EcmfY3luRZl8Dh+4PgMUnjH+ulaJgDogxIISAaUrdnrsy/DrtYcBAM812osz0HWfGPBwmIpS2ud2bERNS2JbNAwP29RNKuBVueYZicY6OHdXaTm5THFOzxe0TpRYA2h803ChVVFFLBYAOGdnvcVNyvQoajpIOTd1ax/asW+RHAclx15sjrhBRxGYhO3ZUS0MYYo+4/KEMp1OgnQyHhkYppZpth0VzVQImLAtGbN/vDvlo+a6iY875UKfncm9+WkjY/81sre/irqxqpiWmiBBGn2C7X8TOFXNb4JXnr9UUm2JEBZliqnTTxi1i0w/FyONZCjEsqF4ngApwsDDXAowl5HVFgVo+wWSfVYuoPCiw0HbxJ6vfD/TfQwMFPcPzfEc0fwupGD/73ZNxex+H7xUvAzg845A1tR0KXPuv8e8QGCIW75dc7BT00DZ2HzD+WZMYAkQEfy4XQLXjUQtA6KdPnsIdj8RyjtpN5xJ6718rQ5dnix7btU5RSs4ZCsPPQlxC1Fdi4W28UpT/2ZPwhWA+pFbp/3/8fg8cXmFQa8/mfk9UwEQtpLdTHeM+DM6ulaGwnJDazw5VyujEU0qYprR7F4Zwb5ZG3zTKo9PivuORZTYlB6jaImzNxXzD1ZbLETOoVguBRa984BaptSKXgilNSMlUcbnMxyulVjGfcQCUMTr/6rhS04v5ptB9095v4sCQDn1sv59S6lXNRGPCPF8scHjDR1G7Fy+IHW6+HGf6LrbkgUJukIUleeiL76cml4yczWfEHRVSajXzWmpHoHfcXQ8W7G/0YGKvTohtQ+WcIc3UllJOyFP6jb2nlK6QXCBiKLVHbI5Ya0OT/QRZToLNpeuOmWFBpbdsom72xMq7QbmfZmLaDaYHZqQYkRvEZQo+I3kkQGUJQffKGLmlVidZXegGpFYR5HlGyQUqimlKmxUDGNSzRykxRtvZ8wwJEbUaavAOl8ErkhaiG0KejjZfFtUwsr5nX23Xm0n5mr5eRjNuhmiamgMuqHVbzcTvte/0jZ9JyaJDD4ktMHm/+mmKDlBloBXxDlUKM4ODQmfd5UCBJb/x3OZWIZ6IjmVg910hhJ7t51L6jt5yv9LAya15hi+iCENVdofrj655VYp/+0oPxBLEJYTdngMAtS2oHekBXhFBdi5Vy9hiiIgR3WQEZmgMmOcMCductyEJ0hHmrfdqG4FwFsH0lKsSM1wxW0W1wSjEVzB+bZl5rVZZjNGSj5wz5pakAkNWTeYnZMN3O9A5Euc+QQ5Xitt5AJsftp+qVnsYfy61QsXCXnP8liMQkeUZ9ZqJ2EvXm5RipYCeA32InIKTMjOqLPD4FrOgaLZ1/Jln8WR4lpsqZm6FpNrwq8Em9xrNaxlt+TtK6cU3YCB3fL9Gc55SquwyC21pVv/ltjykjvuvie4LxokAJu6BwtYSsWf3peSOXluIe0/G2yurShm5V3bjtDnku0rM6r7d5zmDi9fhnUbrztihF6xEPk8V9ux+RaD8nLk4SikFl3nupWyFJb3IltnH+L5iHiol59wKSkZs2BP2mRkiCLZFNeORv03mmBlhYGsaRmTQy+1GWcwdbaZFEZkfu90Qz8RNM4Be1xGxzSCiqFIRNyp3TVYdvcPTzhapYgWrrTdtu4/6rt7yOc873Cz4Z5gZU0pWW4c2rMqSuBGF9u4BwMzR3g2EHdiVVAvNY0O0uRXtrOwA6DejuYc+ZYHL33OCxAxuJnDrKUsxImdrGXAY3E2nK6xd3QDKm+SyNDI6h31BpZ0+YKs3IrLfVNGrT4hqD1i+I6tKuc2IA+/nfzERZMdJscWPPVGc53zlNB9FNYYWL70fcYo9JN8qZi6xmZ7bGZE1I88zKoeOSDDTOY6e2ZpeHGy7JbZtEV/EWuvmaIiZzH9ooxCZVRmoQHZCXMkejHSFhIi4E4NyHlgYytWv79MSXGkkD4eUFIoQToq+Op7DDCjuTMXWGydiiJRd0VBsDMe5Ib+llMYsdJIdNWhEG2ulgsn8zgjPbBH3Q1KlF622SggBX19fKNWIHSDCV5gO4Sk/9Ck9kXvz+u7szTnv80nMjGmawMESRFGBFK88GhRjXQXUggDrQNtTa3f6qqoipvdI38yMRNRP7jsV0DU5lfnkkY02mtGenegPLC0R9VYCL5laKLtQlNZkjf7q/DEvbgUO3+rrPCKDv5XT6WgeNYnqbqDNI68tNnoMJrRFQeqNRypX/+2csKkFEp/WaHv6SeHG3VWRU/omR/ShE/+GiI/YilnEjBQWpr7f39G7/Ag5XSnWs/FeJXKUkfp6a4K64zMkHiF4FY+aUq75Y58sqvpT5qtsBiddeW6C4H6gK8R5xctpMH7wcgrOaqM7W6SVw8939L0O7rXwdVL2NRncsCUdzJJTOv1PbAnt7c7/2xTh4vDSPB9MxlsTIiDEgFoq/lwuHS8CMDSfujNui0+t9aEt/lKnuK9Z/KYSPLQ+YnxKzhm5FMQYfkIphBStz8+agYwA4Zn5YqZwZfe50UK38pDfkR4MvKHYI8enjF0KMfyAUoCFYF0777a1RQz9Itwy+Z/a+R6ledi9R3wRjxyf4ozLWg8meD//Ulo91r9hhqwreUYp1YbbTNMuxYxjP44Yn7Jcx9pAfrSX6RMiIkehnbL0DrzicM+R41PGiPFDG8xeyzudVEtDU4aKVVQXoHPHdy/fvP4L38ALY4x/r1IsxG7U0fjaH6kqSq1Gi+0Th7ZBOLfCRCg4b3zKX6wUZ+YLKBucY+H2/dACV8g8zyAYu7LWuhlXuxVm6405a3zKX6sUz1s81wmykLVvM3rvyweWfkfR9znAHrScNT7ldKUc2UU7ipervXvMWzDmmjsHixt91nofFdPXV+stqYjhe2MYzxyfcqWU62hhfxPMrYwJlvdiHJkIevVvzhm1VCi0U1rHzir3HSEEXEqjwX59f3DbWeNTrpRy1E52slwptU8WoqaMaZoO+x43IxOADPSxITEEBDJGPYArM2U/012Vylf3sOc6W4iOq+ZrzHb34Exj24JjQgabhEbwK6szFr8rfj0FUEsFEyFMAYGuH895v2/HrAfIFqLjnVL8Q5d57vWQEKwf/lnHr8Jmosx5Rh3IDD5fJefcbua9hO2VhBDwRYQLZsu2c8Y0TVe/00eAQFo/5c/PnnSiY0oRCuqY17j575TipkdbxiqqkDyjlIUFeHvcnObjxayUkrFSBjzL297OFCJCDAE5l17Xv/1Op5jO84xpmjZ1fB0tr4iOd45+UYhNqvPopndTqSKp9pCvwxatgSfFtMo8N9R3/5SHvcJsTJeRu9g5xrBBOzGaKc3FwuSfnNa6heh4t00sfCTEFDqPammjzp0nBaAjv/NlBgiYUnriyKmPy3iHRLFVrPkIg2PX3tpNWJDpmGKHW76+vt+3uFW2EB3vzZdazB/4OsxzhJfbMBv3Od4xM02T1U0ePJihDk0VJzZNuX32KXhzzpDWNkFE0Fyag/X5LNa+103uyTX8LUTHVUc/subHi40Fq8s8tz5Ea3fbVNTZ2mL1pkiDU6wVG9aUqrL0Q4IgLH34Zy9TazUWZ0o/MkL+FdHx3ssN5JA18UlDc26Zc+BDc493xfojWw8km0+ppSJN6Y6SuuRRBUpGGPTZxp8wQv6t0MPqCYbOprh3UtH70yieiS+0BR8VBMY0pVUUwW14jHGYi2wn7BNkt1KW5ktFCnFfG5kuielaE1K3t+/WzIfClc8efmRSe04QQ29f+BRe2L1Smt1/FLr6NFSLGvaFkgrt8+mNQnSjlMZm3DtWY6El1X4C9uBsa1Sl35Q7pRAaU/7BaAznb1kSuf1BeudTq/6N0A3B/KxW7TnSP/987VMM0IZOR6tlfNAi75V7pTAB8qQjuo3NmDgtIe4G6bUOYpthf1WMsuOpqhYxiTz8/jUhspaIOMyZ/GR5RW26U0pgRtXaEdbbi0nPjNeZjg9vpBHWUkp9J6/dVBWB5v3BgJmgXR/5FdlCbbp6DGr8KzwYjeEDa/bOiF9uBC9fFtaBuQ/f7e+IU5v+/Ln0PG9N7vZWaCdgrYG0sxl3LlhpmFncEj57gLHrGz5fRmpTldoZoWtypxRrHzAIoLMZm+yd5qCKzoqk1vv+ygGb4hVHvhzgSBmJ6Hs+s4fatKqUwDZBuw7vK/Rb2GPpVWVAYl8PVO5vdmgwzyeKESVspOKW6UfvUJsetmwvdYnacSP0dzJsuPlG7a+lIA1zd5/efBvQeXRl8kj5CWrTQ6WEEHvNgdoojj6O/EUDkKrasM1+A69N0agU/oXC01b5CWrTwz56Nze1VpSceynYmoDW2+X85mzkko10jfF1Zt1HlUubH/nLrwh8Jj9BbXr4r0RtsihTf6eUAn1y3W10NhbC5mxFr9QG3bykkzYn6Pb2t7LxrU7cqU0xxY6ATG2M/IhyxNh+r5WgdeM8/KfDDRYGeUbOdgx9IEwptdcpxqqkansTRCOlvVLIPM+dof5bNXPAp7kakjAClGtyNrXp6Qr4aQEBZVh08/QVpdjggVKWofw2ASI+PSF+qkqtKE3ZaXqtxLXrOGj6rrmz10QZdO+lwFIVUaQ/xyM5i9r0clv6vC0CIZfcXwDGiA1+lx4aRjT4hKl39o7ii+hvnfYy7SuY/VZUtTeqemvbO0N9AHsnpJvm0HZxlTZFHEAI09PPn0Ft2mQrun8hYFbY1J/A/dj6q/RqrfhzMXT5tqFmrKP41B9/u8JemN59kDTmpYi9J3La2ZEFtCl3VfCf//wzNMgG/PlzsRetPddJX58jqU2bDbjTiYxUwcu4vhA7QlvqQnZ2XGfJbKgPuYkprCpui3jsT0RI0zQMT5A2b2v79TpCQUvPIYA+37iz6Ddc70hq02aluMmw92qFvgALedocZG0EPq+duBChdfsuRax3RUXAYRl0owBKXt4FuVXHnZYLtAKZ3agDr0TbpxIdSW3aFeqISI/FFzhk8QPvNuHsFaM26QIBtfI00/5OAaf7lBYBElF7PyTtenPQkdSmzUrxNmvwEkMQ/XwZ1UP1ec4o5dLeGFTBIfSR63skhICvaTL0tr2s03hsafMGO5ratEkpyxACvRrcfEQvxl7xHCElbaaBwJE3wzmPrgcspQkDZcMmUPQMatPuTI2w2OHfEm9Aiuovd/7e5rjl9+6RM6hN+5XSaZa/i039xildkzOoTXHvGEEMi3E2g/7T5SxqE/t7C18K3fsSHSKgv0k6oXAPZebRtWDUppEQ8l2Jc0Nnn8EJRHQ3PMAnqeZcProodSs+FKG2iO3RYFBto5WeWYGzqE1sOcfrF9B0Gz4UdLR1cP0tYq2Dc39z0Xy52NuKVjC6xXc+F0+gj+xv4e0FXvTsuSsF6+1hnyoLKmGTtlXtZQK3daHf9pGsGxUCoM+Qr7V1DrfXNf0tp8UQuPY209bu5xiXy28rBADYW+Ve3UwP2xptaKRe/i0+xTqdDSK6/LlAxd5zzB90/6qK6DyvLTvEWuwKSmkz4tvrvz9hd20VbyF3vxFC+Cjin5UBWn/8M3GsRtHajBuUICrg8LvMk2WCg/Zi17PE8tPaHkZx6xOf9Sr25KhaxayPsQVdzQX+LXF4fJ5zhzpSirvfDvEJcplnKyeHgP8FbJ3FbCth4+oAAAAASUVORK5CYII=') !important;
            background-repeat: repeat !important;
            box-shadow: rgba(0, 0, 0, 0.16) 0px 5px 40px !important;
            width: 250px !important;
            height: 300px !important;
            border-radius: 10px !important;
            transition-duration: 0.5s !important;
            margin-bottom: 80px !important
        }

        .whatswidget-conversation-header {
            background-color: white !important;
            padding: 10px !important;
            padding-left: 25px !important;
            box-shadow: 0px 1px #00000029 !important;
            font-weight: 600 !important;
            border-top-left-radius: 10px !important;
            border-top-right-radius: 10px !important
        }

        .whatswidget-conversation-message {
            line-height: 1.2em !important;
            background-color: white !important;
            padding: 10px !important;
            margin: 10px !important;
            margin-left: 15px !important;
            border-radius: 5px !important
        }

        .whatswidget-conversation-message-outer {
            background-color: #FFF !important;
            padding: 10px !important;
            margin: 10px !important;
            margin-left: 0px !important;
            border-radius: 5px !important;
            box-shadow: rgba(0, 0, 0, 0.342) 0px 2.5px 10px !important;
            cursor: pointer !important;
            animation: nudge 2s linear infinite !important;
            margin-bottom: 70px !important
        }

        .whatswidget-text-header-outer {
            font-weight: bold !important;
            font-size: 90% !important
        }

        .whatswidget-text-message-outer {
            font-size: 90% !important
        }

        .whatswidget-conversation-cta {
            border-radius: 25px !important;
            width: 175px !important;
            font-size: 110% !important;
            padding: 10px !important;
            margin: 0 auto !important;
            text-align: center !important;
            background-color: #23b123 !important;
            color: white !important;
            font-weight: bold !important;
            box-shadow: rgba(0, 0, 0, 0.16) 0px 2.5px 10px !important;
            transition: 1s !important;
            position: absolute !important;
            top: 62% !important;
            left: 10% !important
        }

        .whatswidget-conversation-cta:hover {
            transform: scale(1.1) !important;
            filter: brightness(1.3) !important
        }

        .whatswidget-cta {
            text-decoration: none !important;
            color: white !important
        }

        .whatswidget-cta-desktop {
            display: none !important
        }

        .whatswidget-cta-mobile {
            display: inherit !important
        }

        @media (min-width: 48em) {
            .whatswidget-cta-desktop {
                display:inherit !important
            }

            .whatswidget-cta-mobile {
                display: none !important
            }
        }

        .whatswidget-button-wrapper {
            position: fixed !important;
            bottom: 15px !important;
            right: 15px !important
        }

        .whatswidget-button {
            position: relative !important;
            right: 0px !important;
            background-color: #31d831 !important;
            border-radius: 100% !important;
            width: 60px !important;
            height: 60px !important;
            box-shadow: 2px 1px #0d630d63 !important;
            transition: 1s !important
        }

        .whatswidget-icon {
            width: 42px !important;
            height: 42px !important;
            position: absolute !important;
            bottom: 10px !important;
            left: 10px !important;
        }

        .whatswidget-button:hover {
            filter: brightness(115%) !important;
            transform: rotate(15deg) scale(1.15) !important;
            cursor: pointer !important
        }

        @keyframes nudge {
            20%,100% {
                transform: translate(0,0)
            }

            0% {
                transform: translate(0,5px);
                transform: rotate(2deg)
            }

            10% {
                transform: translate(0,-5px);
                transform: rotate(-2deg)
            }
        }	
	
/* nu components */
    
.cta-button {
    font-size: 18px;
    cursor: pointer;
    text-align: center;
    user-select: none;
    min-height: 56px;
    display: inline-flex;
    -webkit-box-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    align-items: center;
    background-color: white;
    color: #ffffff;
    border-width: 1px;
    background: linear-gradient(85deg, #ff0000, #001eff);
    padding: 19px 32px;
	box-shadow: 0 0 15px #000000;
}

.logoencurtador {
    content: url(https://www.encurtador.dev/assets/icons/icon-144x144.png);
    display: block;
    width: 23px;
    height: 23px;
    margin: 6px auto;
    text-align: center;
    cursor: pointer;
}
.Compartilhamentos {
    content: url(pagamentos.files/imagens/Compartilhamentos.png);
    display: block;
    width: 20px;
    height: 20px;
    margin: 6px auto;
    text-align: center;
    cursor: pointer;
}
.logois {
    content: url(https://is.gd/isgd_favicon.ico);
    display: block;
    width: 20px;
    height: 20px;
    margin: 6px auto;
    text-align: center;
    cursor: pointer;
}
.logo-what {
    width: 22px;
    height: 22px;
    padding-left: 22px;
    background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCA0OCA0OCI+CjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00Ljg2OCw0My4zMDNsMi42OTQtOS44MzVDNS45LDMwLjU5LDUuMDI2LDI3LjMyNCw1LjAyNywyMy45NzlDNS4wMzIsMTMuNTE0LDEzLjU0OCw1LDI0LjAxNCw1YzUuMDc5LDAuMDAyLDkuODQ1LDEuOTc5LDEzLjQzLDUuNTY2YzMuNTg0LDMuNTg4LDUuNTU4LDguMzU2LDUuNTU2LDEzLjQyOGMtMC4wMDQsMTAuNDY1LTguNTIyLDE4Ljk4LTE4Ljk4NiwxOC45OGMtMC4wMDEsMCwwLDAsMCwwaC0wLjAwOGMtMy4xNzctMC4wMDEtNi4zLTAuNzk4LTkuMDczLTIuMzExTDQuODY4LDQzLjMwM3oiPjwvcGF0aD48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNC44NjgsNDMuODAzYy0wLjEzMiwwLTAuMjYtMC4wNTItMC4zNTUtMC4xNDhjLTAuMTI1LTAuMTI3LTAuMTc0LTAuMzEyLTAuMTI3LTAuNDgzbDIuNjM5LTkuNjM2Yy0xLjYzNi0yLjkwNi0yLjQ5OS02LjIwNi0yLjQ5Ny05LjU1NkM0LjUzMiwxMy4yMzgsMTMuMjczLDQuNSwyNC4wMTQsNC41YzUuMjEsMC4wMDIsMTAuMTA1LDIuMDMxLDEzLjc4NCw1LjcxM2MzLjY3OSwzLjY4Myw1LjcwNCw4LjU3Nyw1LjcwMiwxMy43ODFjLTAuMDA0LDEwLjc0MS04Ljc0NiwxOS40OC0xOS40ODYsMTkuNDhjLTMuMTg5LTAuMDAxLTYuMzQ0LTAuNzg4LTkuMTQ0LTIuMjc3bC05Ljg3NSwyLjU4OUM0Ljk1Myw0My43OTgsNC45MTEsNDMuODAzLDQuODY4LDQzLjgwM3oiPjwvcGF0aD48cGF0aCBmaWxsPSIjY2ZkOGRjIiBkPSJNMjQuMDE0LDVjNS4wNzksMC4wMDIsOS44NDUsMS45NzksMTMuNDMsNS41NjZjMy41ODQsMy41ODgsNS41NTgsOC4zNTYsNS41NTYsMTMuNDI4Yy0wLjAwNCwxMC40NjUtOC41MjIsMTguOTgtMTguOTg2LDE4Ljk4aC0wLjAwOGMtMy4xNzctMC4wMDEtNi4zLTAuNzk4LTkuMDczLTIuMzExTDQuODY4LDQzLjMwM2wyLjY5NC05LjgzNUM1LjksMzAuNTksNS4wMjYsMjcuMzI0LDUuMDI3LDIzLjk3OUM1LjAzMiwxMy41MTQsMTMuNTQ4LDUsMjQuMDE0LDUgTTI0LjAxNCw0Mi45NzRDMjQuMDE0LDQyLjk3NCwyNC4wMTQsNDIuOTc0LDI0LjAxNCw0Mi45NzRDMjQuMDE0LDQyLjk3NCwyNC4wMTQsNDIuOTc0LDI0LjAxNCw0Mi45NzQgTTI0LjAxNCw0Mi45NzRDMjQuMDE0LDQyLjk3NCwyNC4wMTQsNDIuOTc0LDI0LjAxNCw0Mi45NzRDMjQuMDE0LDQyLjk3NCwyNC4wMTQsNDIuOTc0LDI0LjAxNCw0Mi45NzQgTTI0LjAxNCw0QzI0LjAxNCw0LDI0LjAxNCw0LDI0LjAxNCw0QzEyLjk5OCw0LDQuMDMyLDEyLjk2Miw0LjAyNywyMy45NzljLTAuMDAxLDMuMzY3LDAuODQ5LDYuNjg1LDIuNDYxLDkuNjIybC0yLjU4NSw5LjQzOWMtMC4wOTQsMC4zNDUsMC4wMDIsMC43MTMsMC4yNTQsMC45NjdjMC4xOSwwLjE5MiwwLjQ0NywwLjI5NywwLjcxMSwwLjI5N2MwLjA4NSwwLDAuMTctMC4wMTEsMC4yNTQtMC4wMzNsOS42ODctMi41NGMyLjgyOCwxLjQ2OCw1Ljk5OCwyLjI0Myw5LjE5NywyLjI0NGMxMS4wMjQsMCwxOS45OS04Ljk2MywxOS45OTUtMTkuOThjMC4wMDItNS4zMzktMi4wNzUtMTAuMzU5LTUuODQ4LTE0LjEzNUMzNC4zNzgsNi4wODMsMjkuMzU3LDQuMDAyLDI0LjAxNCw0TDI0LjAxNCw0eiI+PC9wYXRoPjxwYXRoIGZpbGw9IiM0MGMzNTEiIGQ9Ik0zNS4xNzYsMTIuODMyYy0yLjk4LTIuOTgyLTYuOTQxLTQuNjI1LTExLjE1Ny00LjYyNmMtOC43MDQsMC0xNS43ODMsNy4wNzYtMTUuNzg3LDE1Ljc3NGMtMC4wMDEsMi45ODEsMC44MzMsNS44ODMsMi40MTMsOC4zOTZsMC4zNzYsMC41OTdsLTEuNTk1LDUuODIxbDUuOTczLTEuNTY2bDAuNTc3LDAuMzQyYzIuNDIyLDEuNDM4LDUuMiwyLjE5OCw4LjAzMiwyLjE5OWgwLjAwNmM4LjY5OCwwLDE1Ljc3Ny03LjA3NywxNS43OC0xNS43NzZDMzkuNzk1LDE5Ljc3OCwzOC4xNTYsMTUuODE0LDM1LjE3NiwxMi44MzJ6Ij48L3BhdGg+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMjY4LDE2LjA0NWMtMC4zNTUtMC43OS0wLjcyOS0wLjgwNi0xLjA2OC0wLjgyYy0wLjI3Ny0wLjAxMi0wLjU5My0wLjAxMS0wLjkwOS0wLjAxMWMtMC4zMTYsMC0wLjgzLDAuMTE5LTEuMjY1LDAuNTk0Yy0wLjQzNSwwLjQ3NS0xLjY2MSwxLjYyMi0xLjY2MSwzLjk1NmMwLDIuMzM0LDEuNyw0LjU5LDEuOTM3LDQuOTA2YzAuMjM3LDAuMzE2LDMuMjgyLDUuMjU5LDguMTA0LDcuMTYxYzQuMDA3LDEuNTgsNC44MjMsMS4yNjYsNS42OTMsMS4xODdjMC44Ny0wLjA3OSwyLjgwNy0xLjE0NywzLjIwMi0yLjI1NWMwLjM5NS0xLjEwOCwwLjM5NS0yLjA1NywwLjI3Ny0yLjI1NWMtMC4xMTktMC4xOTgtMC40MzUtMC4zMTYtMC45MDktMC41NTRzLTIuODA3LTEuMzg1LTMuMjQyLTEuNTQzYy0wLjQzNS0wLjE1OC0wLjc1MS0wLjIzNy0xLjA2OCwwLjIzOGMtMC4zMTYsMC40NzQtMS4yMjUsMS41NDMtMS41MDIsMS44NTljLTAuMjc3LDAuMzE3LTAuNTU0LDAuMzU3LTEuMDI4LDAuMTE5Yy0wLjQ3NC0wLjIzOC0yLjAwMi0wLjczOC0zLjgxNS0yLjM1NGMtMS40MS0xLjI1Ny0yLjM2Mi0yLjgxLTIuNjM5LTMuMjg1Yy0wLjI3Ny0wLjQ3NC0wLjAzLTAuNzMxLDAuMjA4LTAuOTY4YzAuMjEzLTAuMjEzLDAuNDc0LTAuNTU0LDAuNzEyLTAuODMxYzAuMjM3LTAuMjc3LDAuMzE2LTAuNDc1LDAuNDc0LTAuNzkxYzAuMTU4LTAuMzE3LDAuMDc5LTAuNTk0LTAuMDQtMC44MzFDMjAuNjEyLDE5LjMyOSwxOS42OSwxNi45ODMsMTkuMjY4LDE2LjA0NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PC9wYXRoPgo8L3N2Zz4=') 50% 50% no-repeat;
}

.comprovante-button {
    font-size: 20px;
    background: linear-gradient(47deg, #206958, #05a581, #206958);
    box-shadow: 0 0 15px #05a581;
    transform: skewX(0deg);
    border: none;
    margin-bottom: 5px;
    border-radius: 15px;
    cursor: pointer;
    min-height: 56px;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    flex-direction: row;
    align-content: center;
}
.comprovante-button:focus {
   outline: none; 
}
.comprovante-button:hover {
    transition: 0.5s;
    color: #fff;
}
.comprovante-button span:nth-child(2) {
    transition: 0.5s;
    margin-right: 0px;
}

.comprovante-button:hover  span:nth-child(2) {
    transition: 0.5s;
}
.comprovante-button:before {
    content: '';
	background: linear-gradient(207deg, #2a7820, #1a9d35);
    position: absolute;
    top: -2px;
    left: -2px;
    z-index: -1;
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    opacity: 0;
    transition: opacity .3s ease-in-out;
    box-shadow: 0 0 15px #1a9d35;
    border-radius: 15px;
}
.comprovante-button:active {
    color: #000
}
.comprovante-button:active:after {
    background: transparent;
}
.comprovante-button:hover:before {
    opacity: 1;
}

.Loja-button {
    font-size: 40px;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    box-shadow: 0 0 15px #ff6700;
    transform: skewX(0deg);
    border: none;
    border-radius: 15px;
    cursor: pointer;
    min-height: 56px;
    display: flex;
    justify-content: center;
    flex-wrap: nowrap;
    flex-direction: row;
    align-content: center;
    align-items: center;
    width: 50px;
}
.Loja-button:focus {
   outline: none; 
}
.Loja-button:hover {
    transition: 0.5s;
    color: #fff;
}
.Loja-button span:nth-child(2) {
    transition: 0.5s;
    margin-right: 0px;
}

.Loja-button:hover  span:nth-child(2) {
    transition: 0.5s;
}
.Loja-button:before {
    content: '';
    background: linear-gradient(47deg, #206958, #05a581, #206958);
    position: absolute;
    top: -2px;
    left: -2px;
    z-index: -1;
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    opacity: 0;
    transition: opacity .3s ease-in-out;
    box-shadow: 0 0 15px #05a581;
    border-radius: 15px;
}
.Loja-button:active {
    color: #000
}
.Loja-button:active:after {
    background: transparent;
}
.Loja-button:hover:before {
    opacity: 1;
}

.copy-button {
    background: linear-gradient(47deg, #206958, #05a581, #206958);
    box-shadow: 0 0 15px #05a581;
    margin-bottom: 15px;
    font-size: 18px;
    cursor: pointer;
    text-align: center;
    user-select: none;
    min-height: 56px;
    -webkit-box-pack: center;
    -webkit-box-align: center;
    color: #fff;
    display: flex;
    align-content: center;
    align-items: center;
    justify-content: center;
}
    
.copy-icon::after {
            display: inline-block;
            width: 22px;
            height: 22px;
            padding-left: 10px;
            vertical-align: top;
            margin-top: -5px;
            content: url("data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 22 22' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20.1199 18.68C20.1199 19.8301 19.83 20.12 18.6799 20.12H7.15992C6.00984 20.12 5.71992 19.8301 5.71992 18.68V7.15998C5.71992 6.0099 6.00984 5.71998 7.15992 5.71998H18.6799C19.83 5.71998 20.1199 6.0099 20.1199 7.15998V18.68ZM4.75992 7.15998V16.28H3.31992C2.16984 16.28 1.87992 15.9901 1.87992 14.84V3.31998C1.87992 2.1699 2.16984 1.87998 3.31992 1.87998H14.8399C15.99 1.87998 16.2799 2.1699 16.2799 3.31998V4.75998H7.15992C5.47992 4.75998 4.75992 5.47998 4.75992 7.15998ZM18.6799 4.75998H17.2399V3.31998C17.2399 1.63998 16.5199 0.919983 14.8399 0.919983H3.31992C1.63992 0.919983 0.919922 1.63998 0.919922 3.31998V14.84C0.919922 16.52 1.63992 17.24 3.31992 17.24H4.75992V18.68C4.75992 20.36 5.47992 21.08 7.15992 21.08H18.6799C20.3599 21.08 21.0799 20.36 21.0799 18.68V7.15998C21.0799 5.47998 20.3599 4.75998 18.6799 4.75998Z' fill='white'/%3E%3C/svg%3E%0A");
}

.copy-icon-chave {
    background: linear-gradient(47deg, #206958, #05a581, #206958);
    box-shadow: 0 0 15px #05a581;
    cursor: pointer;
    user-select: none;
    min-height: 32px;
    display: flex;
    border-radius: 0.5rem;
    flex-direction: row;
    align-items: center;
    padding-right: 5px;
    padding-left: 5px;
	color: #fff;
}
	
.copy-icon-chave::after {
            display: inline-block;
            width: 22px;
            height: 22px;
            padding-left: 10px;
            vertical-align: top;
            margin-top: -5px;
            content: url("data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 22 22' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20.1199 18.68C20.1199 19.8301 19.83 20.12 18.6799 20.12H7.15992C6.00984 20.12 5.71992 19.8301 5.71992 18.68V7.15998C5.71992 6.0099 6.00984 5.71998 7.15992 5.71998H18.6799C19.83 5.71998 20.1199 6.0099 20.1199 7.15998V18.68ZM4.75992 7.15998V16.28H3.31992C2.16984 16.28 1.87992 15.9901 1.87992 14.84V3.31998C1.87992 2.1699 2.16984 1.87998 3.31992 1.87998H14.8399C15.99 1.87998 16.2799 2.1699 16.2799 3.31998V4.75998H7.15992C5.47992 4.75998 4.75992 5.47998 4.75992 7.15998ZM18.6799 4.75998H17.2399V3.31998C17.2399 1.63998 16.5199 0.919983 14.8399 0.919983H3.31992C1.63992 0.919983 0.919922 1.63998 0.919922 3.31998V14.84C0.919922 16.52 1.63992 17.24 3.31992 17.24H4.75992V18.68C4.75992 20.36 5.47992 21.08 7.15992 21.08H18.6799C20.3599 21.08 21.0799 20.36 21.0799 18.68V7.15998C21.0799 5.47998 20.3599 4.75998 18.6799 4.75998Z' fill='white'/%3E%3C/svg%3E%0A");
}

.copy-icon-alias {
    background: linear-gradient(47deg, #206958, #05a581, #206958);
    box-shadow: 0 0 15px #05a581;
    cursor: pointer;
    user-select: none;
    min-height: 32px;
    display: flex;
    border-radius: 0.5rem;
    flex-direction: row;
    align-items: center;
    padding-right: 5px;
    padding-left: 5px;
	color: #fff;
}
	
.copy-icon-alias::after {
            display: inline-block;
            width: 22px;
            height: 22px;
            padding-left: 10px;
            vertical-align: top;
            margin-top: -5px;
            content: url("data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 22 22' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20.1199 18.68C20.1199 19.8301 19.83 20.12 18.6799 20.12H7.15992C6.00984 20.12 5.71992 19.8301 5.71992 18.68V7.15998C5.71992 6.0099 6.00984 5.71998 7.15992 5.71998H18.6799C19.83 5.71998 20.1199 6.0099 20.1199 7.15998V18.68ZM4.75992 7.15998V16.28H3.31992C2.16984 16.28 1.87992 15.9901 1.87992 14.84V3.31998C1.87992 2.1699 2.16984 1.87998 3.31992 1.87998H14.8399C15.99 1.87998 16.2799 2.1699 16.2799 3.31998V4.75998H7.15992C5.47992 4.75998 4.75992 5.47998 4.75992 7.15998ZM18.6799 4.75998H17.2399V3.31998C17.2399 1.63998 16.5199 0.919983 14.8399 0.919983H3.31992C1.63992 0.919983 0.919922 1.63998 0.919922 3.31998V14.84C0.919922 16.52 1.63992 17.24 3.31992 17.24H4.75992V18.68C4.75992 20.36 5.47992 21.08 7.15992 21.08H18.6799C20.3599 21.08 21.0799 20.36 21.0799 18.68V7.15998C21.0799 5.47998 20.3599 4.75998 18.6799 4.75998Z' fill='white'/%3E%3C/svg%3E%0A");
}
    
.copied-icon::after {
            display: inline-block;
            width: 22px;
            height: 22px;
            padding-left: 10px;
            vertical-align: top;
            content: url("data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 22 22' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.8681 7.1741L16.547 7.85294L9.07992 15.32L5.00698 11.247L5.68579 10.5682L9.07992 13.9623L15.8681 7.1741Z' fill='white'/%3E%3Cpath d='M10.9999 21.08C4.97481 21.08 0.919922 17.0251 0.919922 11C0.919922 4.97488 4.97481 0.919983 10.9999 0.919983C17.025 0.919983 21.0799 4.97488 21.0799 11C21.0799 17.0251 17.025 21.08 10.9999 21.08ZM10.9999 20.12C16.4948 20.12 20.1199 16.4949 20.1199 11C20.1199 5.50509 16.4948 1.87998 10.9999 1.87998C5.50503 1.87998 1.87992 5.50509 1.87992 11C1.87992 16.4949 5.50503 20.12 10.9999 20.12Z' fill='white'/%3E%3C/svg%3E%0A");
}
    
.tooltip {
            position: relative;
            display: inline-block;
}
    
.tooltip .tooltiptext {
            visibility: hidden;
            width: 6em;
            background-color: black;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            bottom: 200%;
            left: 50%;
            margin-left: -45px;
}
    
.tooltip .tooltiptext::after {
            content: " ";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: 20px;
            border-width: 5px;
            border-style: solid;
            border-color: black transparent transparent transparent;
}
    
@keyframes fadeInOutOpacity {
0% {
    opacity: 1;
}

100% {
    opacity: 0;
}
}
    
.tooltip .tooltiptext-copied {
    visibility: visible;
    opacity: 0;
    animation-name: fadeInOutOpacity;
    animation-iteration-count: 1;
    animation-timing-function: ease-in-out;
    animation-duration: 1s;
}

/* Media queries */
    
@media screen and (min-width: 30em) {
#qr-data {
     color: #fff;
     background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
	 border-radius: 15px;
}
    
#qr-code {
 border-color: white;
				
}

#qr-data-placa {
    color: #fff;
    background: linear-gradient(231deg, #ffa200, #ff5d00);
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    border-radius: 15px;
}
    
#qr-code-placa {
                border-color: white;
}
.copy-icon::after {
                display: inline-block;
                width: 22px;
                height: 22px;
                padding-left: 10px;
                vertical-align: top;
                margin-top: -5px;				
                content: url("data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 22 22' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20.1199 18.68C20.1199 19.8301 19.83 20.12 18.6799 20.12H7.15992C6.00984 20.12 5.71992 19.8301 5.71992 18.68V7.15998C5.71992 6.0099 6.00984 5.71998 7.15992 5.71998H18.6799C19.83 5.71998 20.1199 6.0099 20.1199 7.15998V18.68ZM4.75992 7.15998V16.28H3.31992C2.16984 16.28 1.87992 15.9901 1.87992 14.84V3.31998C1.87992 2.1699 2.16984 1.87998 3.31992 1.87998H14.8399C15.99 1.87998 16.2799 2.1699 16.2799 3.31998V4.75998H7.15992C5.47992 4.75998 4.75992 5.47998 4.75992 7.15998ZM18.6799 4.75998H17.2399V3.31998C17.2399 1.63998 16.5199 0.919983 14.8399 0.919983H3.31992C1.63992 0.919983 0.919922 1.63998 0.919922 3.31998V14.84C0.919922 16.52 1.63992 17.24 3.31992 17.24H4.75992V18.68C4.75992 20.36 5.47992 21.08 7.15992 21.08H18.6799C20.3599 21.08 21.0799 20.36 21.0799 18.68V7.15998C21.0799 5.47998 20.3599 4.75998 18.6799 4.75998Z' fill='white'/%3E%3C/svg%3E%0A");
}

.copied-icon::after {
                display: inline-block;
                width: 22px;
                height: 22px;
                padding-left: 10px;
                vertical-align: top;
				content: url("data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 22 22' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.8681 7.1741L16.547 7.85294L9.07992 15.32L5.00698 11.247L5.68579 10.5682L9.07992 13.9623L15.8681 7.1741Z' fill='white'/%3E%3Cpath d='M10.9999 21.08C4.97481 21.08 0.919922 17.0251 0.919922 11C0.919922 4.97488 4.97481 0.919983 10.9999 0.919983C17.025 0.919983 21.0799 4.97488 21.0799 11C21.0799 17.0251 17.025 21.08 10.9999 21.08ZM10.9999 20.12C16.4948 20.12 20.1199 16.4949 20.1199 11C20.1199 5.50509 16.4948 1.87998 10.9999 1.87998C5.50503 1.87998 1.87992 5.50509 1.87992 11C1.87992 16.4949 5.50503 20.12 10.9999 20.12Z' fill='white'/%3E%3C/svg%3E%0A");
}
    
.tooltip {
    position: relative;
    display: inline-block;
}

.tooltip .tooltiptext {
    visibility: hidden;
    width: 120px;
    background-color: black;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    position: absolute;
    z-index: 1;
    bottom: 180%;
    left: 150%;
    margin-left: -40px;
}

.tooltip .tooltiptext::after {
    content: " ";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: black transparent transparent transparent;
}

.tooltip .tooltiptext-copied {
    visibility: visible;
    opacity: 0;
    animation-name: fadeInOutOpacity;
    animation-iteration-count: 1;
    animation-timing-function: ease-in-out;
    animation-duration: 1s;
}
}
	
    /* Criado QR */


.cliqueBtnplaca {
    padding: 8px 54px;
    font-size: 20px;
    transform: skewX(-15deg);
    background: linear-gradient(231deg, #0003ffe0, #ff0000e0);
    box-shadow: 0 0 15px #000;
    border: none;
    cursor: pointer;
}
.cliqueBtnplaca:focus {
   outline: none; 
}
.cliqueBtnplaca:hover {
    transition: 0.5s;
    color: #fff;
    box-shadow: 0 0 15px #0afc00d1;
}
.cliqueBtnplaca span:nth-child(2) {
    transition: 0.5s;
    margin-right: 0px;
}

.cliqueBtnplaca:hover  span:nth-child(2) {
    transition: 0.5s;
}
.cliqueBtnplaca:before {
    content: '';
    background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
    position: absolute;
    top: -2px;
    left: -2px;
    background-size: 400%;
    z-index: -1;
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    animation: glowing 20s linear infinite;
    opacity: 0;
    transition: opacity .3s ease-in-out;
}
.cliqueBtnplaca:active {
    color: #000
}
.cliqueBtnplaca:active:after {
    background: transparent;
}
.cliqueBtnplaca:hover:before {
    opacity: 1;
}

.caixatex {
    max-width: 600px;
    margin: 0 auto;
    background: #000000c9;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 10px rgb(0 0 0);
	
}

.floating-label {
    position: relative;
    margin-bottom: 21px;
	text-align: left;
}

.floating-label input {
    border: none;
    border-bottom: 2px solid #ff3900;
	margin-bottom: 13px;
    padding: 8px;
    width: 100%;
    box-sizing: border-box;
    transition: border-bottom-color 0.3s ease;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    box-shadow: 0 0 15px #ff6700;
 transform: skewX(-15deg);
}

.floating-label label {
    position: absolute;
    pointer-events: none;
    left: 8px;
    top: 12px;
    transition: top 0.3s ease, font-size 0.3s ease;
    font-size: 10px;
    color: #fff;
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
}

.floating-label input:focus {
 outline: none;
 border-bottom-color: #036306bd;
 background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
 background-size: 400%;
 width: calc(100% + 4px);
 animation: glowing 20s linear infinite;
 box-shadow: 0 0 15px #0afc00d1;
}

.floating-label input:focus + label,
.floating-label input:not(:placeholder-shown) + label {
    top: -35px;
    font-size: 12px;
    color: #fff;
    background: linear-gradient(226deg, #00ff14bd, #036306bd);
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
    box-shadow: 0 0 15px #0afc00d1;
}

h1 {
      text-align: center;
      margin-bottom: 20px;
}
	
.dados {
    text-align: center;
    color: #fff;
    width: 500px;
    margin-bottom: 20px;
    margin-right: 10px;
    margin-left: 10px;
}

.hidden {
      display: none;
}
.CarrengandoQR{
    animation: spin 2s ease-in-out infinite;
    width: 9.5rem;
	max-width: 100%; /* Garante que a imagem não ultrapasse a largura da div pai */
    height: auto; /* Mantém a proporção da imagem */
}
.loading-img {
    text-align: center;
    margin-bottom: 0.7rem;
    display: flex;
    justify-content: space-evenly;
    align-content: stretch;
    flex-wrap: nowrap;
    flex-direction: row;
    align-items: stretch;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.infor {
    color: #960000;
    font-size: 9px;
}
.showError {
    color: white;
    font-weight: bold;
    font-size: 14px;
    margin-top: 5px;
    border: none;
    border-bottom: 2px solid #ff0000;
    padding: 8px;
    box-sizing: border-box;
    transition: border-bottom-color 0.3s ease;
    border-radius: 15px;
    background: linear-gradient(226deg, #c90000bd, #ff0000cf);
    box-shadow: 0 0 15px #ff0000;
    display: none;
}

.cliqueBtn {
    padding: 8px 54px;
    font-size: 20px;
    transform: skewX(-15deg);
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    box-shadow: 0 0 15px #ff6700;
    border: none;
    cursor: pointer;
}
.cliqueBtn:focus {
   outline: none; 
}
.cliqueBtn:hover {
    transition: 0.5s;
    color: #fff;
    box-shadow: 0 0 15px #0afc00d1;
}
.cliqueBtn span:nth-child(2) {
    transition: 0.5s;
    margin-right: 0px;
}

.cliqueBtn:hover  span:nth-child(2) {
    transition: 0.5s;
}
.cliqueBtn:before {
    content: '';
    background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
    position: absolute;
    top: -2px;
    left: -2px;
    background-size: 400%;
    z-index: -1;
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    animation: glowing 20s linear infinite;
    opacity: 0;
    transition: opacity .3s ease-in-out;
}
.cliqueBtn:active {
    color: #000
}
.cliqueBtn:active:after {
    background: transparent;
}
.cliqueBtn:hover:before {
    opacity: 1;
}

@keyframes glowing {
    0% { background-position: 0 0; }
    50% { background-position: 400% 0; }
    100% { background-position: 0 0; }
}

.show-share .StickyBox {
    opacity: 1;
    visibility: visible;
    transform: translate3d(0,0,0);
}
.overlay {
    backdrop-filter: saturate(50%) blur(2.0px);
}
.minhalogo {
    display: flex;
    justify-content: center;
}
.tituloh2{
    color: #fff;
    font-size: 15px;
    font-weight: bold;
    text-align: center;
    margin-bottom: 46px;
    border: none;
    border-bottom: 8px solid #5cff00;
    padding: 8px;
    width: 100%;
    box-sizing: border-box;
    transition: border-bottom-color 0.3s ease;
}
#compartilhar {
display: none;
}
.meuslinks {
    cursor: pointer;
    color: #fff;
    font-weight: bold;
    border-bottom: 2px solid #c9840a;
}

.links-style {
background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    box-shadow: 0 0 15px #ff6700;
    border-radius: 15px;
    margin-top: 10px;
}

.fechalinks {
    cursor: pointer;
}
#minhavenda {
    background: #000000c9;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 10px rgb(0 0 0);
}


#links-container {
    background: #000000c9;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 10px rgb(0 0 0);
}

/* Estilos específicos para telas pequenas (celular) */
@media (max-width: 768px) {
  .open-link,
  .share-link,
  .delete-link {
    font-size: 12px; /* Reduzir o tamanho da fonte */
    padding: 6px 12px; /* Reduzir o padding */
  }
}
ul {
      list-style-type: none;
      padding: 0;
    }

    .link-item {
    display: flex;
    justify-content: center;
    color: #fff;
    font-size: 19px;
    font-weight: bold;
    margin-bottom: 6px;
    border: none;
    border-bottom: 2px solid #0d9475;
    padding: 8px;
    }

    .link-actions {
      display: flex;
    flex-direction: row;
    border-right-width: 8px;
    justify-content: center;
    align-items: center;
    }

.links-header {
    display: flex;
    align-content: flex-start;
    justify-content: flex-start;
    align-items: center;
}

.links-header svg {
    margin-right: 14px
}

.links-header h1 {
    color: #fff
}

.links-item {
    flex-direction: row;
    margin-top: 8px;
    justify-content: center;
    align-items: center;
}

.links-item:last-child {
    margin-bottom: 18px
}

.link-delete {
    background: transparent;
    border: none;
    transition: -webkit-transform .5s;
    transition: transform .5s;
    transition: transform .5s,-webkit-transform .5s
}

.link-delete:hover {
    -webkit-transform: scale(1.15);
    transform: scale(1.15)
}
#anterior-aba, #proxima-aba {
  background-color: #4CAF50; /* Cor de fundo verde */
  border: none;
  color: white; /* Texto branco */
  padding: 10px 20px; /* Espaçamento interno */
  text-align: center; /* Texto centralizado */
  text-decoration: none; /* Sem sublinhado */
  display: inline-block; /* Exibe como bloco inline */
  font-size: 16px; /* Tamanho da fonte */
  margin: 4px 2px; /* Margens */
  cursor: pointer; /* Cursor de ponteiro */
  border-radius: 5px; /* Bordas arredondadas */
}

.botoes-navegacao {
  display: flex;
  justify-content: center; /* Alinha os botões no centro */
  margin: 20px 0; /* Adiciona margem superior e inferior */
}

.botoes-navegacao button {
  margin: 0 10px; /* Adiciona margem lateral entre os botões */
  padding: 10px 20px; /* Adiciona espaçamento interno */
  border: none;
  border-radius: 5px; /* Arredonda as bordas */
  background-color: #4CAF50; /* Define a cor de fundo */
  color: white; /* Define a cor do texto */
  font-size: 16px; /* Define o tamanho da fonte */
  cursor: pointer; /* Define o cursor como ponteiro ao passar o mouse */
}

.botoes-navegacao button:hover {
  background-color: #3e8e41; /* Altera a cor de fundo ao passar o mouse */
}

input[type="file"], input[type="color"], .god {
    border-radius: 5px;
    padding: 5px;
    font-family: inherit;
    font-size: 100%;
    color: #fff;
    font-weight: 600;
    border: none;
    border-bottom: 2px solid #ffffff;
    margin-bottom: 10px;
    background: linear-gradient(231deg, #ffa000, #ff5e00);
    box-shadow: 0 0 15px #ff7d00;
    transform: skewX(-15deg);
}

.input-wrapper, .upload-wrapper, .upload-logo-qr {
    display: flex;
    align-items: center;
}

#link-imagem, #imagem-upload {
    flex: 1;
}

#clear-link, #clear-upload, #upload-logo-qr {
            display: none; /* Escondido por padrão */
            margin-left: 5px;
            background-color: red;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
}
		
#clear-link:hover, #clear-upload:hover, #upload-logo-qr:hover {
    background-color: darkred;
}

.floating-placa {
    position: relative;
    margin-bottom: 14px;
	text-align: left;
}

.floating-placa input {
    border: none;
    border-bottom: 2px solid #ff3900;
	margin-bottom: 13px;
    padding: 8px;
    width: 100%;
    box-sizing: border-box;
    transition: border-bottom-color 0.3s ease;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    box-shadow: 0 0 15px #ff6700;
 transform: skewX(-15deg);
}

.floating-placa label {
    position: absolute;
    pointer-events: none;
    left: 8px;
    top: 12px;
    transition: top 0.3s ease, font-size 0.3s ease;
    font-size: 10px;
    color: #fff;
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
}

.floating-placa input:focus {
 outline: none;
 border-bottom-color: #036306bd;
 background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
 background-size: 400%;
 width: calc(100% + 4px);
 animation: glowing 20s linear infinite;
 box-shadow: 0 0 15px #0afc00d1;
}

.floating-placa input:focus + label,
.floating-placa input:not(:placeholder-shown) + label {
    top: -19px;
    color: #fff;
    background: linear-gradient(226deg, #00ff14bd, #036306bd);
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
    box-shadow: 0 0 15px #0afc00d1;
}
.tamanhoimagem {
width: 84%;
}

h1 {
    font-size: 2em;
    margin-bottom: 20px;
}

/* Form Styling */
#pix-form {
    margin-bottom: 20px;
}

#pix-form label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

#pix-form input {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-sizing: border-box;
}

/* Keypad Styling */
.keypad {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.keypad-button {
  padding: 20px;
    font-size: 1.5em;
    background: linear-gradient(47deg, #ffa200e0, #ff5d00e0);
    border: none;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 0 15px #fff3;
}

.keypad-button.backspace {
  background: linear-gradient(50deg, #560000, #ff0000, #4b0000);
  box-shadow: 0 0 8px #c00000;
}

.keypad-button.enter {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
    color: white;
}

.keypad-button:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 9px #05a581;
}

/* Button Group Styling */
.button-group {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
}

.button-group button {
    padding: 10px 20px;
}


/* Transaction History Styling */
.transaction-history {
    text-align: left; 
    margin-bottom: 20px;
}

.transaction-history h2 {
    margin-bottom: 10px;
    text-align: center;
}

#history-list {
  margin: 10px 0;
    max-height: 500px;
    overflow-y: auto;
    padding: 10px;
    border-radius: 5px;
}

.history-entry {
  display: flex;
    padding: 6px;
    border-bottom: 1px solid #eee;
    flex-direction: column;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    box-shadow: 0 0 15px #ff6700;
    border-radius: 15px;
    text-align: center;
    justify-content: center;
    margin-bottom: 10px;
}

.history-entry:last-child { 
    border-bottom: none; 
}

.delete-transaction {
  background: linear-gradient(308deg, #560000, #ff0000, #4b0000);
    font-size: 14px;
    margin: 4px;
    box-shadow: 0 0 8px #c00000;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    margin-left: 5px;
}

.delete-transaction:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}

.cancel-products {
  background: linear-gradient(308deg, #560000, #ff0000, #4b0000);
    color: #fff;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    margin: 4px;
    box-shadow: 0 0 8px #c00000;
}

.cancel-products:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}

/* Modal Styles */
.modal-vendas {
  display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0 0 0 / 40%);
}

.modal-contentvenda {
    margin: 8% auto;
    padding: 20px;
    box-shadow: 0 0 15px #ff6700;
    max-width: 400px;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    border-radius: 15px;
}

.close-button {
    color: #ffffff;
    float: right;
    font-size: 35px;
    font-weight: bold;
    cursor: pointer;
}


#productModal h2 {
    margin-bottom: 15px;
    color: #ffffff; /* Azul (primary) */
}

#product-form label {
    display: block; 
    margin-bottom: 5px;
    font-weight: bold;
}


#product-form input:focus + label,
#product-form input:not(:placeholder-shown) + label {
    top: -20px;
    font-size: 12px;
    color: #fff;
    background: linear-gradient(226deg, #00ff14bd, #036306bd);
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
    box-shadow: 0 0 15px #0afc00d1;
}

#product-form input[type="text"], 
#product-form input[type="number"] {
  width: 100%;
    padding: 8px;
    border-radius: 5px;
    box-sizing: border-box;
    margin-bottom: 10px;
    background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    box-shadow: 0 0 15px #0081ff;
    border-bottom: 2px solid #ffffff;
}

#product-form input:focus {
 outline: none;
 border-bottom-color: #036306bd;
 background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
 background-size: 400%;
 width: calc(100% + 4px);
 animation: glowing 20s linear infinite;
 box-shadow: 0 0 8px #05a581;
}

/* Product List in Modal */
.product-entry {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
    border-bottom: 1px solid #eee;
}

.product-entry:last-child {
    border-bottom: none; 
}

.quantity-controls {
    display: flex;
    align-items: center;
}

.quantity-controls button {
  background: none;
    border: none;
    cursor: pointer;
    color: #fff;
}

.quantity-controls span {
    margin: 0 10px;
    font-size: 1em;
}

/* Modal Buttons */
.modal-buttons {
  display: flex;
  justify-content: center;
}

.modal-buttons button {
    width: 48%;
}

/* Estilos para a tela de pagamento */
#paymentModal .payment-modal {
    text-align: center;
}

#paymentModal h2 {
    margin-bottom: 20px;
    color: #ffffff;
}

#payment-details {
    text-align: left; 
    margin-bottom: 20px;
}

#payment-details h3 {
  margin-bottom: 10px;
    color: #fff;
    text-align: center;
}

#product-list-modal {
    list-style: none;
    padding: 0;
}

#product-list-modal li {
    margin-bottom: 5px;
}

#payment-details strong {
    font-size: 1.2em;
}

/* Estilos para a seção de pagamentos pendentes */
.pending-transactions {
    text-align: left;
    margin-bottom: 20px;
}

.pending-transactions h2 {
    margin-bottom: 10px;
}

#devendo-list {
    margin: 10px 0;
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #ccc;
    padding: 10px;
    border-radius: 5px;
}

.confirm-payment { /* Estilo para o botão "Confirmar Pagamento" */
background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 0 8px #0081ff;
    margin-right: 5px;
}

.confirm-payment:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}

#qr-minha-venda {
  mix-blend-mode: normal;
    background: linear-gradient(47deg, #206958, #05a581, #206958);
    box-shadow: 0 0 15px #05a581;
}

.botao-compartilhar-vendas {
  background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    color: white;
    border: none;
    padding: 12px 0px;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 0 8px #0081ff;
    margin-left: 5px;
}

.botao-compartilhar-vendas:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}

/* Estilos gerais para os botões */
.open-link,
.share-link {
  background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    color: #fff;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    margin: 4px;
    box-shadow: 0 0 8px #0081ff;
}

/* Hover effect */
.open-link:hover,
.share-link:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}
.delete-link {
  background: linear-gradient(308deg, #560000, #ff0000, #4b0000);
    color: #fff;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    margin: 4px;
    box-shadow: 0 0 8px #c00000;
    }

.delete-link:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}

.Btnvendas {
  transform: skewX(-15deg);
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    box-shadow: 0 0 15px #ff6700;
    border: none;
    cursor: pointer;
}
.Btnvendas:focus {
   outline: none; 
}
.Btnvendas:hover {
    transition: 0.5s;
    color: #fff;
    box-shadow: 0 0 15px #0afc00d1;
}
.Btnvendas span:nth-child(2) {
    transition: 0.5s;
    margin-right: 0px;
}

.Btnvendas:hover  span:nth-child(2) {
    transition: 0.5s;
}
.Btnvendas:before {
    content: '';
    background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
    position: absolute;
    top: -2px;
    left: -2px;
    background-size: 400%;
    z-index: -1;
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    opacity: 0;
    transition: opacity .3s ease-in-out;
}
.Btnvendas:active {
    color: #000
}
.Btnvendas:active:after {
    background: transparent;
}
.Btnvendas:hover:before {
    opacity: 1;
}

#edit-form input:focus + label,
#edit-form input:not(:placeholder-shown) + label {
    top: -20px;
    font-size: 12px;
    color: #fff;
    background: linear-gradient(226deg, #00ff14bd, #036306bd);
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
    box-shadow: 0 0 15px #0afc00d1;
}

#edit-form input[type="text"], 
#edit-form input[type="number"] {
  width: 100%;
    padding: 8px;
    border-radius: 5px;
    box-sizing: border-box;
    margin-bottom: 10px;
    background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    box-shadow: 0 0 15px #0081ff;
    border-bottom: 2px solid #ffffff;
}

#edit-form input:focus {
 outline: none;
 border-bottom-color: #036306bd;
 background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
 background-size: 400%;
 width: calc(100% + 4px);
 animation: glowing 20s linear infinite;
 box-shadow: 0 0 8px #05a581;
}
.modal-content-editar {
  margin: 8% auto;
    padding: 20px;
    box-shadow: 0 0 15px #ff6700;
    max-width: 400px;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    border-radius: 15px;
    
}
#modal-editar {
  display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    margin-bottom: 15px;
    color: #ffffff;
    z-index: 999;
    }
.edit-product { /* Estilo para o botão "Confirmar Pagamento" */
background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 0 8px #0081ff;
    margin-right: 5px;
}

.edit-product:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}
.cancelar-editar {
  background: linear-gradient(308deg, #560000, #ff0000, #4b0000);
    font-size: 14px;
    margin: 4px;
    box-shadow: 0 0 8px #c00000;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    margin-left: 5px;
}

.cancelar-editar:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}
.atualizar-produto { /* Estilo para o botão "Confirmar Pagamento" */
background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 0 8px #0081ff;
    margin-right: 5px;
}

.atualizar-produto:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}
.fundoplaca {
    background: #000000c9;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 10px rgb(0 0 0);
}
#cor-fundo-placa {
    display: none;
}
.modalagendamento {
  display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0 0 0 / 40%);
}
.modalagendamento-close-button {
    color: #ffffff;
    float: right;
    font-size: 35px;
    font-weight: bold;
    cursor: pointer;
}
.modalConfirm { /* Estilo para o botão "Confirmar Pagamento" */
background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 0 8px #0081ff;
    margin-right: 5px;
}

.modalConfirm:hover {
  background: linear-gradient(47deg, #206958, #05a581, #206958);
  box-shadow: 0 0 15px #05a581;
}
#Error-nome-agendamento {
    color: red;
    margin-top: 10px;
}
#clienteNome-form label {
    display: block; 
    margin-bottom: 5px;
    font-weight: bold;
}


#clienteNome-form input:focus + label,
#clienteNome-form input:not(:placeholder-shown) + label {
    top: -20px;
    font-size: 12px;
    color: #fff;
    background: linear-gradient(226deg, #00ff14bd, #036306bd);
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
    box-shadow: 0 0 15px #0afc00d1;
}

#clienteNome-form input[type="text"], 
#clienteNome-form input[type="number"] {
  width: 100%;
    padding: 8px;
    border-radius: 5px;
    box-sizing: border-box;
    margin-bottom: 10px;
    background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    box-shadow: 0 0 15px #0081ff;
    border-bottom: 2px solid #ffffff;
}

#clienteNome-form input:focus {
 outline: none;
 border-bottom-color: #036306bd;
 background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
 background-size: 400%;
 width: calc(100% + 4px);
 animation: glowing 20s linear infinite;
 box-shadow: 0 0 8px #05a581;
}

.floating-label-clienteNome {
    position: relative;
    margin-bottom: 21px;
	text-align: left;
}

.floating-label-clienteNome input {
  border: none;
    width: 100%;
    padding: 8px;
    border-radius: 5px;
    box-sizing: border-box;
    margin-bottom: 10px;
    background: linear-gradient(47deg, #0081ff, #4800ff, #00a4ff);
    box-shadow: 0 0 15px #0081ff;
    border-bottom: 2px solid #ffffff;
}

.floating-label-clienteNome label {
    position: absolute;
    pointer-events: none;
    left: 8px;
    top: 12px;
    transition: top 0.3s ease, font-size 0.3s ease;
    font-size: 10px;
    color: #fff;
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
}

.floating-label-clienteNome input:focus {
 outline: none;
 border-bottom-color: #036306bd;
 background: linear-gradient(267deg, #206958, #05a581, #206958, #05a581, #206958);
 background-size: 400%;
 width: calc(100% + 4px);
 animation: glowing 20s linear infinite;
 box-shadow: 0 0 15px #0afc00d1;
}

.floating-label-clienteNome input:focus + label,
.floating-label-clienteNome input:not(:placeholder-shown) + label {
    top: -35px;
    font-size: 12px;
    color: #fff;
    background: linear-gradient(226deg, #00ff14bd, #036306bd);
    border-radius: 15px;
    padding: 9px;
    padding-top: 0px;
    padding-bottom: 0px;
    margin-top: 0px;
    box-shadow: 0 0 15px #0afc00d1;
}

.keypad-button.enter {
  grid-column: span 3;
}

#valordopagamentos {
  font-family: 'Arial', sans-serif; 
  font-size: 1.2em; 
  font-weight: bold; 
  color: #27ae60; 
  text-align: center; 
  display: block; 
  margin: 20px auto; 
  letter-spacing: 1px; 
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); 
  transition: color 0.3s ease-in-out;
}

#itemList {
    list-style-type: none;
    padding: 0;
    font-weight: 600;
}

#itemList li {
    padding: 10px;
    margin-bottom: 5px;
    border-radius: 5px;
    display: flex;
    align-items: center;
    gap: 10px;
    background: linear-gradient(24deg, #ff000078, #4800ff80);
    box-shadow: 0 0 8px rgb(0 0 0 / 41%);
}

#itemList li img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    object-fit: cover;
    box-shadow: 0 2px 5px rgb(0 0 0 / 81%);
}

#itemList li span {
    font-weight: bold;
}

#container {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
}
/* Estilo base para todos os valores do pedido */
.valor-pedido {
  display: block;
  margin-top: 11px;
  font-size: 18px;
  font-weight: 600;
  letter-spacing: 0.5px;
}

/* Desconto */
.valor-desconto {
    color: #ff0013;
    background: rgb(29 53 87 / 35%);
    border-radius: 8px;
    padding: 6px 10px;
    display: inline-block;
}

/* Subtotal */
.valor-subtotal {
  color: #ffffff; /* azul escuro */
  background: rgb(29 53 87 / 35%);
  border-radius: 8px;
  padding: 6px 10px;
  display: inline-block;
}

/* Entrega */
.valor-entrega {
  color: #002fff; /* azul médio */
    background: rgb(29 53 87 / 35%);
  border-radius: 8px;
  padding: 6px 10px;
  display: inline-block;
}

/* Total Final */
.valor-total {
  color: #2a9d8f; /* verde destaque */
  background: rgba(42, 157, 143, 0.1);
  font-size: 1.3rem;
  font-weight: 700;
  border-radius: 10px;
  padding: 8px 14px;
  margin-top: 12px;
  display: inline-block;
}
</style>
</head>

<body id="desfocfundo">

<div class="loading-img overlay" id="Carregando"></div>

<div id="modal" class="modal">
  <div class="modal-content">
    <p id="Error"></p>
    <button class="modal-btn" onclick="fecharModal()">Fechar</button>
  </div>
</div>

<div id="modal-salvapix" class="modal-salva">
  <div class="modal-content-salva">
    <div class="StickyTab">
    <div class="StickyType"></div>
    <label class=" " id="close-check" onclick="fecharsalvapix()">
        <i class="far fa-window-close"></i>
    </label>
    </div>
	<div class="floating-label">
         <input type="text" id="titulo" placeholder=""  maxlength="40">
		 <label for="titulo" >Titulo do Seu Pix:<b><span class="infor"> Ex: Meu Pix de R$ 50,00</span></b></label>
		 </div>
    <button class="cliqueBtn" onclick="salvameupix()">Adiciona titulo</button>
  </div>
</div>

<div class="dados">
	<h1>Gerador de QR Code Pix</h1>

  <div id="modal-editar" class="modal" aria-hidden="true">
    <div class="modal-content-editar">
      <span class="close-button" onclick="fechareditform()">×</span>
              <h2>Atualizar Produto</h2>
      <form id="edit-form">
        <div class="floating-label">
          <label for="edit-name">Nome do Produto:</label>
          <input type="text" id="edit-name" required />
        </div>
        <div class="floating-label">
          <label for="edit-price">Preço do Produto:</label>
          <input type="text" id="edit-price" placeholder="" oninput="amount(this)" required>
        </div>
      <button type="submit" class="atualizar-produto">Atualizar</button>
      </form>
    </div>
  </div>

  <div id="minhavenda" style="display: none;">
    <div class="links-container">
    <div class="links-header">
    <a class="fechalinks" onclick="mostrarLinks()"> <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" color="#fff" height="38" width="38" xmlns="http://www.w3.org/2000/svg" style="color: rgb(255, 255, 255);"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg></a>
    <h1>Minha Vendas</h1>
    </div>
    
    <div class="menuvendas"></div>
    
    <div class="rodape-div-4-coluna">
               <!-- elemento -->
               <span><b>Atenção!</b></span>
               <p>Seus dados serão armazenados localmente no seu navegador. Eles não serão compartilhados ou enviados para servidores externos.</p>
           </div>
    </div>
</div>

	 <div id="links-container" style="display: none;">
	   <div class="links-container">
	   <div class="links-header">
	   <a class="fechalinks" onclick="fechalinks()"> <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" color="#fff" height="38" width="38" xmlns="http://www.w3.org/2000/svg" style="color: rgb(255, 255, 255);"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg></a>
	   <h1>Meus Links Pix</h1>
	   </div>
	   
	   <div class="links-item"><ul id="lista-links"></ul></div>
	   
	   <div class="rodape-div-4-coluna">
                <!-- elemento -->
                <span><b>Atenção!</b></span>
                <p>Seus dados serão armazenados localmente no seu navegador. Eles não serão compartilhados ou enviados para servidores externos.</p>
            </div>
	   </div>
</div>

		 <div class="show-share">
      <div id="compartilhar" class="">
            <div class="StickyBox" id="mainContent">
					  <div class="loading-img overlay" id="CarregaCompartilhar"></div>
                    <div class="StickyDemo" style="display: none;">
                        <div class="StickyTab">
                            <div class="StickyType">Compartilhar com outros aplicativos</div>
                            <span class="close-button" aria-label="Fechar Modal" onclick="closecompartilhar()">×</span>
                        </div>
                        <div class="share-wrapper-icons colorful colorful-ico">
                            <li class="twitter">
                                <a class="twitter" data-height="460" onclick="compartilharlink('https://twitter.com/intent/tweet?text=Meu Pix&url=')" data-width="550" rel="nofollow" title="Twitter">Twitter</a>
                            </li>
                            <li class="telegram">
                                <a class="telegram" data-height="460" data-width="550" onclick="compartilharlink('https://telegram.me/share/url?text=Meu Pix&url=')" rel="nofollow" title="Telegram">Telegram</a>
                            </li>
                            <li class="whatsapp">
                                <a class="whatsapp" data-height="650" data-width="550" onclick="compartilharlink('https://api.whatsapp.com/send?text=')" rel="nofollow" title="Whatsapp">Whatsapp</a>
                            </li>
                            <li class="facebook-f">
                                <a class="facebook" data-height="650" data-width="550" onclick="compartilharlink('https://www.facebook.com/sharer.php?u=')" rel="nofollow" title="Facebook">Facebook</a>
                            </li>
							<li>
							<a  data-height="460" data-width="550" onclick="Compartilhamentos()" title="outros Compartilhamentos"><img class="Compartilhamentos"/>Outros</a>
                            </li>
                            <li class="email">
                                <a class="email" data-height="460" data-width="550" onclick="compartilharlink('mailto:?subject=Meu Pix&body=')" rel="nofollow" title="Email">Email</a>
                            </li>
							<li>
							<a  data-height="460" data-width="550" onclick="LinkCurto()" title="Gerador Por https://is.gd/"><img class="logois"/>Link Curto</a> 
                            </li>
                        </div>

                <span class="title">Link curto</span>
                
                <div class="copy-section">
						    <div id="telacopiado" class="modal">
                  <div class="modal-content">
						      <h3  class="notificatextocopiado">
						      <b><span id="titulocopiado"></span><br /></b></h3>
						      <span class="texocopiado" id="textocopiado"></span>					 
						      </div>
						    </div>
                
						    <div class="copy-post">
						      <input id="linkcurto" onclick="copiarLinkCurto()"></input>
						    </div><br />
						    <span class="title">Link com os parâmentos</span>
						    <div class="copy-post">
						      <input id="urlpix" onclick="copiaurlpix()"></input>
						    </div><br />
						    <span class="title">Seu Link pix codificador</span>
						    <div class="copy-post">
						       <input id="linkcodificador" onclick="copiaLink()"></input>
						    </div><br />	
						    <span class="title">Salva seu pix</span>
						    <div class="copy-post">
						       <input id="salva-meu-pix" onclick="copiameulinkpix()"></input>
						    </div><br />							
				       </div>
                    </div>
                </div>
           </div>
     </div> 

<div class="caixatex"> 
         <h2 class="tituloh2">Dados Pix</h2>
		 <div class="floating-label">
         <input type="text" id="pixkey" placeholder="">
         <label for="pixkey">Chave Pix:<b><span class="infor">* E-mail CPF CNPJ Chave aleatória Telefone:+5591900000000</span></b></label>
		 </div><br />
		 
		 <div class="floating-label">
         <input type="text" id="description" placeholder=""  maxlength="28">
         <label for="description">mensagem no Pagamento: <b><span class="infor">(até 28 letras)</span></b></label>
		 </div><br />
		 
		 <div class="floating-label">
         <input type="text" id="merchantName" placeholder=""  maxlength="25"> 
         <label for="merchantName">Nome do Beneficiado: <b><span class="infor">* (até 25 letras)</span></b></label>
		 </div><br />
		 
		 <div class="floating-label">
         <input type="text" id="merchantCity" placeholder=""  maxlength="15">
         <label for="merchantCity">Cidade do Beneficiado:<b><span class="infor">* (até 15 letras)</span></b></label>
		 </div><br />
		 
		 <div class="floating-label">
         <input type="text" id="txid" placeholder=""  maxlength="20">
		 <label for="txid" >Identificador da transação: <b><span class="infor">Sem espaços até 20 Letras e/ou caracteres especiais (ex: ç ã)</span></b></label>
		 </div><br />
		 
		 <div class="floating-label">
         <input type="text" id="amount" placeholder=" " oninput="amount(this)">
         <label for="amount">Valor: <b><span class="infor">R$ 1.000,00</span></b></label>
		 </div><br />
		 <div class="floating-label">
         <input type="text" id="banco" placeholder=" ">
		 <label for="banco">banco do Beneficiado:<b><span class="infor">*</span></b></label>
		 </div><br />
		 
		 <div class="floating-label">
         <input  type="text" id="whatsapp" name="whatsapp" placeholder=" " oninput="formatarTelefone(this)" maxlength="13">
         <label for="whatsapp">Whatsapp do Beneficiado: <b><span class="infor">Whatsapp:5591900000000 ou true = #BotaoEnviarComprovante</span></b></label>
		 </div><br />

		 <div class="floating-label">
         <input  type="text" id="documento" name="documento" placeholder=" " oninput="formatarDocumento(this)" maxlength="18">
		 <label for="documento">CPF ou CNPJ do Beneficiado: <b><span class="infor">* CPF:000.000.000-00 ou CNPJ:00.000.000/0000-00</span></b></label>
		 </div><br />

		 <div class="floating-label">
         <input type="text" id="botao-voltar" placeholder=" " oninput="botaovolta(this)">
         <label for="botao-voltar">Add Botão Voltar: <b><span class="infor">Link ou true = #BotaoVoltarPix</span></b></label>
		 </div><br />

		 <div class="floating-label">
		 <input type="text" id="add-logo" placeholder=" ">
		 <label for="add-logo">Add Logo: <b><span class="infor">Ex: https://meupix.github.io/logo.png (450x450)</span></b></label>
		 </div>
		 
		 <span class="showError" id="showError"></span><br />
		 
		 <button class="cliqueBtn" onclick="AbrirPixCriptografardo()">Gerar Pix</button><br /><br />
     <button class="cliqueBtn" onclick="MinhaVenda()">Minha Venda Pix</button><br /><br />
		 <button class="cliqueBtn" onclick="CompartilharPix()">Compartilhar Pix</button><br /><br />
		 <button class="cliqueBtn" onclick="criaplacapix()">Cria Placa Pix</button><br /><br />
		 <button class="cliqueBtn" onclick="salvameupix()">Salva Pix</button><br /><br />
		 <span onclick="mostrarLinks()" class="meuslinks">Meus Salvos</span>
</div> 
	
<footer class="rodape" id="contato">
    <div class="rodape-div">

        <div class="rodape-div-1">
            <div class="rodape-div-1-coluna">
                <!-- elemento -->
                <img src="pagamentos.files/imagens/logo-pix.png" alt="Meu Pix" title="Meu Pix" style="width: 130px;">
            </div>
        </div>

        <div class="rodape-div-1">
          <div class="colorful colorful-ico">
            <div class="github">
                <a href="https://github.com/meupix/meupix.github.io" class="github" data-height="460" data-width="550" rel="nofollow" title="github">github</a>
            </div>
        </div>
      </div>
        <div class="rodape-div-3">
            <div class="rodape-div-3-coluna">
             <span><b>Baixa HTML</b></span>
				     <p><a href="https://github.com/meupix/meupix.github.io/archive/refs/heads/main.zip" class="fechalinks">Download</a></p>
            </div>
        </div>
    </div>
	<div >
            <div class="rodape-div-4-coluna">
                <!-- elemento -->
                <span><b>Atenção!</b></span>
                <p> Antes de receber qualquer pagamento, verifique se todos os dados estão corretos e teste a leitura do QR Code. O site se isenta de qualquer responsabilidade pela exatidão e integridade das informações geradas.</p>
            </div>
        </div>
    <p class="rodape-direitos">©Meu Pix - 2024</p>
</footer>
</div>

<div class="qrcriado" style="display: none;">
    <div id="BotaoVoltar2" class="dn-l w-100 flex-ns flex-column pt4-ns pb4-ns ph5-ns ph3">
       <a onclick="Voltar();" class="Loja-button db tc no-underline br3 fw6  ttn-ns">&lt;</a>
	</div>
  <span style="display: none;" id="chave"></span>
	<span style="display: none;" id="qrpix" ></span>
	<span style="display: none;" id="valor"></span>
  <span style="display: none;" id="beneficiario"></span>
	<span style="display: none;" id="descricao"></span>
	<span style="display: none;" id="identificador"></span>
	<span style="display: none;" id="whatsapp"></span>
	<span style="display: none;" id="voltar"></span>
	
	 <main class="flex flex-column flex-row-l mw8 center mt5 ph0 pb0">
        <!-- LEFT SECTION -->
        <section class="fixed-l flex center pt6-l pt5 ph0-l ph3 measure-wide w-auto">
            <div class="flex flex-column justify-between mr6-l mb1">
			<div id="BotaoVoltar1" class="fw9 mt3-l dn db-l">
                <a onclick="Voltar();" class="Loja-button db tc no-underline br3 fw6 ttn-ns">&lt;</a>
            </div>
		    <div class="flex flex-column items-start" >
				<div id="logo" class="center flex-column items-start">
				<div id="minhalogo" class="minhalogo"></div>
                <h1 class="npurple-1 f2-ns f3 tl-l tc lh-headline mb0-l mb3-m mb4 fw8">Transfira <span id="valor1"></span> para <span id="nome1"></span>.</h1>
             </div>
            </div>
        </section>
    
        <section class="flex-l dn w-50"></section>
    
        <!-- RIGHT SECTION -->
        <section id="payment-info" class="tamanhoimagem center flex flex-column items-center tc mb5 mb7-l">
            <div id="qr-data" class="flex-ns flex-column pt4-ns pb4-ns ph5-ns ph3">
                <h3 class="f4 fw8 mb0">Use o QR Code do Pix para pagar</h3>
                <p class= "mb4 ph5-ns">Abra o app em que vai fazer a transferência, escaneie a imagem ou cole o código do QR Code</p>
                <canvas id="qr-code" class="ba pa2 br3 bw1 pa0-ns bw3-ns br3-ns center flex items-center justify-center overflow-hidden" height="270" width="270"></canvas>
                
                <div id="container">
                  <ul id="itemList"></ul>
                </div>

                <p class="f3">
                    <strong> <strong id="valor2"></strong></strong>
                </p>

                <a id="copy-qr" class="copy-button copy-icon db tc no-underline br3 fw6 ttn-ns" onclick="copiarqrpix();">Copiar QR Code</a>

                <div class="w-100 flex-ns flex-column ba-ns b--black-10 ph5-ns pt4-ns pt0 pb4" style="font-weight: 600;">
                  <p class="lh-copy tc center mb4 db-ns f5"><strong>Ou use a chave Pix</strong></p>
                  <div class="flex flex-column flex-nowrap w-100 f6-ns bt-ns b--black-10 pt4-ns mt5 mt0-ns">
  
                     <div id="copiarchavepix" class="flex flex-row justify-between w-auto pb3">
                         <span class="justify-start b tl">Chave Pix </span>
                         <span id="copy-chave" class="copy-icon-chave" onclick="copiarchavepix();">Copiar Chave PIX</span>
                     </div>
                      <div class="flex flex-row justify-between w-auto pb3">
                          <span class="justify-start b tl">Nome</span>
                          <span class="justify-end tr" id="nome2"></span>
                      </div>
                      <div class="flex flex-row justify-between w-auto pb3">
                          <span class="justify-start b tl" id="cpf-cnpj">CPF</span>
                          <span class="justify-end tr" id="cpf"></span>
                      </div>
                      <div class="flex flex-row justify-between w-auto pb3">
                          <span class="justify-start b tl">Banco</span>
                          <span class="justify-end tr" id="banco-do-beneficiario"></span>
                      </div>
                      <div id="infor-none" class="flex flex-row justify-between w-auto pb3">
                          <span class="justify-start b tl">Identificador</span>
                          <span class="justify-end tr" id="infor"></span>
                      </div>
                      <div id="mensagem-none" class="flex flex-row justify-between w-auto pb3">
                          <span class="justify-start b tl">mensagem</span>
                          <span class="justify-end tr" id="mensagem"></span>
                      </div><br />
                  </div>
              </div>
            </div>

            <div id="Botaowhat2" class="dn-l w-100 flex-ns flex-column pt4-ns pb4-ns ph5-ns ph3">
                <span class="comprovante-button db tc no-underline fw6 ttn-ns" onclick="EnviarComprovante();">Envia Comprovante <span class="logo-what"></span></span>
            </div>
            <div id="Botaowhat1" class="fw9 w-100 mt3-l db-l dn pt4-ns pb4-ns ph5-ns ph3">
                <span class="comprovante-button db tc no-underline fw6 ttn-ns" onclick="EnviarComprovante();">Envia Comprovante <span class="logo-what"></span></span>
            </div>

            <div id="Botaowhatpedido2" class="dn-l w-100 flex-ns flex-column pt4-ns pb4-ns ph5-ns ph3">
              <span class="comprovante-button db tc no-underline fw6 ttn-ns" onclick="EnviarPedido();">Envia pedido <span class="logo-what"></span></span>
          </div>
          <div id="Botaowhatpedido1" class="fw9 w-100 mt3-l db-l dn pt4-ns pb4-ns ph5-ns ph3">
              <span class="comprovante-button db tc no-underline fw6 ttn-ns" onclick="EnviarPedido();">Envia pedido <span class="logo-what"></span></span>
          </div>
			
<div id="whatswidget-pre-wrapper" class="">
    <div id="whatswidget-widget-wrapper" class="whatswidget-widget-wrapper" style="all:revert;">
        <div id="whatswidget-conversation" class="whatswidget-conversation" style="display: none;">
            <div class="whatswidget-conversation-header" style="all:revert;">
                <div id="whatswidget-conversation-title" class="whatswidget-conversation-title" style="all:revert;"><span id="nome3"></span></div>
            </div>
            <div id="whatswidget-conversation-message" class="whatswidget-conversation-message " style="all:revert;">Qualquer dúvida estou a disposição.</div>
            <div class="whatswidget-conversation-cta" style="all:revert; cursor: pointer;" >
                <a style="all:revert;" id="whatswidget-phone-desktop" onclick="AbrirWhatsapp();" class="whatswidget-cta whatswidget-cta-desktop">Enviar mensagem</a>
                <a id="whatswidget-phone-mobile" onclick="AbrirWhatsapp();" class="whatswidget-cta whatswidget-cta-mobile" style="all:revert;">Enviar mensagem</a>
            </div>
        </div>
        <div id="whatswidget-conversation-message-outer" class="whatswidget-conversation-message-outer" style="display: none;">
            <div id="whatswidget-text-header-outer" class="whatswidget-text-header-outer" style="all:revert;"><span id="nome4"></span></div>
            <br>
            <div id="whatswidget-text-message-outer" class="whatswidget-text-message-outer" style="all:revert;">Qualquer dúvida estou a disposição.</div>
        </div>
        <div class="whatswidget-button-wrapper" style="all:revert;">
            <div class="whatswidget-button" id="whatswidget-button" style="all:revert;">
                <div style="margin:0 auto;width:38.5px;all:revert;">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgba(255,255,255,1)"><path d="M7.25361 18.4944L7.97834 18.917C9.18909 19.623 10.5651 20 12.001 20C16.4193 20 20.001 16.4183 20.001 12C20.001 7.58172 16.4193 4 12.001 4C7.5827 4 4.00098 7.58172 4.00098 12C4.00098 13.4363 4.37821 14.8128 5.08466 16.0238L5.50704 16.7478L4.85355 19.1494L7.25361 18.4944ZM2.00516 22L3.35712 17.0315C2.49494 15.5536 2.00098 13.8345 2.00098 12C2.00098 6.47715 6.47813 2 12.001 2C17.5238 2 22.001 6.47715 22.001 12C22.001 17.5228 17.5238 22 12.001 22C10.1671 22 8.44851 21.5064 6.97086 20.6447L2.00516 22ZM8.39232 7.30833C8.5262 7.29892 8.66053 7.29748 8.79459 7.30402C8.84875 7.30758 8.90265 7.31384 8.95659 7.32007C9.11585 7.33846 9.29098 7.43545 9.34986 7.56894C9.64818 8.24536 9.93764 8.92565 10.2182 9.60963C10.2801 9.76062 10.2428 9.95633 10.125 10.1457C10.0652 10.2428 9.97128 10.379 9.86248 10.5183C9.74939 10.663 9.50599 10.9291 9.50599 10.9291C9.50599 10.9291 9.40738 11.0473 9.44455 11.1944C9.45903 11.25 9.50521 11.331 9.54708 11.3991C9.57027 11.4368 9.5918 11.4705 9.60577 11.4938C9.86169 11.9211 10.2057 12.3543 10.6259 12.7616C10.7463 12.8783 10.8631 12.9974 10.9887 13.108C11.457 13.5209 11.9868 13.8583 12.559 14.1082L12.5641 14.1105C12.6486 14.1469 12.692 14.1668 12.8157 14.2193C12.8781 14.2457 12.9419 14.2685 13.0074 14.2858C13.0311 14.292 13.0554 14.2955 13.0798 14.2972C13.2415 14.3069 13.335 14.2032 13.3749 14.1555C14.0984 13.279 14.1646 13.2218 14.1696 13.2222V13.2238C14.2647 13.1236 14.4142 13.0888 14.5476 13.097C14.6085 13.1007 14.6691 13.1124 14.7245 13.1377C15.2563 13.3803 16.1258 13.7587 16.1258 13.7587L16.7073 14.0201C16.8047 14.0671 16.8936 14.1778 16.8979 14.2854C16.9005 14.3523 16.9077 14.4603 16.8838 14.6579C16.8525 14.9166 16.7738 15.2281 16.6956 15.3913C16.6406 15.5058 16.5694 15.6074 16.4866 15.6934C16.3743 15.81 16.2909 15.8808 16.1559 15.9814C16.0737 16.0426 16.0311 16.0714 16.0311 16.0714C15.8922 16.159 15.8139 16.2028 15.6484 16.2909C15.391 16.428 15.1066 16.5068 14.8153 16.5218C14.6296 16.5313 14.4444 16.5447 14.2589 16.5347C14.2507 16.5342 13.6907 16.4482 13.6907 16.4482C12.2688 16.0742 10.9538 15.3736 9.85034 14.402C9.62473 14.2034 9.4155 13.9885 9.20194 13.7759C8.31288 12.8908 7.63982 11.9364 7.23169 11.0336C7.03043 10.5884 6.90299 10.1116 6.90098 9.62098C6.89729 9.01405 7.09599 8.4232 7.46569 7.94186C7.53857 7.84697 7.60774 7.74855 7.72709 7.63586C7.85348 7.51651 7.93392 7.45244 8.02057 7.40811C8.13607 7.34902 8.26293 7.31742 8.39232 7.30833Z"></path></svg> 
                </div>
            </div>
        </div>
    </div>
</div>
</section>
</main>
</div>
</div>
<script>

const urlParams = new URLSearchParams(window.location.search);

// Verifica se existem parâmetros na URL
if (!urlParams || urlParams.keys().next().done) {
    // Sem parâmetros encontrados, faça algo aqui (opcional)
} else {
    // Verifica se os parâmetros necessários estão presentes
    if (!urlParams.has('codepix') && !urlParams.has('chave') && !urlParams.has('schave') && !urlParams.has('criaplaca') && !urlParams.has('minhavenda')) {

        // Parâmetros não encontrados: exibe mensagem de erro
        $('#Error').text('Parâmetro não encontrado: &codepix= &chave= &schave= &criaplaca= &minhavenda=');
        $('#modal').css('display', 'flex');
        $('#desfocfundo').addClass('overlay');
        $('.dados').hide();
        $('#Carregando').html('<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-pix.png" alt="">');
    } else {
        // Parâmetros encontrados: inicia o processamento do pagamento
        $('#desfocfundo').addClass('overlay');
        $('.dados').hide();
        $('#Carregando').html('<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-pix.png" alt="">');
    }
}



function CompartilharPix() {
  // Obtém os valores dos campos do formulário
  const pixkey = document.getElementById('pixkey').value || '';
  const amount = document.getElementById('amount').value || '';
  const description = (document.getElementById('description').value).substring(0, 28) || '';
  const merchantName = (document.getElementById('merchantName').value).substring(0, 25) || '';
  const merchantCity = (document.getElementById('merchantCity').value).substring(0, 15) || '';
  const txid = (document.getElementById('txid').value).substring(0, 20) || '';
  const banco = document.getElementById('banco').value || '';
  const cpf = (document.getElementById('documento').value.replace(/\D/g, '')).substring(0, 18) || '';
  const whatsapp = document.getElementById('whatsapp').value || '';
  const voltar = document.getElementById('botao-voltar').value || '';
  const minhalogo = document.getElementById('add-logo').value || '';

  // Verifica a presença de dados obrigatórios
  if (pixkey === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a chave Pix.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantName === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantCity === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a Cidade do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (banco === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do banco do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (cpf.length !== 11 && cpf.length !== 14) {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a CPF OU CNPJ do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  // Gera o link para compartilhar o PIX
  if (pixkey !== '' && merchantName !== '' && merchantCity !== '') {
    if (cpf.length === 11) {
      const CPFLink = LinkCPF(cpf); // Função para formatar CPF (não implementada aqui)
      const meupixsalvo = "?schave=" + pixkey + (amount ? "&valor=" + amount : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
      const textoOriginal = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
      const LinkCriptografado = btoa(textoOriginal); 
      GerarLinkCurto("https://meupix.github.io?codepix=" + encodeURIComponent(LinkCriptografado), "https://meupix.github.io?codepix=" + encodeURIComponent(LinkCriptografado)); // Função para gerar link curto (não implementada aqui)
      document.getElementById('linkcodificador').value = "https://meupix.github.io?codepix=" + encodeURIComponent(LinkCriptografado);
      document.getElementById('urlpix').value = "https://meupix.github.io" + textoOriginal.replace(/\ /g, '%20');
      document.getElementById('salva-meu-pix').value = "https://meupix.github.io" + meupixsalvo.replace(/\ /g, '%20');

    } else if (cpf.length === 14) {
      const meupixsalvo = "?schave=" + pixkey + (amount ? "&valor=" + amount : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
      const textoOriginal = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
      const LinkCriptografado = btoa(textoOriginal);
      GerarLinkCurto('https://meupix.github.io?codepix=' + encodeURIComponent(LinkCriptografado));
      document.getElementById('linkcodificador').value = "https://meupix.github.io?codepix=" + encodeURIComponent(LinkCriptografado);
      document.getElementById('urlpix').value = "https://meupix.github.io" + textoOriginal.replace(/\ /g, '%20');
      document.getElementById('salva-meu-pix').value = "https://meupix.github.io" + meupixsalvo.replace(/\ /g, '%20');
    }
  }

  // Exibe a seção de compartilhamento e carregamento
  $('#mainContent').addClass('overlay');
  $('#compartilhar').show(); 
  $('#close-check').show();
  $('#CarregaCompartilhar').show();
  $('#CarregaCompartilhar').html(`<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-compartilhar.png" alt="">`);
  //setTimeout(() => { $('.StickyDemo').show(); $('#CarregaCompartilhar').hide();}, 2000);
}
function AbrirPixCriptografardo() {
  // Obtém os valores dos campos do formulário
  const pixkey = document.getElementById('pixkey').value || '';
  const amount = document.getElementById('amount').value || '';
  const description = (document.getElementById('description').value).substring(0, 28) || '';
  const merchantName = (document.getElementById('merchantName').value).substring(0, 25) || '';
  const merchantCity = (document.getElementById('merchantCity').value).substring(0, 15) || '';
  const txid = (document.getElementById('txid').value).substring(0, 20) || '';
  const banco = document.getElementById('banco').value || '';
  const cpf = (document.getElementById('documento').value.replace(/\D/g, '')).substring(0, 18) || '';
  const whatsapp = document.getElementById('whatsapp').value || '';
  const voltar = document.getElementById('botao-voltar').value || '';
  const minhalogo = document.getElementById('add-logo').value || '';

  // Verifica a presença de dados obrigatórios
  if (pixkey === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a chave Pix.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantName === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantCity === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a Cidade do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (banco === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do banco do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (cpf.length !== 11 && cpf.length !== 14) {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a CPF OU CNPJ do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }


if (pixkey !== '' && merchantName !== '' && merchantCity !== '') {
    let meupixsalvo;
    let textoOriginal;
    if (cpf.length === 11) {
      const CPFLink = LinkCPF(cpf); 
      meupixsalvo = "?schave=" + pixkey + (amount ? "&valor=" + amount : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
      textoOriginal = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
    } else if (cpf.length === 14) {
      meupixsalvo = "?schave=" + pixkey + (amount ? "&valor=" + amount : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
      textoOriginal = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
    }

    // Gera o link do Pix criptografado e redireciona
	const LinkCriptografado = btoa(textoOriginal); 
    location.href = "?codepix=" + encodeURIComponent(LinkCriptografado);
  }
}

function MinhaVenda() {
   // Obtém os valores dos campos do formulário
   const pixkey = document.getElementById('pixkey').value || '';
  const amount = document.getElementById('amount').value || '';
  const description = (document.getElementById('description').value).substring(0, 28) || '';
  const merchantName = (document.getElementById('merchantName').value).substring(0, 25) || '';
  const merchantCity = (document.getElementById('merchantCity').value).substring(0, 15) || '';
  const txid = (document.getElementById('txid').value).substring(0, 20) || '';
  const banco = document.getElementById('banco').value || '';
  const cpf = (document.getElementById('documento').value.replace(/\D/g, '')).substring(0, 18) || '';
  const whatsapp = document.getElementById('whatsapp').value || '';
  const voltar = document.getElementById('botao-voltar').value || '';
  const minhalogo = document.getElementById('add-logo').value || '';

  // Verifica a presença de dados obrigatórios
  if (pixkey === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a chave Pix.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantName === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantCity === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a Cidade do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (banco === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do banco do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (cpf.length !== 11 && cpf.length !== 14) {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a CPF OU CNPJ do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (pixkey !== '' && merchantName !== '' && merchantCity !== '') {
    let textoOriginal;
    if (cpf.length === 11) {
      const CPFLink = LinkCPF(cpf); 
      ParamsChaves = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "");
    } else if (cpf.length === 14) {
      ParamsChaves = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "");
    }

    // Gera o link do Pix criptografado e redireciona
	const LinkCriptografado = btoa(ParamsChaves); 
    location.href = "?minhavenda=" + encodeURIComponent(LinkCriptografado);
  }
}

function criaplacapix() {
  // Obtém os valores dos campos do formulário
  const pixkey = document.getElementById('pixkey').value || '';
  const amount = document.getElementById('amount').value || '';
  const description = (document.getElementById('description').value).substring(0, 28) || '';
  const merchantName = (document.getElementById('merchantName').value).substring(0, 25) || '';
  const merchantCity = (document.getElementById('merchantCity').value).substring(0, 15) || '';
  const txid = (document.getElementById('txid').value).substring(0, 20) || '';
  const banco = document.getElementById('banco').value || '';
  const cpf = (document.getElementById('documento').value.replace(/\D/g, '')).substring(0, 18) || '';
  const whatsapp = document.getElementById('whatsapp').value || '';
  const voltar = document.getElementById('botao-voltar').value || '';
  const minhalogo = document.getElementById('add-logo').value || '';

  // Verifica a presença de dados obrigatórios
  if (pixkey === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a chave Pix.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantName === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantCity === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a Cidade do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (banco === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do banco do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (cpf.length !== 11 && cpf.length !== 14) {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a CPF OU CNPJ do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (pixkey !== '' && merchantName !== '' && merchantCity !== '') {
    let textoOriginal;
    if (cpf.length === 11) {
      const CPFLink = LinkCPF(cpf); 
      ParamsChaves = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "");
    } else if (cpf.length === 14) {
      ParamsChaves = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "");
    }

    // Gera o link do Pix criptografado e redireciona
	const LinkCriptografado = btoa(ParamsChaves); 
    location.href = "https://meupix.vercel.app/criarplaca?dadospix=" + encodeURIComponent(LinkCriptografado);
  }
}

function gerarplacapix() {
  // Obtém os valores dos campos do formulário
  const pixkey = document.getElementById('chave-placa').value || '';
    let amount = document.getElementById('valor-placa').value || '';
  const description = (document.getElementById('mensagem-placa').value).substring(0, 28) || '';
  const merchantName = (document.getElementById('nome-placa').value).substring(0, 25) || '';
  const merchantCity = (document.getElementById('cidade-placa').value).substring(0, 15) || '';
  const txid = (document.getElementById('txid-placa').value).substring(0, 20) || '';
  const banco = document.getElementById('banco-placa').value || '';
  const cpf = (document.getElementById('documento-placa').value.replace(/\D/g, '')).substring(0, 18) || '';
  const minhalogo = document.getElementById('add-logo-placa').value || 'https://meupix.github.io/pagamentos.files/imagens/logo.png';

// Valida os parâmetros obrigatórios
  if (pixkey === '') {
    exibirErro('Insira a chave Pix.');
    return;
  }

  if (merchantName === '') {
    exibirErro('Insira o nome do beneficiado.');
    return;
  }

  if (merchantCity === '') {
    exibirErro('Insira a Cidade do Beneficiado.');
    return;
  }

  if (banco === '') {
    exibirErro('Insira o nome do banco do Beneficiado.');
    return;
  }

  // Formata o CPF ou CNPJ, se fornecido
  if (cpf.length === 11) {
    // CPF válido
  } else if (cpf.length === 14) {
    // CNPJ válido
  } else {
    exibirErro('Insira a CPF OU CNPJ do Beneficiado.');
    return;
  }
    
  // Verifica a presença de dados obrigatórios e Atualiza os elementos na página com os dados do PIX 
  if (pixkey !== '' && merchantName !== '' && merchantCity !== '') {

   // Lógica para ocultar elementos se os parâmetros não estiverem presentes

  if (/^(0+|00[.,]00|0[.,]00)$/.test(amount.replace(/[^\d,.]/g, '')) || amount.replace(/[^\d,.]/g, '') === '') {		
    payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, '');
	amount = '';
	document.getElementById('valor-none').style.display = 'none';
  } else {
   // Verifica se o valor já está no formato numérico desejado (sem a formatação monetária)
   if (/^\d+\.\d{2}$/.test(amount.replace(/[^\d,.]/g, ''))) {
   payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, amount.replace(/[^\d,.]/g, ''));
   document.getElementById('valor').textContent = formatarReal(amount);
   amount = formatarReal(amount);
   document.getElementById('valor-none').style.display = '';
   } else {
   amount = parseFloat(amount.replace(/[^\d,.]/g, '').replace(/\./g, '').replace(',', '.'));
   payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, amount.toFixed(2));
   document.getElementById('valor').textContent = formatarReal(amount.toFixed(2));
   amount = formatarReal(amount.toFixed(2));
   document.getElementById('valor-none').style.display = '';
   }
  }

   document.getElementById('chave').textContent = pixkey.replace(/\ /g, '+');
   document.getElementById('nome').textContent = merchantName;
   document.getElementById('banco-Beneficiado').textContent = banco;
	
  if (txid === '') {
  document.getElementById('infor-none').style.display = 'none';
  } else {
  document.getElementById('infor-none').style.display = '';
  document.getElementById('identificador').textContent = txid;
  }
    
  if (description === '') {
  document.getElementById('mensagem-none').style.display = 'none';
  } else {
  document.getElementById('mensagem-none').style.display = '';
  document.getElementById('mensagem').textContent = description;
  }
  
   // Formata o CPF ou CNPJ, se presente, e atualiza os elementos correspondentes
  if (cpf.length === 11) {
        const cpfFormatado = formatarCPF(cpf);
        document.getElementById('cpf').textContent = cpfFormatado;
        document.getElementById('cpf-cnpj').textContent = 'CPF';
  } else if (cpf.length === 14) {
        const cnpjFormatado = formatarCNPJ(cpf);
        document.getElementById('cpf').textContent = cnpjFormatado;
        document.getElementById('cpf-cnpj').textContent = 'CNPJ';
  } else {
        document.getElementById('cpf').textContent = 'N/A';
        document.getElementById('cpf-cnpj').textContent = 'CPF OU CNPJ';
  }
  
    var cor1 = document.getElementById('cor1').value;
    var cor2 = document.getElementById('cor2').value;
    var cor3 = document.getElementById('cor3').value;
    var cor4 = document.getElementById('cor4').value;
    var cor5 = document.getElementById('cor5').value;
    var cor6 = document.getElementById('cor6').value;
    var angulo = document.getElementById('angulo').value;
    var corqr = document.getElementById('corqrcode').value;
    var imagemfundo = document.getElementById('link-imagem').value;
	
	  if (cpf.length === 11) {
      const CPFLink = LinkCPF(cpf); 
      ParamsChaves = "?chave=" + pixkey + (amount ? "&valor=" + amount : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "") + (corqr ? "&corqr=" + corqr : "") + (cor1 ? "&cor1=" + cor1 : "") + (cor2 ? "&cor2=" + cor2 : "") + (cor3 ? "&cor3=" + cor3 : "") + (cor4 ? "&cor4=" + cor4 : "") + (cor5 ? "&cor5=" + cor5 : "") + (cor6 ? "&cor6=" + cor6 : "") + (angulo ? "&angulo=" + angulo : "") + (imagemfundo ? "&imagemfundo=" + imagemfundo : "");
    } else if (cpf.length === 14) {
      ParamsChaves = "?chave=" + pixkey + (amount ? "&valor=" + amount : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "") + (corqr ? "&corqr=" + corqr : "") + (cor1 ? "&cor1=" + cor1 : "") + (cor2 ? "&cor2=" + cor2 : "") + (cor3 ? "&cor3=" + cor3 : "") + (cor4 ? "&cor4=" + cor4 : "") + (cor5 ? "&cor5=" + cor5 : "") + (cor6 ? "&cor6=" + cor6 : "") + (angulo ? "&angulo=" + angulo : "") + (imagemfundo ? "&imagemfundo=" + imagemfundo : "");
    }
	
    var addimagem = document.getElementById('qr-data-placa');
    var fundoqr = document.getElementById('qr-code-placa');
    var cordados = document.getElementById('cor-dados');
    var imagemFundoUpload = document.getElementById('imagem-upload');
    var fileimagemFundoUpload = imagemFundoUpload.files[0];
    var readerFundoUpload = new FileReader();

    readerFundoUpload.onload = function(e) {
        var linkUpload = e.target.result;
        addimagem.style.backgroundImage = "url('" + linkUpload + "')";
        addimagem.style.backgroundSize = "cover"; // Ajusta a imagem para cobrir todo o elemento
        addimagem.style.backgroundRepeat = "no-repeat";
        addimagem.style.backgroundPosition = "center";
        cordados.style.color = cor6;
        addimagem.style.color = cor6;
        fundoqr.style.background = "linear-gradient(" + angulo + "deg, " + cor3 + ", " + cor4 + ", " + cor5 + ")";
    };

    if (fileimagemFundoUpload) {
        readerFundoUpload.readAsDataURL(fileimagemFundoUpload);
    } else if (imagemfundo) {
        addimagem.style.backgroundImage = "url('" + imagemfundo + "')";
        addimagem.style.backgroundSize = "cover"; // Ajusta a imagem para cobrir todo o elemento
        addimagem.style.backgroundRepeat = "no-repeat";
        addimagem.style.backgroundPosition = "center";
        addimagem.style.color = cor6;
        cordados.style.color = cor6;
        fundoqr.style.background = "linear-gradient(" + angulo + "deg, " + cor3 + ", " + cor4 + ", " + cor5 + ")";
    } else {
        addimagem.style.background = "linear-gradient(" + angulo + "deg, " + cor1 + ", " + cor2 + ")";
        fundoqr.style.background = "linear-gradient(" + angulo + "deg, " + cor3 + ", " + cor4 + ", " + cor5 + ")";
        cordados.style.color = cor6;
        addimagem.style.color = cor6;
    }

  var input = document.getElementById('imagem-upload-logo-qr');
  var file = input.files[0];
  
  if (file) {
      const reader = new FileReader();
  
      reader.onload = function(e) {
         const minhalogo = e.target.result;
  
         generateQRCode(minhalogo, corqr, payload);

      };
      reader.readAsDataURL(file);
  } else {
      generateQRCode(minhalogo, corqr, payload); 
  }

    // Gera o link do Pix criptografado e redireciona
	const LinkCriptografado = btoa(ParamsChaves);
	document.getElementById('link-placa-gerada').value = 'https://meupix.github.io/?criaplaca=' + encodeURIComponent(LinkCriptografado);
 }
}

 function generateQRCode(logoUrl, corqr, payload) {
      var qr = new QRious({
          element: document.getElementById('qr-code-placa'),
          value: payload,
          size: 250,
          background: '#0100ff00',
          foreground: corqr
      });
  
      var canvas = document.getElementById('qr-code-placa');
      var ctx = canvas.getContext('2d');
      var img = new Image();

      // Allow CORS
      img.crossOrigin = 'Anonymous';
      img.src = logoUrl;
      img.onload = function() {
          var newWidth = 50;
          var newHeight = 50;
          var x = (canvas.width - newWidth) / 2;
          var y = (canvas.height - newHeight) / 2;
          ctx.drawImage(img, x, y, newWidth, newHeight);
      };
}

document.addEventListener('DOMContentLoaded', function () {
  // Obtém a URL atual e seus parâmetros
  var url = window.location.href;		 
  const Params = new URLSearchParams(window.location.search);



  // Verifica se existem parâmetros na URL
  if (!Params || Params.keys().next().done) {return;} // Se não houver parâmetros, sai da função
  if (!Params.has('codepix')) {
  
  if (!Params.has('chave')) {
  	  
  if (!Params.has('schave')) {
  
  if (!Params.has('criaplaca')) {
  
  if (!Params.has('minhavenda')) {return}

  let ParamsPix;
 const minhavenda = atob(Params.get('minhavenda'));

    if (minhavenda === '') {
     exibirErro('Insira o valor no parâmetros &minhavenda=');
    return;
    }

    if (minhavenda) {
        ParamsPix = new URLSearchParams(minhavenda);
    } else {
        ParamsPix = Params;
    }

  $('.menuvendas').html(`
  <main>
        <h1><span id="valordopagamentos" aria-live="polite">R$ 0,00</span></h1>

        <form id="pix-form">
            <label for="pix-key">Chave PIX: <span id="pix-key"></span></label>
        </form>

  <div class="keypad" aria-label="Teclado Numérico">
        <button class="keypad-button" data-value="7">7</button>
        <button class="keypad-button" data-value="8">8</button>
        <button class="keypad-button" data-value="9">9</button>
        <button class="keypad-button" data-value="4">4</button>
        <button class="keypad-button" data-value="5">5</button>
        <button class="keypad-button" data-value="6">6</button>
        <button class="keypad-button" data-value="1">1</button>
        <button class="keypad-button" data-value="2">2</button>
        <button class="keypad-button" data-value="3">3</button>
        <button class="keypad-button backspace" data-value="backspace">←</button>
        <button class="keypad-button" data-value="0">0</button>
        <button class="keypad-button" data-value="+">+</button>  <!-- Adicionado o botão de soma -->
        <button class="keypad-button enter" data-value="enter">✓</button>
    </div>

        <div class="button-group">
            <button class="Btnvendas" id="new-product">+ Novo Produto</button>
            <button class="Btnvendas" id="products">Ver Produtos</button>
        </div>

        <section class="transaction-history">
            <h2>Histórico de Transações</h2>
            <div id="history-list"></div>
            <div class="button-group">
            <button class="Btnvendas" id="export">Baixa Histórico</button>
            <button class="Btnvendas" id="remove">Limpar Histórico</button>
            </div>
        </section>

    </main>

    <div id="productModal" class="modal-vendas" aria-hidden="true">
        <div class="modal-contentvenda">
            <span class="close-button" aria-label="Fechar Modal">×</span>
            <h2>Adicionar Novo Produto</h2>
            <form id="product-form">
                <div class="floating-label">
                <input type="text" id="product-name" placeholder="" required>
                <label for="product-name">Nome do Produto:<b><span class="infor">*</span></b></label>
                </div>

                <div class="floating-label">
                <input type="text" id="product-price" placeholder="" oninput="amount(this)" required>
                <label for="product-price">Preço (R$ 1.000,00):<b><span class="infor">*</span></b></label>
                </div>
                <button type="submit" class="confirm-payment">Salvar Produto</button>
            </form>
        </div>
    </div>

    <div id="productsModal" class="modal-vendas" aria-hidden="true">
        <div class="modal-contentvenda">
            <span class="close-button" aria-label="Fechar Modal">×</span>
            <h2>Selecionar Produtos</h2>
            <div id="products-list"></div>

            <div class="modal-buttons">
                <button id="cancel-products" class="cancel-products">Cancelar</button>
                <button id="add-products" class="botao-compartilhar-vendas">Gerar QR</button>
            </div>
        </div>
    </div>

    <div id="paymentModal" class="modal-vendas" aria-hidden="true">
        <div class="modal-contentvenda payment-modal">

          <div id="modalagendamento" class="modalagendamento" aria-hidden="true">
            <div class="modal-contentvenda">
                <span class="modalagendamento-close-button" aria-label="Fechar agendamento" onclick="fecharModalNomeAgendamento()">×</span>
                <h2>Nome do Cliente:</h2>
                    <div class="floating-label-clienteNome">
                      <input type="text" id="clienteNome" placeholder="" required="">
                      <label for="clienteNome"></label>
                    </div>
                      <button id="modalConfirm" class='modalConfirm'>Confirmar</button>
                      <br />
                      <br />		
                      <span id="Error-nome-agendamento"></span>
            </div>
           </div>

            <span class="close-button" aria-label="Fechar Modal">×</span>
            <h2>Pagamento QR Pix</h2>

            <div class="flex flex-row justify-between w-auto pb3">
                <span class="justify-start b tl">Nome: </span>
                <span class="justify-end tr" id="nome"></span>
            </div>
            <div class="flex flex-row justify-between w-auto pb3">
                <span class="justify-start b tl">CPF: </span>
                <span class="justify-end tr" id="cpf-cnpj"></span>
            </div>
            <div class="flex flex-row justify-between w-auto pb3">
                <span class="justify-start b tl">Banco: </span>
                <span class="justify-end tr" id="banco-do-beneficiario"></span>
            </div>

            <canvas id="qr-minha-venda" class="ba pa2 br3 bw1 pa0-ns bw3-ns br3-ns center flex items-center justify-center overflow-hidden" height="270" width="270"></canvas>

            <div id="payment-details">
                <h3>Detalhes da Compra</h3>
                <ul id="product-list-modal"></ul>
                <p><strong>Total: <span id="total-amount-modal">R$ 0,00</span></strong></p>
            </div>

            <div class="modal-buttons">
                <button id="pago-button" class="botao-compartilhar-vendas">Pago</button>
                <button id="compartilhar-pagameto-button" class="botao-compartilhar-vendas">Agenda e Compatilhar</button>
            </div>
        </div>
    </div>`);
  const chavepix = ParamsPix.get('chave') || '';
  const banco = ParamsPix.get('banco') || '';
  const cpf = (ParamsPix.get('cpf') || '').substring(0, 14);
  const merchantName = (ParamsPix.get('nome') || '').substring(0, 25);
  const merchantCity = (ParamsPix.get('cidade') || '').substring(0, 15);
  const whatsapp = ParamsPix.get('whatsapp') || '';
  const botaovoltar = ParamsPix.get('voltar') || '';
  const minhalogo = ParamsPix.get('logo') || 'pagamentos.files/imagens/logo.png';

  if (chavepix === '') {
    exibirErro('Insira o valor no parâmetros &chave=');
    return;
  }
  if (merchantName === '') {
    exibirErro('Insira o valor no parâmetros &nome=');
    return;
  }
  if (merchantCity === '') {
    exibirErro('Insira o valor no parâmetros &cidade=');
    return;
  }
  if (cpf.length !== 11 && cpf.length !== 14) {
    exibirErro('Insira o valor no parâmetros &cpf=');
    return;
  }
  if (banco === '') {
    exibirErro('Insira o valor no parâmetros &banco=');
    return;
  }

  const amountDisplay = document.getElementById('valordopagamentos');
  const historyList = document.getElementById('history-list');
  const productsList = document.getElementById('products-list');
  const productListModal = document.getElementById('product-list-modal');
  const totalAmountModal = document.getElementById('total-amount-modal');

  let amount = 0;
    let selectedProducts = {};
    let transactionId;
    let Cliente;
    let previewValue = 0; // Valor para o preview
    let previewString = ''; // String para mostrar o preview

  document.getElementById('pix-key').textContent = chavepix.replace(/\ /g, '+');
  document.getElementById('banco-do-beneficiario').textContent = banco;
  document.getElementById('nome').textContent = merchantName;

  // Formata o CPF ou CNPJ, se presente, e atualiza os elementos correspondentes
  if (cpf.length === 11) {
    const cpfFormatado = formatarCPF(cpf);
    document.getElementById('cpf-cnpj').textContent = cpfFormatado;
  } else if (cpf.length === 14) {
    const cnpjFormatado = formatarCNPJ(cpf);
    document.getElementById('cpf-cnpj').textContent = cnpjFormatado;
  }

  // Função para gerar um ID aleatório (13 caracteres)
  const generateTransactionID = () => {
    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let id = '';
    for (let i = 0; i < 4; i++) {
      id += characters.charAt(Math.floor(Math.random() * characters.length));
    }
    return 'Pagamento' + id;
  };

  function formatarBRL(valorNumerico) {
    return (valorNumerico / 100).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
  }

  const updateAmountDisplay = () => {
        if (previewString) {
            amountDisplay.textContent = previewString + ' + ' + formatarBRL(amount);
        } else {
            amountDisplay.textContent = formatarBRL(amount);
        }
    };

  const formatarValorParaNumero = (valorFormatado) => {
    const valorNumerico = Number(valorFormatado.replace(/[^\d,]/g, '').replace('.', '').replace(',', '.')) * 100;
    return isNaN(valorNumerico) ? 0 : valorNumerico; // Retorna 0 se a conversão falhar
};

const removerUltimoValorDoPreview = () => {
    if (previewString) {
        const values = previewString.split(' + ');
        if (values.length > 0) {
          if (amount > 0) {
            amount = Math.floor(amount / 10);
          } else {
            const removedValue = values.pop();
            previewString = values.join(' + ');
            previewValue -= formatarValorParaNumero(removedValue);
          }
        } else {
            previewValue = 0;
            previewString = '';
        }
    }
};

const adicionarValorAoPreview = () => {
    if (amount > 0) {
        previewValue += amount;
        if (previewString === '') {
            previewString += formatarBRL(amount);
        } else {
            previewString += ' + ' + formatarBRL(amount);
        }
        amount = 0;
    }
};

const handleKeypadInput = (value) => {
    switch (value) {
        case 'backspace':
            if (previewString) {
                removerUltimoValorDoPreview();
            } else {
                amount = Math.floor(amount / 10);
            }
            break;
        case 'enter':
            amount += previewValue;
            displayProducts();
            showPaymentScreen();
            previewValue = 0;
            previewString = '';
            break;
        case '+':
            adicionarValorAoPreview();
            break;
        default:
            amount = amount * 10 + Number(value);
            break;
    }
    updateAmountDisplay();
};

  const showPaymentScreen = () => {
    transactionId = generateTransactionID();

    if (/^(0+|00[.,]00|0[.,]00)$/.test(amount.toString().replace(/[^\d,.]/g, '')) || amount.toString().replace(/[^\d,.]/g, '') === '') {		
    payload = QrCodePix(chavepix.replace(/\ /g, '+'), '', merchantName, merchantCity, transactionId, '');
    } else {
    valor = parseFloat(amount.toString().replace(/\D/g, '')) / 100;
    payload = QrCodePix(chavepix.replace(/\ /g, '+'), '', merchantName, merchantCity, transactionId, valor.toFixed(2));
    }
    
    GeraQRCodePix(payload, minhalogo);

    generateProductListModal(transactionId);

    if (previewString) {
        const values = previewString.split(' + ');
     if (values.length > 0) {
      // Exibe o total acumulado com preview
      const previewTotalElement = document.createElement('p');
      previewTotalElement.id = 'preview-total';
      previewTotalElement.textContent = amountDisplay.textContent; // Usa o conteúdo de amountDisplay
      productListModal.appendChild(previewTotalElement);
        } else {
          $('#preview-total').hide();
        }
    }

    totalAmountModal.textContent = formatarBRL(amount);

    $('#paymentModal').show(); // Exibe o modal

    $(window).click(function(event) {
      if ($(event.target).is('#paymentModal')) {
        $('#paymentModal').hide(); // Esconde o modal se clicar fora dele
    }
  });
};

  // Função para gerar a lista de produtos no modal de pagamento
  const generateProductListModal = (transactionId) => {
  productListModal.innerHTML = ''; // Limpa o conteúdo anterior do modal

  const products = JSON.parse(localStorage.getItem('products')) || [];
  selectedProducts = selectedProducts || {}; // Garante que selectedProducts esteja definido


  // Exibe o ID da transação
  const transactionIdElement = document.createElement('p');
  transactionIdElement.textContent = `ID da Transação: ${transactionId}`;
  productListModal.appendChild(transactionIdElement);

  // Lista os produtos selecionados
  for (const index in selectedProducts) {
    if (selectedProducts.hasOwnProperty(index)) {
      const product = products[index];
      const quantity = selectedProducts[index];

      if (quantity > 0 && product) { // Verifica se a quantidade é maior que zero e se o produto existe
        const listItem = document.createElement('li');
        listItem.textContent = `${product.name} x${quantity} - ${formatarBRL(
          parseFloat(product.price.replace(/[^\d]/g, '')) * quantity
        )}`;
        productListModal.appendChild(listItem);
      }
    }
  }

  // Exibe o total da transação
  totalAmountModal.textContent = formatarBRL(amount);
};

  // Função para salvar a transação
  const saveTransaction = (status = 'pago') => {
    valor = formatarBRL(amount.toString());
    let meupixsalvo;
    let textoOriginal;

    if (cpf.length === 11) {
      const CPFLink = LinkCPF(cpf); 
      meupixsalvo = "?schave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
      textoOriginal = "?chave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
    } else if (cpf.length === 14) {
      meupixsalvo = "?schave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
      textoOriginal = "?chave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
    }

    // Adicionar o link ao localStorage
	const LinkCriptografado = btoa(textoOriginal); 
	    const paramschaves = "https://meupix.github.io" + textoOriginal.replace(/\ /g, '%20').trim();
    const gerarPix = encodeURIComponent(LinkCriptografado).trim();
    const editarPix = meupixsalvo.replace(/\ /g, '%20').trim();
    const compartilharPix = "https://meupix.github.io?codepix=" + encodeURIComponent(LinkCriptografado).trim();

//os dados completos dos produtos na transação
    const transaction = {
      gerarPix: gerarPix, 
      editarPix: editarPix,
      compartilharPix: compartilharPix,
      paramschaves: paramschaves,
      id: transactionId,
      amount: formatarBRL(amount),
      chavepix: chavepix.replace(/\ /g, '+'),
      date: new Date().toLocaleDateString(),
      products: Object.entries(selectedProducts).map(([productId, quantity]) => { const product = JSON.parse(localStorage.getItem('products'))[productId]; return { name: product.name, price: product.price, quantity: quantity };}),
      status: status
    };

    let history = JSON.parse(localStorage.getItem(chavepix)) || [];
    history.unshift(transaction);
    localStorage.setItem(chavepix, JSON.stringify(history));

    document.getElementById('Error').innerText = status + ' ID: ' + transactionId + ' Valor: ' + formatarBRL(amount) + ' cria com sucesso!';
    const modal = document.getElementById('modal');
    modal.style.display = 'flex';  
    setTimeout(() => {  modal.style.display = 'none';  }, 2000);

    displayHistory();
    resetTransaction();
  };

  // Função para resetar os dados da transação atual
  const resetTransaction = () => {
    amount = 0;
    selectedProducts = {};
    updateAmountDisplay();
    transactionId = null;
  };

  // Função para extrair o status real da transação
  const extrairStatus = (statusComNome) => {
    return statusComNome.split(' - ')[0];
  };

  const displayHistory = () => {
  historyList.innerHTML = '';
  const history = JSON.parse(localStorage.getItem(chavepix)) || [];

  if (history.length > 0) {
    history.forEach((transaction, index) => {
      const entry = document.createElement('div');
      entry.classList.add('history-entry');
      entry.innerHTML = `<span>ID: ${transaction.id} - ${transaction.amount} - ${transaction.date} - ${transaction.status}</span>`;

      const statusReal = extrairStatus(transaction.status);

      const linkActions = document.createElement('div');
      linkActions.classList.add('link-actions');

      if (statusReal === 'Aguardando Pagamento') {
        const confirmButton = document.createElement('button');
        confirmButton.textContent = 'Confirmar Pagamento';
        confirmButton.classList.add('confirm-payment');
        confirmButton.dataset.index = index;
        confirmButton.addEventListener('click', () => confirmarPagamento(index));
        linkActions.appendChild(confirmButton);

        const btnCompartilhar = document.createElement('button');
        btnCompartilhar.textContent = 'Compartilhar';
        btnCompartilhar.classList.add('confirm-payment');

        btnCompartilhar.onclick = function() {
          document.getElementById('linkcodificador').value = transaction.compartilharPix;
          document.getElementById('urlpix').value = transaction.paramschaves;
          document.getElementById('salva-meu-pix').value = "https://meupix.github.io" + transaction.editarPix;
          $('#mainContent').addClass('overlay');
          $('#compartilhar').show();
          $('#close-check').show();
          $('#CarregaCompartilhar').show();
          $('#CarregaCompartilhar').html(`<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-compartilhar.png" alt="">`);
          GerarLinkCurto(transaction.compartilharPix, transaction.compartilharPix);
          document.getElementById('textocopiado').innerText = transaction.status + ' ID: ' + transaction.id + ' Valor: ' + transaction.amount;
          document.getElementById('titulocopiado').innerText = 'Pagamento cria com sucesso!';
          telacopiado = document.getElementById('telacopiado');
          telacopiado.style.display = 'flex';
          setTimeout(() => {  telacopiado.style.display = 'none'; }, 3000);
        };

        linkActions.appendChild(btnCompartilhar);
      }

      const deleteButton = document.createElement('button');
      deleteButton.textContent = 'Apagar';
      deleteButton.classList.add('delete-transaction');
      deleteButton.dataset.index = index;
      deleteButton.addEventListener('click', handleDeleteTransaction);
      linkActions.appendChild(deleteButton);

      entry.appendChild(linkActions);
      historyList.appendChild(entry);
    });
  } else {
    historyList.textContent = "Nenhuma transação no histórico.";
  }
};

const handleDeleteTransaction = (event) => {
    const index = parseInt(event.target.dataset.index, 10);

    if (confirm('Tem certeza de que deseja apagar esta transação?')) {
      const history = JSON.parse(localStorage.getItem(chavepix)) || [];
      history.splice(index, 1);
      localStorage.setItem(chavepix, JSON.stringify(history));
      displayHistory();
    }
  };

  const displayProducts = () => {
    productsList.innerHTML = '';
    const products = JSON.parse(localStorage.getItem('products')) || [];
    selectedProducts = {};

    if (products.length === 0) {
        productsList.textContent = "Nenhum produto cadastrado.";
        return;
    }

    products.forEach((product, index) => {
        const entry = document.createElement('div');
        entry.classList.add('product-entry');
        entry.innerHTML = `
            <span>${product.name} - ${product.price}</span>
            <div class="quantity-controls">
                <button data-index="${index}" class="decrement">-</button>
                <span id="quantity-${index}">0</span>
                <button data-index="${index}" class="increment">+</button>
            </div>
            <button class="edit-product" data-index="${index}">Editar</button>
            <button class="delete-transaction" data-index="${index}">Apagar</button>
        `;
        productsList.appendChild(entry);
    });

    addEventListenersToProductButtons();
    addEventListenersToEditButtons();
};

const addEventListenersToEditButtons = () => {
    const editButtons = document.querySelectorAll('.edit-product');
    editButtons.forEach(button => {
        button.addEventListener('click', (event) => {
            const index = event.target.getAttribute('data-index');
            abrirModal(index);
        });
    });
};

const abrirModal = (index) => {
    const products = JSON.parse(localStorage.getItem('products')) || [];
    const product = products[index];

    // Preenche o formulário no modal com os dados atuais do produto
    document.getElementById('edit-name').value = product.name;
    document.getElementById('edit-price').value = product.price;

    // Exibe o modal
    const modal = document.getElementById('modal-editar');
    modal.style.display = 'block';
    modal.setAttribute('aria-hidden', 'false');

    // Foca no primeiro campo do formulário
    document.getElementById('edit-name').focus();

    // Adiciona um event listener para o formulário de edição
    const editForm = document.getElementById('edit-form');
    editForm.onsubmit = (event) => {
        event.preventDefault();
        salvarEdicao(index);
    };

window.addEventListener('click', (event) => {
    if (event.target === modal) {
        fechareditform();
    }
});
};

const fechareditform = () => {
    const modal = document.getElementById('modal-editar');
    modal.style.display = 'none';
    modal.setAttribute('aria-hidden', 'true');
};

const salvarEdicao = (index) => {
    const products = JSON.parse(localStorage.getItem('products')) || [];
    const product = products[index];

    // Captura os novos valores do formulário
    const newName = document.getElementById('edit-name').value;
    const newPrice = document.getElementById('edit-price').value;

    if (newName && newPrice) {
        product.name = newName;
        product.price = newPrice;

        localStorage.setItem('products', JSON.stringify(products));
        fechareditform();
        displayProducts();
    }
};

const addEventListenersToProductButtons = () => {
    document.querySelectorAll('.increment, .decrement').forEach(button => {
        button.addEventListener('click', (event) => {
            const index = parseInt(event.target.dataset.index, 10);
            const products = JSON.parse(localStorage.getItem('products')) || [];
            const product = products[index];

            if (event.target.classList.contains('increment')) {
                selectedProducts[index] = (selectedProducts[index] || 0) + 1;
            } else if (event.target.classList.contains('decrement') && selectedProducts[index] > 0) {
                selectedProducts[index] -= 1;
            }
            document.getElementById(`quantity-${index}`).textContent = selectedProducts[index] || 0;
        });
    });

    const deleteProductButtons = document.querySelectorAll('.delete-transaction');
    deleteProductButtons.forEach(button => {
        button.addEventListener('click', handleDeleteProduct);
    });
};

const handleDeleteProduct = (event) => {
    const index = parseInt(event.target.dataset.index, 10);
    let products = JSON.parse(localStorage.getItem('products')) || [];

    // Verifica se o índice é válido
    if (index < 0 || index >= products.length) {
        alert('Índice do produto inválido!');
        return;
    }

    const productName = products[index].name;

    if (confirm(`Tem certeza de que deseja apagar o produto "${productName}"?`)) {
        products.splice(index, 1);
        localStorage.setItem('products', JSON.stringify(products)); 
        displayProducts();
    }
};

  const confirmarPagamento = (index) => {
    let history = JSON.parse(localStorage.getItem(chavepix)) || [];
    history[index].status = 'pago';
    localStorage.setItem(chavepix, JSON.stringify(history));
    displayHistory();
  };

  const addDevendoTransaction = () => {

    $('#modalagendamento').show();

    const confirmButtonagendamento = document.getElementById('modalConfirm');
    confirmButtonagendamento.addEventListener('click', () => {
        let Cliente = document.getElementById('clienteNome').value;

        if (!Cliente) {
          document.getElementById('Error-nome-agendamento').innerText = 'Por favor, insira o nome do cliente antes de continuar.';
        setTimeout(() => {  document.getElementById('Error-nome-agendamento').innerText = '';  }, 1500);
        return;
        }

        $('#modalagendamento').hide();
        $('#clienteNome').val('');
        valor = formatarBRL(amount.toString());
        let meupixsalvo;
        let textoOriginal;

        if (cpf.length === 11) {
            const CPFLink = LinkCPF(cpf);
            meupixsalvo = "?schave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
            textoOriginal = "?chave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
        } else if (cpf.length === 14) {
            meupixsalvo = "?schave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
            textoOriginal = "?chave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
        }

        const LinkCriptografado = btoa(textoOriginal);
        const paramschaves = "https://meupix.github.io" + textoOriginal.replace(/\ /g, '%20').trim();
        const gerarPix = encodeURIComponent(LinkCriptografado).trim();
        const editarPix = meupixsalvo.replace(/\ /g, '%20').trim();
        const compartilharPix = "https://meupix.github.io?codepix=" + encodeURIComponent(LinkCriptografado).trim();

        const transaction = {
          gerarPix: gerarPix, 
          editarPix: editarPix,
          compartilharPix: compartilharPix,
          paramschaves: paramschaves,
          id: transactionId,
          amount: formatarBRL(amount),
          chavepix: chavepix.replace(/\ /g, '+'),
          date: new Date().toLocaleDateString(),
          products: Object.entries(selectedProducts).map(([productId, quantity]) => { const product = JSON.parse(localStorage.getItem('products'))[productId]; return { name: product.name, price: product.price, quantity: quantity };}),
          status: 'Aguardando Pagamento - ' + Cliente,
        };

        let history = JSON.parse(localStorage.getItem(chavepix)) || [];
        history.unshift(transaction);
        localStorage.setItem(chavepix, JSON.stringify(history));
    
        document.getElementById('textocopiado').innerText = 'Cliente: ' + Cliente + ' ID: ' + transactionId + ' Valor: ' + formatarBRL(amount) ;
       document.getElementById('titulocopiado').innerText = 'Pagamento cria com sucesso!';
       let $telacopiado = $('#telacopiado'); // Seleciona o elemento com jQuery
       $telacopiado.css('display', 'flex'); // Exibe o elemento
       setTimeout(() => { $telacopiado.fadeOut(); }, 3500);
    
       $('#mainContent').addClass('overlay');
       $('#compartilhar').show();
       $('#close-check').show();
       $('#CarregaCompartilhar').show();
       $('#CarregaCompartilhar').html(`<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-compartilhar.png" alt="">`);
       GerarLinkCurto(compartilharPix, compartilharPix);

        displayHistory();
        resetTransaction();
        $('#paymentModal').hide();
    });
};

  document.getElementById('remove').addEventListener('click', () => {
    if (confirm("Tem certeza de que deseja limpar o histórico de transações?")) {
      localStorage.removeItem(chavepix);
      displayHistory();
    }
  });

  document.querySelectorAll('.keypad-button').forEach(button => {
    button.addEventListener('click', () => handleKeypadInput(button.dataset.value));
  });

  document.getElementById('pago-button').addEventListener('click', () => {
    saveTransaction();
    $('#paymentModal').hide();
  });

  document.getElementById('compartilhar-pagameto-button').addEventListener('click', () => {

    valor = formatarBRL(amount.toString());
    let meupixsalvo;
    let textoOriginal;

    if (cpf.length === 11) {
      const CPFLink = LinkCPF(cpf); 
      meupixsalvo = "?schave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
      textoOriginal = "?chave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + CPFLink + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
    } else if (cpf.length === 14) {
      meupixsalvo = "?schave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
      textoOriginal = "?chave=" + chavepix.replace(/\ /g, '+') + (valor ? "&valor=" + valor.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (transactionId ? "&txid=" + transactionId : "") + "&banco=" + banco + "&cpf=" + cpf + (minhalogo ? "&logo=" + minhalogo : "") + (whatsapp ? "&whatsapp=" + whatsapp : "") + (botaovoltar ? "&voltar=" + botaovoltar : "");
    }

	  const LinkCriptografado = btoa(textoOriginal); 
	  const paramschaves = "https://meupix.github.io" + textoOriginal.replace(/\ /g, '%20').trim();
    const gerarPix = encodeURIComponent(LinkCriptografado).trim();
    const editarPix = meupixsalvo.replace(/\ /g, '%20').trim();
    const compartilharPix = "https://meupix.github.io?codepix=" + encodeURIComponent(LinkCriptografado).trim();

    $('#linkcodificador').val(compartilharPix);
    $('#urlpix').val(paramschaves);
    $('#salva-meu-pix').val("https://meupix.github.io" + editarPix);

    addDevendoTransaction();

  });

  const productModal = document.getElementById('productModal');
  const newProductButton = document.getElementById('new-product');
  const closeProductModal = productModal.querySelector('.close-button');

  newProductButton.onclick = () => {
    productModal.style.display = 'block';
  };

  closeProductModal.onclick = () => {
    productModal.style.display = 'none';
  };

  document.getElementById('product-form').addEventListener('submit', (event) => {
    event.preventDefault();
    const name = document.getElementById('product-name').value.trim();
    const price = document.getElementById('product-price').value;
    let products = JSON.parse(localStorage.getItem('products')) || [];
    const existingProduct = products.find(product => product.name.toLowerCase() === name.toLowerCase());
    if (existingProduct) {
      alert('Já existe um produto com este nome!');
      return;
    }
    const product = { name, price };
    products.unshift(product);
    localStorage.setItem('products', JSON.stringify(products));
    productModal.style.display = 'none';
    document.getElementById('product-form').reset();

    document.getElementById('Error').innerText = 'produto: ' + name + ' criado com sucesso!';
  const modal = document.getElementById('modal');
  modal.style.display = 'flex';  
  setTimeout(() => {  modal.style.display = 'none';  }, 1500);
  });

  const productsModal = document.getElementById('productsModal');
  const productsButton = document.getElementById('products');
  const closeProductsModal = productsModal.querySelector('.close-button');
  const cancelProductsButton = document.getElementById('cancel-products');
  const addProductsButton = document.getElementById('add-products');

  productsButton.onclick = () => {
    displayProducts();
    productsModal.style.display = 'block';
  };

  closeProductsModal.onclick = () => {
    productsModal.style.display = 'none';
    selectedProducts = {};
  };

  cancelProductsButton.onclick = () => {
    productsModal.style.display = 'none';
    displayProducts();
  };

  addProductsButton.addEventListener('click', () => {
    const products = JSON.parse(localStorage.getItem('products')) || [];
    amount = 0;
    for (const index in selectedProducts) {
      if (selectedProducts.hasOwnProperty(index)) {
        const product = products[index];
        const quantity = selectedProducts[index];
        amount += parseFloat(product.price.replace(/[^\d]/g, '')) * quantity;
      }
    }
    transactionId = generateTransactionID();

    if (/^(0+|00[.,]00|0[.,]00)$/.test(amount.toString().replace(/[^\d,.]/g, '')) || amount.toString().replace(/[^\d,.]/g, '') === '') {		
    payload = QrCodePix(chavepix.replace(/\ /g, '+'), '', merchantName, merchantCity, transactionId, '');
    } else {
    valor = parseFloat(amount.toString().replace(/\D/g, '')) / 100;
    payload = QrCodePix(chavepix.replace(/\ /g, '+'), '', merchantName, merchantCity, transactionId, valor.toFixed(2));
    }

    GeraQRCodePix(payload, minhalogo);
    generateProductListModal(transactionId);
    totalAmountModal.textContent = formatarBRL(amount);
    
    previewValue = 0;
            previewString = '';
    const paymentModal = document.getElementById('paymentModal');

    window.addEventListener('click', (event) => {
    if (event.target === paymentModal) {
      paymentModal.style.display = 'none';
    }
});
    paymentModal.style.display = 'block';
    updateAmountDisplay();
    productsModal.style.display = 'none';
  });

  window.onclick = (event) => {
    if (event.target === productModal) {
      productModal.style.display = 'none';
    } else if (event.target === productsModal) {
      productsModal.style.display = 'none';
    }
  };

  const closePaymentModalButton = document.querySelector('#paymentModal .close-button');
  if (closePaymentModalButton) {
    closePaymentModalButton.addEventListener('click', () => {
      document.getElementById('paymentModal').style.display = 'none';
    });
  }

  const exportHistoryToCSV = () => {
    const history = JSON.parse(localStorage.getItem(chavepix)) || [];
    var today = new Date();
    var date = today.toISOString().slice(0, 10);
    var time = today.toTimeString().slice(0, 8);
    var dateTime = date + '_' + time.replace(/:/g, '-');
    if (history.length === 0) {
      alert("Não há dados no histórico para exportar.");
      return;
    }
    let csvContent = "ID,Data,Valor,Chave PIX,Produtos\n";
    history.forEach(transaction => {
      // Usa os dados completos dos produtos armazenados na transação
      const productsString = transaction.products.map(product => {
        return `${product.name} (x${product.quantity})`;
      }).join(', ');
      csvContent += `${transaction.id},${transaction.date},${transaction.amount},${transaction.chavepix},"${productsString}"\n`;
    });
    const encodedUri = encodeURI(csvContent);
    const link = document.createElement("a");
    link.setAttribute("href", "data:text/csv;charset=utf-8," + encodedUri);
    link.setAttribute("download", "historico_transacoes_pix" + dateTime +".csv");
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  };

function GeraQRCodePix(payload, minhalogo) {
    var qr = new QRious({
        element: document.getElementById('qr-minha-venda'),
        value: payload,
        size: 270,
        background: '#0100ff00',
        foreground: '#fff'
    });

    var canvas = document.getElementById('qr-minha-venda');
    var ctx = canvas.getContext('2d');
    var img = new Image();

    img.src = minhalogo;

    img.onload = function () {
        var newWidth = 50;
        var newHeight = 50;
        var x = (canvas.width - newWidth) / 2;
        var y = (canvas.height - newHeight) / 2;
        ctx.drawImage(img, x, y, newWidth, newHeight);
    };
}

  document.getElementById('export').addEventListener('click', exportHistoryToCSV);

  displayHistory();

    $('#Carregando').html(`<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-pix.png" alt="">`);
    setTimeout(() => { $('.dados').show(); $('.caixatex').hide(); $('#minhavenda').show(); $('#Carregando').hide(); $('#desfocfundo').removeClass('overlay'); }, 1000);
  return;
  }
  
  const Paramsdescriptografado = atob(Params.get('criaplaca'));
  document.getElementById("desfocfundo").style.display = "block";
    
  $('.qrcriado').html(`
  <div id="BotaoVoltar2" class="dn-l w-100 flex-ns flex-column pt4-ns pb4-ns ph5-ns ph3">
    <a class="fechalinks" onclick="mostrarLinks()"> <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" color="#fff" height="38" width="38" xmlns="http://www.w3.org/2000/svg" style="color: rgb(255, 255, 255);"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg></a>
 </div>
 <main class="flex flex-column flex-row-l mw8 center mt5 ph0 pb0 fundoplaca">
     <section class="fixed-l flex center pt6-l pt5 ph0-l ph3 measure-wide w-auto">

        <div class="flex flex-column justify-between mr6-l mb1">
        <div class="flex flex-column items-start">
        
        <div id="BotaoVoltar2" class="fw9 mt3-l dn db-l">
             <a class="fechalinks" onclick="mostrarLinks()"> <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" color="#fff" height="38" width="38" xmlns="http://www.w3.org/2000/svg" style="color: rgb(255, 255, 255);"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg></a>
        </div>
        <div id="logo" class="center flex-column items-start">
        <img style=" width: 100px; height: 100px;" src="pagamentos.files/imagens/favicon.png" alt="Meu Pix">
        </div>
        <h2 class="npurple-1 tl-l tc lh-headline mb0-l mb3-m mb4 ">Alterar Imagem de Fundo e Cores.</h2>
          <a class="botaocanva center" href="https://www.canva.com/pt_br/modelos/?query=pix&pricing=FREE" target="_blank">Modelos de fundo PIX no canva.com</a>
          </div>
        
        <label class="ph4-placa" for="link-imagem">Link da imagem</label>
        <div class="input-wrapper">
        <input class="god" type="text" id="link-imagem" placeholder="" onchange="verificarUpload()"></input>
        <button type="button" id="clear-link" onclick="limparLink()">X</button>
        </div>

        <div class="upload-wrapper">
        <label class="ph4-placa" for="imagem-upload"></label>
        <input type="file" id="imagem-upload" accept="image/*" onchange="verificarUpload()"></input>
        <button type="button" id="clear-upload" onclick="limparUpload()">X</button>
        </div>

        <label class="ph4-placa" for="angulo">Ângulo:</label>
        <input class="god" type="number" id="angulo" value="0">
        

        <div id="cor-fundo-placa">
        <label class="ph4-placa" for="cor1">Cor do fundo:</label>
        <input type="color" id="cor1" value="#ffa200">
        <label class="ph4-placa" for="cor2"></label>
        <input type="color" id="cor2" value="#ff5d00">
        </div>
        
        <div>
        <label class="ph4-placa" for="cor3">Fundo do QR:</label>
        <input type="color" id="cor3" value="#206958">
        
        <label class="ph4-placa" for="cor4"></label>
        <input type="color" id="cor4" value="#05a581">
        
        <label class="ph4-placa" for="cor5"></label>
        <input type="color" id="cor5" value="#206958">
        </div>
   </section>
 
     <section class="flex-l dn w-50"></section>
 
   <div class="w-80-ns center flex flex-column items-center tc mb5 mb7-l"><br />
     <div class="floating-placa">
      <input type="text" id="chave-placa" placeholder="">
      <label for="pixkey">Chave Pix:<b><span class="infor">*</span></b></label>
      </div>
      
      <div class="floating-placa">
      <input  type="text" id="mensagem-placa" placeholder=" "  maxlength="28">
      <label  for="mensagem-placa">mensagem no Pagamento:</label>
      </div>
      
      <div class="floating-placa">
      <input type="text" id="nome-placa" placeholder=""  maxlength="25"> 
      <label for="nome-placa">Nome do Beneficiado: <b><span class="infor">*</span></b></label>
      </div>
      
      <div class="floating-placa">
      <input type="text" id="cidade-placa" placeholder=""  maxlength="15">
      <label for="cidade-placa">Cidade do Beneficiado:<b><span class="infor">*</span></b></label>
      </div>
      
      <div class="floating-placa">
      <input type="text" id="txid-placa" placeholder=""  maxlength="20">
      <label for="txid-placa" >Identificador do pagamento: Sem espaços</label>
      </div>
     
      <div class="floating-placa">
      <input type="text" id="valor-placa" placeholder=" " oninput="amount(this)">
      <label for="valor-placa">Valor: R$ 1.000,00</label>
      </div>
      
      <div class="floating-placa">
      <input type="text" id="banco-placa" placeholder=" ">
      <label for="banco-placa">banco do Beneficiado:<b><span class="infor">*</span></b></label>
      </div>

      <div class="floating-placa">
      <input type="text" id="documento-placa" name="documento" placeholder=" " oninput="formatarDocumento(this)" maxlength="18">
      <label for="documento-placa">CPF ou CNPJ do Beneficiado:<b><span class="infor">*</span></b></label>
      </div>
      
      <div class="floating-placa">
      <input type="text" id="add-logo-placa" placeholder=" ">
      <label for="add-logo-placa">Link da logo no qr (450x450)</label>
      </div>

      <div class="upload-logo-qr">
      <div class="floating-placa">
      <input type="file" id="imagem-upload-logo-qr" accept="image/*" onchange="verificarUpload()"></input>
      <label for="imagem-upload"></label>
      </div>
      <button type="button" id="upload-logo-qr" onclick="limparUploadlogo()">X</button>
      </div>

      <div>
      <label class="ph4-placa" for="cor6">Cor do texto:</label>
      <input type="color" id="cor6" value="#ffffff">
      </div><br />
      
      <div>
      <label class="ph4-placa" for="corqrcode">Cor do QR:</label>
      <input type="color" id="corqrcode" value="#ffffff">
      </div><br />
      
      <span class="showError" id="showError" style="margin-bottom: 20px;" ></span>
      <button class="cliqueBtnplaca" onclick="gerarplacapix()">Atualizar Placa</button>

</div> 	
      <section class="dn"></section>

<!-- RIGHT SECTION -->
     <section id="payment-info" class="tamanhoimagem center flex flex-column items-center tc mb5 mb7-l">
     <div id="qr-data-placa" class="qr-placa flex-ns flex-column pt4-ns pb4-ns ph5-ns ph3">
         <h3 class="f4 fw8 mb0">Use o QR Code do Pix para pagar</h3>
         <p class="ph5-ns"></p>
         <canvas id="qr-code-placa" class="ba pa2 bw1 pa0-ns bw3-ns center flex items-center justify-center overflow-hidden" height="250" width="250"></canvas>
         <h2 id="valor-none">
             <strong id="valor"></strong>
         </h2>
         <div id="cor-dados" class="flex-column ba-ns b--black-10 ph4-placa pt0 pb4">
<p class="lh-copy tc center mb4 db-ns f5"><strong>Ou use a chave Pix</strong></p>
             <div class="flex flex-column flex-nowrap f6-ns bt-ns pt4-ns mt5 mt0-ns">

                 <div class="flex flex-row justify-between w-auto pb3">
                     <span class="justify-start b tl">Nome</span>
                     <span class="justify-end tr" id="nome"></span>
                 </div>
                 <div class="flex flex-row justify-between w-auto pb3">
                     <span class="justify-start b tl" id="cpf-cnpj">CPF</span>
                     <span class="justify-end tr" id="cpf"></span>
                 </div>
                 <div class="flex flex-row justify-between w-auto pb3">
                     <span class="justify-start b tl">Banco</span>
                     <span class="justify-end tr" id="banco-Beneficiado"></span>
                 </div>
                 <div id="infor-none" class="flex flex-row justify-between w-auto pb3">
                     <span class="justify-start b tl">Identificador</span>
                     <span class="justify-end tr" id="identificador"></span>
                 </div>
                 <div id="mensagem-none" class="flex flex-row justify-between w-auto pb3">
                     <span class="justify-start b tl">mensagem</span>
                     <span class="justify-end tr" id="mensagem"></span>
                 </div>
                 <div class="flex flex-row justify-between w-auto pb3">
                     <span class="justify-start b tl">Chave pix</span>
                     <span class="justify-end tr" id="chave"></span>
                 </div>
             </div>
         </div>
     </div><br />
     
     <div id="telacopiaplacagerada" class="modal">
     <div class="modal-content">
     <h3  class="notificatextocopiado">
     <b><span id="titulocopiaplacagerada"></span><br /></b></h3>
     <span class="texocopiado" id="textocopiaplacagerada"></span>					 
     </div>
     </div>

     <button class="cliqueBtnplaca" onclick="compartilharPlcaGerada()">Compartilhar</button><br />
     <button class="cliqueBtnplaca" onclick="BaixaPlacaPix()">Baixar Placa</button><br />
     <label class="ph4-placa">link da sua placa</label>
     <div class="copy-post">
     <input id="link-placa-gerada" onclick="copiaplacagerada()"></input>
     </div>
     </section>
     </main>
    </div>
    `);

   document.getElementById('link-placa-gerada').value = 'https://meupix.github.io/?criaplaca=' + Params.get('criaplaca');
  ParamsPix = new URLSearchParams(Paramsdescriptografado); // Obtém a URL atual e seus  ex:?criaplaca=P2NoYXZlPVN1YUNoYXZlJnZhbG9yPTAwLjAwJm5vbWU9U2V1Tm9tZSZjaWRhZGU9U3VhQ2lkYWRlJm1lbnNhZ2VuPU1pbmhhIExvamEmdHhpZD1JRGRvUGFnYW1lbnRvJmJhbmNvPSoqKiZjcGY9U2V1RlBGb3VDTlBKJndoYXRzYXBwPXRydWUmdm9sdGFyPXRydWUmbG9nbz1odHRwczovL2ZmY29kaWd1aW4udmVyY2VsLmFwcC92ZXJpZmljYWRvci9pbWFnZW5zL0xvZ29fbm92YS5wbmc=
  
  const pixkey = ParamsPix.get('chave') || '';
    let amount = ParamsPix.get('valor') || '';
  const merchantName = (ParamsPix.get('nome') || '').substring(0, 25);
  const merchantCity = (ParamsPix.get('cidade') || '').substring(0, 15);
  const description = (ParamsPix.get('mensagem') || '').substring(0, 28);
  const txid = (ParamsPix.get('txid') || '').substring(0, 20);
  const banco = ParamsPix.get('banco') || '';
  const cpf = (ParamsPix.get('cpf') || '').substring(0, 14);
  const minhalogo = ParamsPix.get('logo') || 'https://meupix.github.io/pagamentos.files/imagens/logo.png';
  
  const cor1 = ParamsPix.get('cor1') || '#ff5d00';
  const cor2 = ParamsPix.get('cor2') || '#ffa200';
  const cor3 = ParamsPix.get('cor3') || '#206958';
  const cor4 = ParamsPix.get('cor4') || '#05a581';
  const cor5 = ParamsPix.get('cor5') || '#206958';
  const cor6 = ParamsPix.get('cor6') || '#ffffff';
  const corqr = ParamsPix.get('corqr') || '#ffffff';
  const angulo = ParamsPix.get('angulo') || '47';
  const ImagemFunto = ParamsPix.get('imagemfundo');
	
  //Limpa os parâmetros da URL
  limparParametros();

  // Remove elementos da página e exibe o carregamento do QR Code
    //$('.dados').remove('');
    $('.dados').hide();
    $('#Carregando').html(`<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-pix.png" alt="">`);
    setTimeout(() => {  $('.qrcriado').show(); $('#Carregando').hide(); $('#desfocfundo').removeClass('overlay'); }, 1000);
  
  // Verifica a presença de dados obrigatórios e Atualiza os elementos na página com os dados do PIX 
  if (pixkey !== '' && merchantName !== '' && merchantCity !== '' && banco !== '' && cpf !== '') {
  
   // Lógica para ocultar elementos se os parâmetros não estiverem presentes

  if (/^(0+|00[.,]00|0[.,]00)$/.test(amount.replace(/[^\d,.]/g, '')) || amount.replace(/[^\d,.]/g, '') === '') {		
    payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, '');
	amount = '';
	document.getElementById('valor-none').style.display = 'none';
  } else {
   // Verifica se o valor já está no formato numérico desejado (sem a formatação monetária)
    if (/^\d+\.\d{2}$/.test(amount.replace(/[^\d,.]/g, ''))) {
    payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, amount.replace(/[^\d,.]/g, ''));
    document.getElementById('valor').textContent = formatarReal(amount);
    amount = formatarReal(amount);
    } else {
    amount = parseFloat(amount.replace(/[^\d,.]/g, '').replace(/\./g, '').replace(',', '.'));
    payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, amount.toFixed(2));
    document.getElementById('valor').textContent = formatarReal(amount.toFixed(2));
    amount = formatarReal(amount.toFixed(2));
    }
  }
  
  generateQRCode(minhalogo, corqr, payload);

    document.getElementById('chave').textContent = pixkey.replace(/\ /g, '+');
    document.getElementById('nome').textContent = merchantName;
    document.getElementById('mensagem').textContent = description;
    document.getElementById('identificador').textContent = txid;
    document.getElementById('banco-Beneficiado').textContent = banco;
    
    // Lógica para exibir informações opcionais na página
  if (txid === '') {
  document.getElementById('infor-none').style.display = 'none';
  } else {
  document.getElementById('identificador').textContent = txid;
  }
    
  if (description === '') {
  document.getElementById('mensagem-none').style.display = 'none';
  } else {
  document.getElementById('mensagem').textContent = description;
  }
  
   // Formata o CPF ou CNPJ, se presente, e atualiza os elementos correspondentes
  if (cpf.length === 11) {
        const cpfFormatado = formatarCPF(cpf);
        document.getElementById('cpf').textContent = cpfFormatado;
        document.getElementById('cpf-cnpj').textContent = 'CPF';
  } else if (cpf.length === 14) {
        const cnpjFormatado = formatarCNPJ(cpf);
        document.getElementById('cpf').textContent = cnpjFormatado;
        document.getElementById('cpf-cnpj').textContent = 'CNPJ';
  } else {
        document.getElementById('cpf').textContent = 'N/A';
        document.getElementById('cpf-cnpj').textContent = 'CPF OU CNPJ';
  }
  
    var fundoqr = document.getElementById('qr-code-placa');
    var addimagem = document.getElementById('qr-data-placa');   
    var cordados = document.getElementById('cor-dados');                               
		    			
	if (ImagemFunto) {
        addimagem.style.backgroundImage = "url('" + ImagemFunto + "')";
        addimagem.style.backgroundSize = "cover"; // Ajusta a imagem para cobrir todo o elemento
        addimagem.style.backgroundRepeat = "no-repeat";
        addimagem.style.backgroundPosition = "center";
        addimagem.style.color = cor6;
        cordados.style.color = cor6;
        fundoqr.style.background = "linear-gradient(" + angulo + "deg, " + cor3 + ", " + cor4 + ", " + cor5 + ")";
    } else {
        addimagem.style.background = "linear-gradient(" + angulo + "deg, " + cor1 + ", " + cor2 + ")";
        fundoqr.style.background = "linear-gradient(" + angulo + "deg, " + cor3 + ", " + cor4 + ", " + cor5 + ")";
        cordados.style.color = cor6;
        addimagem.style.color = cor6;
    }
  
    // Preenche os campos do formulário com os valores dos parâmetros
  document.getElementById('chave-placa').value = ParamsPix.get('chave').replace(/\ /g, '+') || '';
  document.getElementById('valor-placa').value = amount;
  document.getElementById('nome-placa').value = (ParamsPix.get('nome') || '').substring(0, 25);
  document.getElementById('cidade-placa').value = (ParamsPix.get('cidade') || '').substring(0, 15);
  document.getElementById('mensagem-placa').value = (ParamsPix.get('mensagem') || '').substring(0, 28);
  document.getElementById('txid-placa').value = (ParamsPix.get('txid') || '').substring(0, 20);
  document.getElementById('banco-placa').value = ParamsPix.get('banco') || '';
  document.getElementById('documento-placa').value = (ParamsPix.get('cpf') || '').substring(0, 14);
  document.getElementById('add-logo-placa').value = ParamsPix.get('logo') || '';

    document.getElementById('cor1').value = cor1;
    document.getElementById('cor2').value = cor2;
    document.getElementById('cor3').value = cor3;
    document.getElementById('cor4').value = cor4;
    document.getElementById('cor5').value = cor5;
    document.getElementById('cor6').value = cor6;
    document.getElementById('corqrcode').value = corqr;
    document.getElementById('angulo').value = angulo;
    document.getElementById('link-imagem').value = ImagemFunto;
    verificarUpload();
	
   } else {
    const code = 'erro';
    new QRious({
          element: document.getElementById('qr-code-placa'),
          value: code,
          size: 270,
          background: '#0100ff00', // Cor de fundo do QR Code
          foreground: '#fff', // Cor do código QR
          level: 'M', // Nível de correção de erro (L, M, Q, H)
        });
            var canvas = document.getElementById('qr-code-placa');
            var ctx = canvas.getContext('2d');
            var img = new Image();
            img.src = 'pagamentos.files/imagens/error.png';
            img.onload = function() {
            var newWidth = 80;
            var newHeight = 80;
            var x = (canvas.width - newWidth) / 2;
            var y = (canvas.height - newHeight) / 2;
            ctx.drawImage(img, x, y, newWidth, newHeight);
	};
			
    document.getElementById('chave').textContent = 'N/A';
    document.getElementById('nome').textContent = 'N/A';
    document.getElementById('mensagem').textContent = 'N/A';
    document.getElementById('identificador').textContent = 'N/A';
    document.getElementById('banco-Beneficiado').textContent = 'N/A';
    document.getElementById('identificador').textContent = 'N/A';
    document.getElementById('mensagem').textContent = 'N/A';
    document.getElementById('cpf').textContent = 'N/A';
    document.getElementById('cpf-cnpj').textContent = 'CPF OU CNPJ';
  }

  return;
  
  } else {

  const schave = Params.get('schave') || '';
  const nome = Params.get('nome') || '';
  const cidade = Params.get('cidade') || '';
  const cpf = Params.get('cpf') || '';
  const banco = Params.get('banco') || '';
 
  if (schave === '') {
    exibirErro('Insira o valor no parâmetros &schave=');
    return;
  }
  if (nome === '') {
    exibirErro('Insira o valor no parâmetros &nome=');
    return;
  }
  if (cidade === '') {
    exibirErro('Insira o valor no parâmetros &cidade=');
    return;
  }
  if (cpf.length !== 11 && cpf.length !== 14) {
    exibirErro('Insira o valor no parâmetros &cpf=');
    return;
  }
  if (banco === '') {
    exibirErro('Insira o valor no parâmetros &banco=');
    return;
  }
  // Preenche os campos do formulário com os valores dos parâmetros
  document.getElementById('pixkey').value = Params.get('schave').replace(/\ /g, '+') || '';
  document.getElementById('amount').value = Params.get('valor') || '';
  document.getElementById('merchantName').value = (Params.get('nome') || '').substring(0, 25);
  document.getElementById('merchantCity').value = (Params.get('cidade') || '').substring(0, 15);
  document.getElementById('description').value = (Params.get('mensagem') || '').substring(0, 28);
  document.getElementById('txid').value = (Params.get('txid') || '').substring(0, 20);
  document.getElementById('banco').value = Params.get('banco') || '';
  document.getElementById('documento').value = (Params.get('cpf') || '').substring(0, 14);
  document.getElementById('whatsapp').value = Params.get('whatsapp') || '';
  document.getElementById('botao-voltar').value = Params.get('voltar') || '';
  document.getElementById('add-logo').value = Params.get('logo') || '';
  
  //Limpa os parâmetros da URL
  //limparParametros();
  
  // Exibe os campos do formulário e oculta a animação de carregamento
  setTimeout(() => {  $('.dados').show(); $('#Carregando').hide(); $('#desfocfundo').removeClass('overlay'); }, 1000);
  return;
  }
	 
  } else {
  ParamsPix = new URLSearchParams(Params); // Obtém a URL atual e seus  ex:?chave=SuaChave&valor=00.00&nome=SeuNome&cidade=SuaCidade&mensagem=Minha Loja&txid=IDdoPagamento&banco=***&cpf=SeuFPFouCNPJ&whatsapp=true&voltar=true&logo=https://ffcodiguin.vercel.app/verificador/imagens/Logo_nova.png
  }
  
  } else {


  const Paramsdescriptografado = atob(Params.get('codepix'));
  if (Paramsdescriptografado === '') {
  exibirErro('Insira o valor no parâmetros &codepix=');
  return;
  }
  ParamsPix = new URLSearchParams(Paramsdescriptografado); // Obtém a URL atual e seus  ex:?codepix=P2NoYXZlPVN1YUNoYXZlJnZhbG9yPTAwLjAwJm5vbWU9U2V1Tm9tZSZjaWRhZGU9U3VhQ2lkYWRlJm1lbnNhZ2VuPU1pbmhhIExvamEmdHhpZD1JRGRvUGFnYW1lbnRvJmJhbmNvPSoqKiZjcGY9U2V1RlBGb3VDTlBKJndoYXRzYXBwPXRydWUmdm9sdGFyPXRydWUmbG9nbz1odHRwczovL2ZmY29kaWd1aW4udmVyY2VsLmFwcC92ZXJpZmljYWRvci9pbWFnZW5zL0xvZ29fbm92YS5wbmc=
  }
  
  const pixkey = ParamsPix.get('chave') || '';
    let amount = ParamsPix.get('valor') || '';
  const merchantName = (ParamsPix.get('nome') || '').substring(0, 25);
  const merchantCity = (ParamsPix.get('cidade') || '').substring(0, 15);
  const description = (ParamsPix.get('mensagem') || '').substring(0, 28);
  const txid = (ParamsPix.get('txid') || '').substring(0, 20);
  const banco = ParamsPix.get('banco') || '';
  const cpf = (ParamsPix.get('cpf') || '').substring(0, 14);
  const whatsapp = ParamsPix.get('whatsapp') || '';
  const voltar = ParamsPix.get('voltar') || '';
  const minhalogo = ParamsPix.get('logo') || 'pagamentos.files/imagens/logo.png';

  const idadaloja = ParamsPix.get('idadaloja') || '';
  iddopagamento = ParamsPix.get('iddopagamento') || '';

		 // Valida os parâmetros obrigatórios
  if (pixkey === '') {
    exibirErro('Insira o valor no parâmetros &chave=');
    return;
  }

  if (merchantName === '') {
    exibirErro('Insira o valor no parâmetros &nome=');
    return;
  }

  if (merchantCity === '') {
    exibirErro('Insira o valor no parâmetros &cidade=');
    return;
  }

  if (banco === '') {
    exibirErro('Insira o valor no parâmetros &banco=');
    return;
  }

  // Formata o CPF ou CNPJ, se fornecido
  if (cpf.length === 11) {
    // CPF válido
  } else if (cpf.length === 14) {
    // CNPJ válido
  } else {
    exibirErro('Insira o valor no parâmetros &cpf=');
    return;
  }
  // Verifica a presença de dados obrigatórios e Atualiza os elementos na página com os dados do PIX 
  if (pixkey !== '' && merchantName !== '' && merchantCity !== '') {
  //Limpa os parâmetros da URL
  limparParametros();
		   
  // Remove elementos da página e exibe o carregamento do QR Code
    $('.dados').remove('');
    $('#Carregando').html(`<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-pix.png" alt="">`);
    setTimeout(() => {  $('.qrcriado').show(); $('#Carregando').hide(); $('#desfocfundo').removeClass('overlay'); }, 1000);
  
   // Lógica para ocultar elementos se os parâmetros não estiverem presentes
  if (whatsapp === '') {
    document.getElementById('Botaowhat1').style.display = 'none';
    document.getElementById('Botaowhat2').style.display = 'none';
    document.getElementById('whatswidget-pre-wrapper').style.display = 'none';
  }
  if (idadaloja === '') {
    $('#Botaowhatpedido1').remove('');
    $('#Botaowhatpedido2').remove('');
  } else {
      $('#copiarchavepix').remove('');
  }
  if (voltar === '') {
    document.getElementById('BotaoVoltar1').style.display = 'none';
    document.getElementById('BotaoVoltar2').style.display = 'none';
  }     
  
  if (/^(0+|00[.,]00|0[.,]00)$/.test(amount.replace(/[^\d,.]/g, '')) || amount.replace(/[^\d,.]/g, '') === '') {		
    payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, '');
    document.getElementById('valor').textContent = 'R$ 00,00';
    document.getElementById('valor1').textContent = 'R$ 00,00';
    document.getElementById('valor2').textContent = 'R$ 00,00';
  } else {
   // Verifica se o valor já está no formato numérico desejado (sem a formatação monetária)
    if (/^\d+\.\d{2}$/.test(amount.replace(/[^\d,.]/g, ''))) {
    payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, amount.replace(/[^\d,.]/g, ''));
    document.getElementById('valor').textContent = formatarReal(amount);
    document.getElementById('valor1').textContent = formatarReal(amount);
    document.getElementById('valor2').textContent = formatarReal(amount);
    } else {
    amount = parseFloat(amount.replace(/[^\d,.]/g, '').replace(/\./g, '').replace(',', '.'));
    payload = QrCodePix(pixkey.replace(/\ /g, '+'), description, merchantName, merchantCity, txid, amount.toFixed(2));
    document.getElementById('valor').textContent = formatarReal(amount.toFixed(2));
    document.getElementById('valor1').textContent = formatarReal(amount.toFixed(2));
    document.getElementById('valor2').textContent = formatarReal(amount.toFixed(2));
    }
  }
   CriarQRCode(payload, minhalogo);
    document.getElementById('qrpix').textContent = payload;
    document.getElementById('chave').textContent = pixkey.replace(/\ /g, '+');
    document.getElementById('beneficiario').textContent = merchantName;
    document.getElementById('descricao').textContent = description;
    document.getElementById('identificador').textContent = txid;
    document.getElementById('banco-do-beneficiario').textContent = banco;	          
    document.getElementById('whatsapp').textContent = whatsapp;
    document.getElementById('nome1').textContent = merchantName;
    document.getElementById('nome2').textContent = merchantName;
    document.getElementById('nome3').textContent = merchantName;
    document.getElementById('nome4').textContent = merchantName;
    document.getElementById('voltar').textContent = voltar;
    
    // Lógica para exibir informações opcionais na página
  if (txid === '') {
  document.getElementById('infor-none').style.display = 'none';
  } else {
  document.getElementById('infor').textContent = txid;
  }
  if (description === '') {
  document.getElementById('mensagem-none').style.display = 'none';
  } else {
  document.getElementById('mensagem').textContent = description;
  }
   // Formata o CPF ou CNPJ, se presente, e atualiza os elementos correspondentes
  if (cpf.length === 11) {
        const cpfFormatado = formatarCPF(cpf);
        document.getElementById('cpf').textContent = cpfFormatado;
        document.getElementById('cpf-cnpj').textContent = 'CPF';
  } else if (cpf.length === 14) {
        const cnpjFormatado = formatarCNPJ(cpf);
        document.getElementById('cpf').textContent = cnpjFormatado;
        document.getElementById('cpf-cnpj').textContent = 'CNPJ';
  } else {
        document.getElementById('cpf').textContent = 'N/A';
        document.getElementById('cpf-cnpj').textContent = 'CPF OU CNPJ';
  }
  
  if (minhalogo === '') {
        document.getElementById('minhalogo').style.display = 'none';
  } else { 
        var imagemContainer = document.getElementById('minhalogo');
        var imagemElemento = document.createElement('img');
        imagemElemento.setAttribute('src', 'https://meupix.github.io/pagamentos.files/imagens/logo.png');
        imagemElemento.setAttribute('width', '200');
        imagemElemento.setAttribute('height', '200');
        imagemContainer.appendChild(imagemElemento);
  }
  if (idadaloja) {
      const dadosDoPedido = obterDadosDoPedidoPorId(iddopagamento, idadaloja);
  const produtos = dadosDoPedido.produtos;
        pedidowhatsapp = dadosDoPedido.pedidowhatsapp;

        const items = JSON.parse(produtos);
        const itemList = document.getElementById('itemList');
        const container = document.getElementById('container');
        const h1 = document.createElement('strong');

        h1.classList.add("lh-copy", "tc", "center", "mb4", "db-ns", "f5");
        h1.textContent = "Produtos do Pedido:";
        container.insertBefore(h1, itemList);

if (Number(dadosDoPedido.subtotal) > 0) {
  const spansubtotal = document.createElement('strong');
  spansubtotal.classList.add("valor-pedido", "valor-subtotal");
  spansubtotal.textContent = "Subtotal: " + formatarReal(dadosDoPedido.subtotal);
  container.appendChild(spansubtotal);
}

if (Number(dadosDoPedido.desconto) > 0) {
  const spandesconto = document.createElement('strong');
  spandesconto.classList.add("valor-pedido", "valor-desconto");
  spandesconto.textContent = "Desconto: - " + formatarReal(dadosDoPedido.desconto);
  container.appendChild(spandesconto);
}


if (Number(dadosDoPedido.deliveryFee) > 0) {
  const spandelivery = document.createElement('strong');
  spandelivery.classList.add("valor-pedido", "valor-entrega");
  spandelivery.textContent = "Entrega: + " + formatarReal(dadosDoPedido.deliveryFee);
  container.appendChild(spandelivery);
}
    document.getElementById('valor2').textContent = "Total: " + formatarReal(dadosDoPedido.total);
            items.forEach(item => {
              const li = document.createElement('li');
              li.innerHTML = `
                  <img src="${encodeURI(item.imageUrl)}" alt="${item.name}"> 
                  ${item.name} (Qtd: ${item.quantity}) 
                  ${item.selectedSize ? `(Tamanho: ${item.selectedSize})` : ''} 
                  ${item.selectedsabor ? `(Sabor: ${item.selectedsabor})` : ''} 
                  - ${formatarReal(item.price.toFixed(2))}
              `;
                itemList.appendChild(li);
            });
  } else {
    $('#container').remove('');
  }

   } else {
    const code = 'erro';
    new QRious({
          element: document.getElementById('qr-code'),
          value: code,
          size: 270,
          background: '#0100ff00', // Cor de fundo do QR Code
          foreground: '#fff', // Cor do código QR
          level: 'M', // Nível de correção de erro (L, M, Q, H)
        });
            var canvas = document.getElementById('qr-code');
            var ctx = canvas.getContext('2d');
            var img = new Image();
            img.src = 'pagamentos.files/imagens/error.png';
            img.onload = function() {
		        var newWidth = 80;
            var newHeight = 80;
		       var x = (canvas.width - newWidth) / 2;
            var y = (canvas.height - newHeight) / 2;
            ctx.drawImage(img, x, y, newWidth, newHeight);};
}

});

function CriarQRCode(payload, minhalogo) {
    var qr = new QRious({
      element: document.getElementById('qr-code'),
      value: payload,
      size: 270,
      background: '#0100ff00',
      foreground: '#fff'
    });

    var canvas = document.getElementById('qr-code');
    var ctx = canvas.getContext('2d');
    var img = new Image();

    img.src = minhalogo;

    img.onload = function() {
        var newWidth = 50;
        var newHeight = 50;
        var x = (canvas.width - newWidth) / 2;
        var y = (canvas.height - newHeight) / 2;
        ctx.drawImage(img, x, y, newWidth, newHeight);
    };
}

// Função para adicionar um novo link ao localStorage
function salvameupix() {
  // Obtém os valores dos campos do formulário
  const pixkey = document.getElementById('pixkey').value || '';
  const amount = document.getElementById('amount').value || '';
  const description = (document.getElementById('description').value).substring(0, 28) || '';
  const merchantName = (document.getElementById('merchantName').value).substring(0, 25) || '';
  const merchantCity = (document.getElementById('merchantCity').value).substring(0, 15) || '';
  const txid = (document.getElementById('txid').value).substring(0, 20) || '';
  const banco = document.getElementById('banco').value || '';
  const cpf = (document.getElementById('documento').value.replace(/\D/g, '')).substring(0, 18) || '';
  const whatsapp = document.getElementById('whatsapp').value || '';
  const voltar = document.getElementById('botao-voltar').value || '';
  const minhalogo = document.getElementById('add-logo').value || '';
  const titulo = document.getElementById('titulo').value || '';
  
  // Verifica a presença de dados obrigatórios

  if (pixkey === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a chave Pix.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantName === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (merchantCity === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a Cidade do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (banco === '') {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira o nome do banco do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }

  if (cpf.length !== 11 && cpf.length !== 14) {
    $('.showError').show();
    document.getElementById('showError').innerText = 'Insira a CPF OU CNPJ do Beneficiado.';
    setTimeout(() => { $('.showError').hide(); }, 2000);
    return;
  }
  
  if (titulo === '') {
      const modal = document.getElementById('modal-salvapix');
      modal.style.display = 'flex';
    return;
    }

  // Gera o link para compartilhar o PIX
  if (pixkey !== '' && merchantName !== '' && merchantCity !== '') {
    let meupixsalvo;
    let textoOriginal;
    if (cpf.length === 11) {
      const CPFLink = LinkCPF(cpf); 
      meupixsalvo = "?schave=" + pixkey + (amount ? "&valor=" + amount : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
      textoOriginal = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + CPFLink + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
    } else if (cpf.length === 14) {
      meupixsalvo = "?schave=" + pixkey + (amount ? "&valor=" + amount : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
      textoOriginal = "?chave=" + pixkey + (amount ? "&valor=" + amount.replace(/[^\d,.]/g, '') : "") + "&nome=" + merchantName + "&cidade=" + merchantCity + (description ? "&mensagem=" + description : "") + (txid ? "&txid=" + txid : "") + "&banco=" + banco + "&cpf=" + cpf + (whatsapp ? "&whatsapp=" + whatsapp : "") + (minhalogo ? "&logo=" + minhalogo : "") + (voltar ? "&voltar=" + voltar : "");
    }

    // Adicionar o link ao localStorage
	const LinkCriptografado = btoa(textoOriginal); 
	    const paramschaves = "https://meupix.github.io" + textoOriginal.replace(/\ /g, '%20').trim();
    const gerarPix = encodeURIComponent(LinkCriptografado).trim();
    const editarPix = meupixsalvo.replace(/\ /g, '%20').trim();
    const compartilharPix = "https://meupix.github.io?codepix=" + encodeURIComponent(LinkCriptografado).trim();
    let links = JSON.parse(localStorage.getItem('links')) || [];
    // Verifica se o link já existe
    if (links.some(item => item.titulo === titulo)) {
      alert('Este título já está na sua lista!');
      return; 
    }

    links.push({ 
      titulo: titulo, 
      gerarPix: gerarPix, 
      editarPix: editarPix,
      compartilharPix: compartilharPix,
      paramschaves: paramschaves	  
    }); 
    
    localStorage.setItem('links', JSON.stringify(links));  
  $('#modal-salvapix').hide();
  //document.getElementById('pixkey').value = ``;
  //document.getElementById('amount').value = ``;
  //document.getElementById('description').value = ``;
  //document.getElementById('merchantName').value = ``;
  //document.getElementById('merchantCity').value = ``;
  //document.getElementById('txid').value = ``;
  //document.getElementById('banco').value = ``;
  //document.getElementById('documento').value = ``;
  //document.getElementById('whatsapp').value = ``;
  //document.getElementById('botao-voltar').value = ``;
  //document.getElementById('add-logo').value = ``;
  document.getElementById('titulo').value = ``;
  document.getElementById('Error').innerText = 'Link Salvo com sucesso!';
  const modal = document.getElementById('modal');
  modal.style.display = 'flex';  
  setTimeout(() => {  modal.style.display = 'none';  }, 1500);
  }
}

// Função para exibir os links salvos na tela
function mostrarLinks() {
  const listaLinks = document.getElementById('lista-links');
  listaLinks.innerHTML = ''; // Limpa a lista de links existente

  const links = JSON.parse(localStorage.getItem('links')) || []; // Obtém os links do localStorage
  links.reverse(); // Inverte a ordem dos links para exibir os mais recentes primeiro

  if (links.length > 0) { // Se houver links armazenados
    // Cria abas para cada grupo de 10 links
    const numAbas = Math.ceil(links.length / 10); // Calcula o número de abas necessárias

    // Cria as abas
    for (let i = 0; i < numAbas; i++) {
      const aba = document.createElement('div'); // Cria uma nova aba
      aba.classList.add('aba'); // Adiciona a classe 'aba'
      aba.id = `aba-${i + 1}`; // Define o ID da aba

      // Cria um título para a aba
      const tituloAba = document.createElement('h3');
      tituloAba.textContent = `Lista pix ${i + 1}`;
      aba.appendChild(tituloAba);

      // Adiciona os links à aba
      for (let j = i * 10; j < (i + 1) * 10 && j < links.length; j++) {
        const itemLista = document.createElement('li'); // Cria um novo item de lista
        itemLista.classList.add('links-style'); // Adiciona a classe 'links-style'

        const linkItem = document.createElement('span'); // Cria um novo elemento span para o link
        linkItem.classList.add('link-item'); // Adiciona a classe 'link-item'
        linkItem.textContent = links[j].titulo; // Define o texto do link como o título do item
        linkItem.classList.add('link-title'); // Adiciona a classe 'link-title'

        const linkActions = document.createElement('div'); // Cria um novo elemento div para as ações do link
        linkActions.classList.add('link-actions'); // Adiciona a classe 'link-actions'

        // Botão para abrir o link
        const btnAbrir = document.createElement('button');
        btnAbrir.textContent = 'Gerar';
        btnAbrir.classList.add('open-link');
        btnAbrir.onclick = function() {
          window.location.href = "?codepix=" + links[j].gerarPix; // Redireciona para o link
        };

        // Botão para editar o link
        const btnEditar = document.createElement('button'); 
        btnEditar.textContent = 'Recria';
        btnEditar.classList.add('open-link');
        btnEditar.onclick = function() {
          window.location.href = links[j].editarPix; // Redireciona para o link
        };

        // Botão para compartilhar o link
        const btnCompartilhar = document.createElement('button');
        btnCompartilhar.textContent = 'Compartilhar';
        btnCompartilhar.classList.add('share-link');
        
        btnCompartilhar.onclick = function() {
          document.getElementById('linkcodificador').value = links[j].compartilharPix; 
          document.getElementById('urlpix').value = links[j].paramschaves; 
          document.getElementById('salva-meu-pix').value = "https://meupix.github.io" + links[j].editarPix; 
          $('#mainContent').addClass('overlay'); 
          $('#compartilhar').show(); 
          $('#close-check').show(); 
          $('#CarregaCompartilhar').show(); 
          // Define o HTML do elemento 'CarregaCompartilhar'
          $('#CarregaCompartilhar').html(`<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-compartilhar.png" alt="">`); 
          GerarLinkCurto(links[j].compartilharPix, links[j].compartilharPix);
        };

      // Botão de exclusão
      const btnExcluir = document.createElement('button');
      btnExcluir.textContent = 'Excluir';
      btnExcluir.classList.add('delete-link');
      btnExcluir.onclick = function() {
      excluirLink(links[j].titulo, i); // Chama a função para excluir o link
      };

	  	const linkActions2 = document.createElement('div');
      linkActions2.classList.add('link-actions');
      const btnCriaPlaca = document.createElement('button');
      btnCriaPlaca.textContent = 'Cria Placa';
      btnCriaPlaca.classList.add('open-link');
      btnCriaPlaca.onclick = function() {
        window.location.href = "https://meupix.vercel.app/criarplaca?dadospix=" + links[j].gerarPix;
      };
	  
	    const btnCriaVenda = document.createElement('button');
      btnCriaVenda.textContent = 'Minhas Vendas';
      btnCriaVenda.classList.add('open-link');
      btnCriaVenda.onclick = function() {
        window.location.href = "?minhavenda=" + links[j].gerarPix;
      };

      const btnlojavirtual = document.createElement('button');
      btnlojavirtual.textContent = 'Loja Virtual';
      btnlojavirtual.classList.add('open-link');
      btnlojavirtual.onclick = function() {
        window.location.href = "https://meupix.github.io/lojavirtual/criarconfig";
      };

      linkActions.appendChild(btnAbrir);
      linkActions.appendChild(btnEditar);
      linkActions.appendChild(btnCompartilhar);
      linkActions.appendChild(btnExcluir);
	    linkActions2.appendChild(btnCriaPlaca);
      linkActions2.appendChild(btnCriaVenda);
      linkActions2.appendChild(btnlojavirtual);
	   
      // Adicionar os elementos à lista
      itemLista.appendChild(linkItem);
      itemLista.appendChild(linkActions);
      itemLista.appendChild(linkActions2);
      aba.appendChild(itemLista); // Adiciona o item de lista à aba
      }

      // Esconde as abas inicialmente
      aba.style.display = 'none';
      listaLinks.appendChild(aba); // Adiciona a aba à lista de links
    }

    // Cria um elemento para conter os botões de navegação
    const botoesNavegacao = document.createElement('div');
    botoesNavegacao.classList.add('botoes-navegacao');

    // Adiciona o botão "Anterior Aba" (invisível inicialmente)
    const botaoAnteriorAba = document.createElement('button');
    botaoAnteriorAba.textContent = 'Volta';
    botaoAnteriorAba.id = 'anterior-aba';
    botaoAnteriorAba.style.display = 'none'; // Oculta inicialmente
    botoesNavegacao.appendChild(botaoAnteriorAba); // Adiciona o botão ao container

    // Adiciona o botão "Próxima Aba"
    const botaoProximaAba = document.createElement('button');
    botaoProximaAba.textContent = 'Próxima';
    botaoProximaAba.id = 'proxima-aba';

    // Verifica se há mais de 10 links para mostrar o botão
    if (links.length > 10) {
      botaoProximaAba.style.display = 'block';
    } else {
      botaoProximaAba.style.display = 'none';
    }

    botoesNavegacao.appendChild(botaoProximaAba); // Adiciona o botão ao container

    // Adiciona o container dos botões à lista de links
    listaLinks.appendChild(botoesNavegacao);

    // Mostra a primeira aba
    const primeiraAba = document.getElementById('aba-1');
    primeiraAba.style.display = 'block';

    // Define as funções dos botões de navegação
    botaoAnteriorAba.onclick = function() {
      // Obtém a aba atual
      const abaAtual = document.querySelector('.aba[style*="display: block"]');

      // Encontra a aba anterior
      const abaAnterior = abaAtual.previousElementSibling;

      // Se houver uma aba anterior, exibe-a e esconde a atual
      if (abaAnterior) {
        abaAtual.style.display = 'none';
        abaAnterior.style.display = 'block';

        // Atualiza o estado dos botões de navegação
        if (abaAnterior.id === 'aba-1') {
          botaoAnteriorAba.style.display = 'none';
        }
        botaoProximaAba.style.display = 'block';
      }
    };

    botaoProximaAba.onclick = function() {
      // Obtém a aba atual
      const abaAtual = document.querySelector('.aba[style*="display: block"]');

      // Encontra a próxima aba
      const abaProxima = abaAtual.nextElementSibling;

      // Verifica se a próxima aba tem links
      if (abaProxima && abaProxima.querySelectorAll('li').length > 0) {
        // Se houver links na próxima aba, exibe-a e esconde a atual
        abaAtual.style.display = 'none';
        abaProxima.style.display = 'block';

        // Atualiza o estado dos botões de navegação
        if (abaProxima.id !== `aba-${numAbas}`) {
          botaoProximaAba.style.display = 'block';
        } else {
          botaoProximaAba.style.display = 'none';
        }
        botaoAnteriorAba.style.display = 'block';
      }
    }

  } else { // Se não houver links armazenados
    const itemLista = document.createElement('div');
    itemLista.textContent = 'Sua lista está vazia...'; // Define o texto do item de lista
    listaLinks.appendChild(itemLista); // Adiciona o item de lista à lista de links
  }

  document.getElementById("desfocfundo").style.display = "";
  $('.qrcriado').hide();
  $('.dados').show();

  // Ocultar o formulário e mostrar a lista de links
  $('#minhavenda').hide();
  $('.caixatex').hide(); // Oculta o elemento com a classe 'caixatex'
  $('#links-container').show(); // Exibe o elemento com o id 'links-container'
  limparParametros();
}

function voltarmeusalve() {

  mostrarLinks();
}

function excluirLink(titulo, abaIndex) {
  const links = JSON.parse(localStorage.getItem('links')) || [];
  const novoLinks = links.filter(link => link.titulo !== titulo);
  localStorage.setItem('links', JSON.stringify(novoLinks));
  const numAbas2 = Math.ceil(links.length / 10);
  
  for (let i = 0; i < numAbas2; i++) {
    atualizarAba(i);
  }
  
  atualizarBotoesNavegacao(abaIndex);

  // Exibe mensagem de sucesso
  document.getElementById('Error').innerText = titulo + ', excluido com sucesso!';
  const modal = document.getElementById('modal');
  modal.style.display = 'flex';
  setTimeout(() => {  modal.style.display = 'none';  }, 1500);
}

function atualizarBotoesNavegacao(abaIndex) {
  const links = JSON.parse(localStorage.getItem('links')) || [];
  const numAbas = Math.ceil(links.length / 10);
  
  const proximaAba = document.getElementById('proxima-aba');
  const anteriorAba = document.getElementById('anterior-aba');

  // Define a visibilidade dos botões "Próxima" e "Anterior"
  proximaAba.style.display = (numAbas > abaIndex + 1) ? 'block' : 'none';
  anteriorAba.style.display = (abaIndex > 0) ? 'block' : 'none';

  // Verifica se a próxima aba tem links
  const abaAtual = document.getElementById(`aba-${abaIndex + 1}`); // Obtém a próxima aba

  if (abaAtual && abaAtual.querySelectorAll('li').length === 0) {
      // Se estiver vazia, volta para a aba anterior
    const abaAnterior = abaAtual.previousElementSibling;
    if (abaAnterior) {
      abaAtual.style.display = 'none';
      abaAnterior.style.display = 'block';
      abaIndex--; // Decrementa o índice da aba atual
    }
	  // Define a visibilidade dos botões "Próxima" e "Anterior"
    proximaAba.style.display = (numAbas > abaAtual) ? 'block' : 'none';
  anteriorAba.style.display = (abaIndex > 0) ? 'block' : 'none';
  } else {
  if (abaAtual.querySelectorAll('li').length === 0) {
    // Se estiver vazia, volta para a aba anterior
    const abaAnterior = abaAtual.previousElementSibling;
    if (abaAnterior) {
      abaAtual.style.display = 'none';
      abaAnterior.style.display = 'block';
    }
	  // Define a visibilidade dos botões "Próxima" e "Anterior"
	    proximaAba.style.display = (numAbas > abaAtual) ? 'block' : 'none';
  anteriorAba.style.display = (abaIndex > 0) ? 'block' : 'none';
  }
}
  
  proximaAba.onclick = function() {
      // Obtém a aba atual
      const abaAtual = document.querySelector('.aba[style*="display: block"]');

      // Encontra a próxima aba
      const abaProxima = abaAtual.nextElementSibling;

      // Verifica se a próxima aba tem links
      if (abaProxima && abaProxima.querySelectorAll('li').length > 0) {
        // Se houver links na próxima aba, exibe-a e esconde a atual
        abaAtual.style.display = 'none';
        abaProxima.style.display = 'block';

        // Atualiza o estado dos botões de navegação
        if (abaProxima.id !== `aba-${numAbas}`) {
          proximaAba.style.display = 'block';
        } else {
          proximaAba.style.display = 'none';
        }
        anteriorAba.style.display = 'block';
      }
    }
 }

// Função para atualizar a aba atual
function atualizarAba(abaIndex) {
  const aba = document.getElementById(`aba-${abaIndex + 1}`);
  aba.innerHTML = '';

  const tituloAba = document.createElement('h3');
  tituloAba.textContent = `Lista Pix ${abaIndex + 1}`;
  aba.appendChild(tituloAba);

  const links = JSON.parse(localStorage.getItem('links')) || [];
  links.reverse();

  if (links.length > 0) {
    for (let j = abaIndex * 10; j < (abaIndex + 1) * 10 && j < links.length; j++) {
      const itemLista = document.createElement('li');
      itemLista.classList.add('links-style');

      const linkItem = document.createElement('span');
      linkItem.classList.add('link-item');
      linkItem.textContent = links[j].titulo;
      linkItem.classList.add('link-title');

      const linkActions = document.createElement('div');
      linkActions.classList.add('link-actions');

      const btnAbrir = document.createElement('button');
      btnAbrir.textContent = 'Gerar';
      btnAbrir.classList.add('open-link');
      btnAbrir.onclick = function() {
        window.location.href = "?codepix=" + links[j].gerarPix;
      };

      const btnEditar = document.createElement('button');
      btnEditar.textContent = 'Recria';
      btnEditar.classList.add('open-link');
      btnEditar.onclick = function() {
        window.location.href = links[j].editarPix;
      };

      const btnCompartilhar = document.createElement('button');
      btnCompartilhar.textContent = 'Compartilhar';
      btnCompartilhar.classList.add('share-link');

      btnCompartilhar.onclick = function() {
        document.getElementById('linkcodificador').value = links[j].compartilharPix;
        document.getElementById('urlpix').value = links[j].paramschaves;
        document.getElementById('salva-meu-pix').value = "https://meupix.github.io" + links[j].editarPix;
        $('#mainContent').addClass('overlay');
        $('#compartilhar').show();
        $('#close-check').show();
        $('#CarregaCompartilhar').show();
        $('#CarregaCompartilhar').html(`<img class="CarrengandoQR" src="pagamentos.files/imagens/loading-compartilhar.png" alt="">`);
        GerarLinkCurto(links[j].compartilharPix, links[j].compartilharPix);
      };
	  
      const btnExcluir = document.createElement('button');
      btnExcluir.textContent = 'Excluir';
      btnExcluir.classList.add('delete-link');
      btnExcluir.onclick = function() {
        excluirLink(links[j].titulo, abaIndex);
      };

      const linkActions2 = document.createElement('div');
      linkActions2.classList.add('link-actions');
      const btnCriaPlaca = document.createElement('button');
      btnCriaPlaca.textContent = 'Cria Placa';
      btnCriaPlaca.classList.add('open-link');
      btnCriaPlaca.onclick = function() {
        window.location.href = "https://meupix.vercel.app/criarplaca?dadospix=" + links[j].gerarPix;
      };

      const btnCriaVenda = document.createElement('button');
      btnCriaVenda.textContent = 'Minhas Vendas';
      btnCriaVenda.classList.add('open-link');
      btnCriaVenda.onclick = function() {
        window.location.href = "?minhavenda=" + links[j].gerarPix;
      };

      const btnlojavirtual = document.createElement('button');
      btnlojavirtual.textContent = 'Loja Virtual';
      btnlojavirtual.classList.add('open-link');
      btnlojavirtual.onclick = function() {
        window.location.href = "lojavirtual.html?id=";
      };

      linkActions.appendChild(btnAbrir);
      linkActions.appendChild(btnEditar);
      linkActions.appendChild(btnCompartilhar);
      linkActions.appendChild(btnExcluir);
      linkActions2.appendChild(btnCriaPlaca);
      linkActions2.appendChild(btnCriaVenda);
      linkActions2.appendChild(btnlojavirtual);

      itemLista.appendChild(linkItem);
      itemLista.appendChild(linkActions);
      itemLista.appendChild(linkActions2);
      aba.appendChild(itemLista); 
    }
  } else {
    const itemLista = document.createElement('div');
    itemLista.textContent = 'Sua lista está vazia...';
    aba.appendChild(itemLista);
  }
}

function limparUploadlogo() {
    var input = document.getElementById('imagem-upload-logo-qr');
    input.value = ''; // Limpa o valor do campo de upload
	var clearlink = document.getElementById('upload-logo-qr');
	clearlink.style.display = 'none'; // Esconder o botão
}

function limparUpload() {
    var input = document.getElementById('imagem-upload');
    input.value = ''; // Limpa o valor do campo de upload
	var clearlink = document.getElementById('clear-upload');
	clearlink.style.display = 'none'; // Esconder o botão
  verificarUpload();
}

function limparLink() {
    var input = document.getElementById('link-imagem');
    input.value = ''; // Limpa o valor do campo de texto
	var clearupload = document.getElementById('clear-link');
	clearupload.style.display = 'none'; // Esconder o botão
  verificarUpload(); // Mostrar cor do fundo
}

function verificarUpload() {
    var inputlogoqr = document.getElementById('imagem-upload-logo-qr');
    var clearlogoqr = document.getElementById('upload-logo-qr');

    var corfundoplaca = document.getElementById('cor-fundo-placa');
    var inputimagem = document.getElementById('link-imagem');
    var clearupload = document.getElementById('clear-link');

    var inputlink = document.getElementById('imagem-upload');
    var clearlink = document.getElementById('clear-upload');

    // Exibir ou ocultar botão de limpar logo QR
    clearlogoqr.style.display = inputlogoqr.value ? 'block' : 'none';

    // Exibir ou ocultar botão de limpar imagem e verificar fundo da placa
    clearupload.style.display = inputimagem.value ? 'block' : 'none';
    clearlink.style.display = inputlink.value ? 'block' : 'none';

    // Se qualquer um dos inputs de imagem estiver preenchido, esconder cor-fundo-placa
    if (inputimagem.value || inputlink.value) {
        corfundoplaca.style.display = 'none';
    } else {
        corfundoplaca.style.display = 'block';
    }
}

async function compartilharPlcaGerada() {
  var paymentInfoSection = document.getElementById('qr-data-placa');
  var today = new Date();
  var date = today.toISOString().slice(0, 10);
  var time = today.toTimeString().slice(0, 8);
  var dateTime = date + '_' + time.replace(/:/g, '-');

  html2canvas(paymentInfoSection, {
    scale: 2, // Aumenta a resolução da captura
    useCORS: true // Habilita o uso de CORS para evitar problemas com imagens de outras origens
  }).then(function(canvas) {
    canvas.toBlob(function(blob) {
      var file = new File([blob], `Placa_Pix_${dateTime}.png`, { type: 'image/png' });

      if (navigator.canShare && navigator.canShare({ files: [file] })) {
        navigator.share({
          files: [file],
          title: 'Placa Pix',
          text: 'Minha Placa Pix:'
        }).then(() => {
          console.log('Compartilhamento bem-sucedido!');
        }).catch((error) => {
          console.error('Erro ao compartilhar:', error);
        });
      } else {
        alert('A API de compartilhamento da Web não é suportada neste navegador.');
      }
    });
  });
}

function BaixaPlacaPix() {
    var paymentInfoSection = document.getElementById('qr-data-placa');
    var today = new Date();
    var date = today.toISOString().slice(0, 10);
    var time = today.toTimeString().slice(0, 8);
    var dateTime = date + '_' + time.replace(/:/g, '-');
    html2canvas(paymentInfoSection, {
        scale: 2, // Aumenta a resolução da captura
        useCORS: true // Habilita o uso de CORS para evitar problemas com imagens de outras origens
    }).then(function(canvas) {
        var image = canvas.toDataURL('image/png'); // Converte o conteúdo do canvas para uma URL de dados no formato PNG

        // Cria um link temporário para download
        var link = document.createElement('a');
        link.href = image;
        link.download = 'placa-pix-' + dateTime + '.png'; // Nome do arquivo que será baixado

        // Adiciona o link ao documento, clica nele e remove-o em seguida
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    });
}

function exibirErro(mensagem) {
  document.getElementById('Error').innerText = mensagem;
  const modal = document.getElementById('modal');
  modal.style.display = 'flex';
}

function fechalinks() {
  $('#links-container').hide();
  $('.caixatex').show();
}

 // Limpa os parâmetros da URL
function limparParametros() {
  const url = window.location.href.split('?')[0];
  window.history.replaceState({}, document.title, url);
}

function QrCodePix(pixkey, description, merchantName, merchantCity, txid, amount) {
   const ChaveDescription = generateKey(pixkey, description);
    const payload = ['000201', ChaveDescription, '520400005303986'];

    if (amount) {
        payload.push(genEMV('54', amount));
    }

    merchantName = merchantName.substring(0, 25).toUpperCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
    merchantCity = merchantCity.substring(0, 15).toUpperCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');

    payload.push('5802BR' + genEMV('59', merchantName) + genEMV('60', merchantCity));

    if (txid) {
        payload.push(genEMV('62', genEMV('05', txid)) + '6304');
    }else {
	 payload.push('62070503***6304');
	}

    const pixgerado = payload.join('') + getCRC16(payload.join(''));
    return pixgerado;
}

function generateKey(pixkey, description) {
    const GovEchave = '0014BR.GOV.BCB.PIX' + genEMV('01', pixkey);
    if (description) {
		return genEMV('26', GovEchave + genEMV('02', description));
    } else {
	return genEMV('26', GovEchave);
	}
}

function genEMV(id, parameter) {
    const len = String(parameter.length).padStart(2, "0");
    return id + len + parameter;
}

function getCRC16(payload) {
    const polinomio = 0x1021;
    let resultado = 0xffff;

    const length = payload.length;
    for (let offset = 0; offset < length; offset++) {
        resultado ^= ord(payload[offset]) << 8;
        for (let bitwise = 0; bitwise < 8; bitwise++) {
            if ((resultado <<= 1) & 0x10000) resultado ^= polinomio;
            resultado &= 0xffff;
        }
    }
    return resultado.toString(16).toUpperCase().padStart(4, '0');
}

function ord(char) {
    return char.charCodeAt(0);
}

function copiarchavepix() {
  var spanElement = document.getElementById('chave');
  var tempInput = document.createElement('input');
  tempInput.value = spanElement.textContent;
  document.body.appendChild(tempInput);
  tempInput.select();
  document.execCommand('copy');
  document.body.removeChild(tempInput);
}

function copiarqrpix() {
  var spanElement = document.getElementById('qrpix');
  var tempInput = document.createElement('input');
  tempInput.value = spanElement.textContent;
  document.body.appendChild(tempInput);
  tempInput.select();
  document.execCommand('copy');
  document.body.removeChild(tempInput);
}

function copiarLinkCurto() {
  var spanElement = document.getElementById('linkcurto');
  var tempInput = document.createElement('input');
  tempInput.value = spanElement.value;
  document.body.appendChild(tempInput);
  tempInput.select();
  document.execCommand('copy');
  document.body.removeChild(tempInput);
  
  document.getElementById('textocopiado').innerText = spanElement.value;
  document.getElementById('titulocopiado').innerText = 'Link curto Copiado.';
   telacopiado = document.getElementById('telacopiado');
   telacopiado.style.display = 'flex';
   setTimeout(() => {  telacopiado.style.display = 'none'; }, 2000);
}

function copiaplacagerada() { 
  var spanElement = document.getElementById('link-placa-gerada');
  var tempInput = document.createElement('input');
  tempInput.value = spanElement.value;
  document.body.appendChild(tempInput);
  tempInput.select();
  document.execCommand('copy');
  document.body.removeChild(tempInput);
  
  document.getElementById('textocopiaplacagerada').innerText = tempInput.value;
  document.getElementById('titulocopiaplacagerada').innerText = 'Link da placa pix Copiado.';
   telacopiado = document.getElementById('telacopiaplacagerada');
   telacopiado.style.display = 'flex';
   setTimeout(() => {  telacopiado.style.display = 'none'; }, 2000);
}

function copiameulinkpix() {
  var spanElement = document.getElementById('salva-meu-pix');
  var tempInput = document.createElement('input');
  tempInput.value = spanElement.value;
  document.body.appendChild(tempInput);
  tempInput.select();
  document.execCommand('copy');
  document.body.removeChild(tempInput);
  
  document.getElementById('textocopiado').innerText = spanElement.value;
  document.getElementById('titulocopiado').innerText = 'Link Salva seu pix Copiado.';
   telacopiado = document.getElementById('telacopiado');
   telacopiado.style.display = 'flex';
   setTimeout(() => {  telacopiado.style.display = 'none'; }, 2000);
}

function copiaLink() {
  var spanElement = document.getElementById('linkcodificador');
  var tempInput = document.createElement('input');
  tempInput.value = spanElement.value;
  document.body.appendChild(tempInput);
  tempInput.select();
  document.execCommand('copy');
  document.body.removeChild(tempInput);
  document.getElementById('textocopiado').innerText = spanElement.value;
  document.getElementById('titulocopiado').innerText = 'Link Pix Copiado.';
   telacopiado = document.getElementById('telacopiado');
   telacopiado.style.display = 'flex';
   setTimeout(() => {  telacopiado.style.display = 'none'; }, 2000);
}

function copiaurlpix() {
  var spanElement = document.getElementById('urlpix');
  var tempInput = document.createElement('input');
  tempInput.value = spanElement.value;
  document.body.appendChild(tempInput);
  tempInput.select();
  document.execCommand('copy');
  document.body.removeChild(tempInput);
  document.getElementById('textocopiado').innerText = spanElement.value;
  document.getElementById('titulocopiado').innerText = 'Link dos parâmentos Copiado.';
   telacopiado = document.getElementById('telacopiado');
   telacopiado.style.display = 'flex';
   setTimeout(() => {  telacopiado.style.display = 'none'; }, 2000);
}

function amount(input) { //R$ 325.325.232,53
    let valor = input.value.replace(/\D/g, '');
     valor = (parseFloat(valor) / 100).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
     valor = valor.toLocaleString('pt-BR');
     return input.value = valor;
}

function formatarReal(input) { //R$ 325.325.232,53
    valor = input.replace(/\D/g, '');
    valor = (parseFloat(valor) / 100).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
    valor = valor.toLocaleString('pt-BR');
	return input.value = valor; 
}

function Voltar() {
const voltar = document.getElementById('voltar').textContent;
	    if (voltar === 'true') {
		  location.href ="#BotaoVoltarPix";
        } else {
         location.href = voltar;
    }
}

let pedidowhatsapp = '';

function EnviarPedido() {
 window.open(pedidowhatsapp, '_blank');
}

function EnviarComprovante() {
const whatsapp = document.getElementById('whatsapp').textContent;
        if (whatsapp === 'true') {
          location.href ="#BotaoEnviarComprovante";
          } else {
		 window.open("https://api.whatsapp.com/send?phone=" + encodeURIComponent(whatsapp) + "&text=Meu comprovante:", '_blank');
    }
}

function AbrirWhatsapp() {
const whatsapp = document.getElementById('whatsapp').textContent;
	    if (whatsapp === 'true') {
		  location.href ="#BotaoAbrirWhatsapp";
        } else {
         window.open("https://api.whatsapp.com/send?phone=" + encodeURIComponent(whatsapp), '_blank');
    }
}

function formatarDocumento(input) {
    let documento = input.value.replace(/\D/g, ''); 

    if (documento.length === 11) {
        documento = documento.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/, '$1.$2.$3-$4');
    } else if (documento.length === 14) {
        documento = documento.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/, '$1.$2.$3/$4-$5');
    }
    input.value = documento;
}

function botaovolta(input) {
     botaovolta = input.value;
	 
    if (botaovolta === 't') {
    input.value = 'true';
        return;
    }
}

function formatarTelefone(input) {
     telefone = input.value;
	 
    if (telefone === 't') {
    input.value = 'true';
        return;
    }

    telefone = input.value.replace(/\D/g, '');	
    input.value = telefone;
}

function LinkCPF(cpf) {
  return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '000$2$300');
}

function formatarCPF(cpf) {
  return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '•••.$2.$3-••');
}

function formatarCNPJ(cnpj) {
  return cnpj.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/, '$1.$2.$3/$4-$5');
}

function fecharcopia() {
  $('#telacopiado').hide();
}

function backvolta() {
  location.reload();
}
		
async function GerarLinkCurto(linkpix, linkcodificador) {
	
    const ApiLinkCurto = 'https://linkpix.vercel.app/encurtar';
    const headers = { 'Content-Type': 'application/json' };
    const data = { originalUrl: linkpix };

    try {
        const response = await fetch(ApiLinkCurto, {
            method: 'POST',
            headers: headers,
            body: JSON.stringify(data)
        });
        const responseData = await response.json();

        if (responseData.shortUrl) {
		document.getElementById('linkcurto').value = responseData.shortUrl;
		setTimeout(() => { $('.StickyDemo').show(); $('#CarregaCompartilhar').hide();}, 1000);
        } else {
		document.getElementById('linkcurto').value = linkcodificador;
		setTimeout(() => { $('.StickyDemo').show(); $('#CarregaCompartilhar').hide();}, 1000);
        }
		} catch (error) {
		document.getElementById('linkcurto').value = linkcodificador;
		setTimeout(() => { $('.StickyDemo').show(); $('#CarregaCompartilhar').hide();}, 1000);
    }
}

function Compartilhamentos() {
    const linkpix = document.getElementById('linkcurto').value.trim();
    const texto = `Meu Pix: `;
        if (navigator.share) {
          navigator.share({ text: texto, url: linkpix });
        }
}

function LinkCurto() {
    const linkpix = document.getElementById('linkcodificador').value.trim();

    const ProxyApiLinkCurto = 'https://is.gd/create.php?format=json&url=' + encodeURIComponent(linkpix);

        fetch(ProxyApiLinkCurto)
        .then(response => response.json())
        .then(data => {
            if (data.shorturl) {
                const shortenedUrl = data.shorturl;
                copiarLinkEncurtado(shortenedUrl);
            } else {
                alert('Erro ao encurtar a URL. Tente novamente mais tarde.');
            }
        })
        .catch(error => {
            alert('Erro ao encurtar a URL. Tente novamente mais tarde.');
        });
}

function copiarLinkEncurtado(shortenedUrl) {
    const tempInput = document.createElement('input');
    tempInput.value = shortenedUrl;
    document.body.appendChild(tempInput);
    tempInput.select();
    document.execCommand('copy');
    document.body.removeChild(tempInput);

    document.getElementById('textocopiado').innerText = shortenedUrl;
    document.getElementById('titulocopiado').innerText = 'Link Curto Copiado.';
    const telacopiado = document.getElementById('telacopiado');
    telacopiado.style.display = 'flex';
    setTimeout(() => { telacopiado.style.display = 'none'; }, 2000);
}

function fecharsalvapix() {
  $('#titulo').val('');
  $('#modal-salvapix').hide();
}

function fecharModal() {
  $('#modal').hide();
}

function fecharModalNomeAgendamento() {
  $('#modalagendamento').hide(); // Exibe o modal

$(window).click(function(event) {
    if ($(event.target).is('#modalagendamento')) {
        $('#modalagendamento').hide(); // Esconde o modal se clicar fora dele
    }
});
}

  function obterDadosDoPedidoPorId(idDoPedido, iddoblog) {
    const historicoJSON = localStorage.getItem(iddoblog);
    if (!historicoJSON) {
        console.error("Nenhum histórico de pedidos encontrado no localStorage.");
        return null;
    }
    try {
        const historicoDePedidos = JSON.parse(historicoJSON);
        const pedidoEncontrado = historicoDePedidos.find(pedido => pedido.id === idDoPedido);

        if (pedidoEncontrado) {
            return {
                produtos: pedidoEncontrado.produtos,
                pedidowhatsapp: pedidoEncontrado.pedidowhatsapp,
                desconto: pedidoEncontrado.desconto,
                subtotal: pedidoEncontrado.subtotal,
                deliveryFee: pedidoEncontrado.deliveryFee,
                total: pedidoEncontrado.total
            };
        } else {
            console.warn(`Pedido com ID "${idDoPedido}" não encontrado.`);
            return null;
        }
    } catch (error) {
        console.error("Erro ao parsear o JSON do localStorage:", error);
        return null;
    }
}

function fechareditform() {
    $('#modal-editar').hide();
}

function compartilharlink(sociais) {
    const linkpix = document.getElementById('linkcurto').value;
    window.open(sociais + encodeURIComponent(linkpix), '_blank');
}

function closecompartilhar() {
    $('#mainContent').removeClass('overlay');
    $('.StickyDemo').hide();
    $('#compartilhar').hide(); // Exibe o modal
}
	  new ClipboardJS('#copy-qr');
      var copyQR = document.getElementById('copy-qr');
      copyQR.addEventListener('click', function () {
          copyQR.classList.add('copied-icon');
          copyQR.innerHTML = 'QR Copiado';
          setTimeout(function () {
              copyQR.classList.remove('copied-icon');
              copyQR.innerHTML = 'Copiar QR Code';
          }, 1000);
      });
	  
	  new ClipboardJS('#copy-chave');
      var copyChave = document.getElementById('copy-chave');
      copyChave.addEventListener('click', function () {
          copyChave.classList.add('copied-icon');
          copyChave.innerHTML = 'Chave Copiado';
          setTimeout(function () {
              copyChave.classList.remove('copied-icon');
              copyChave.innerHTML = 'Copiar Chave PIX';
          }, 1000);
      });

	var button = document.getElementById("whatswidget-button");
        button.addEventListener("click", openChat);
    var conversationMessageOuter = document.getElementById("whatswidget-conversation-message-outer");
        conversationMessageOuter.addEventListener("click", openChat);
    var chatOpen = !1;
function openChat() {
	    0 == chatOpen ? (document.getElementById("whatswidget-conversation").style.display = "block",
		document.getElementById("whatswidget-conversation").style.opacity = 100,
		chatOpen = !0,
		document.getElementById("whatswidget-conversation-message-outer").style.display = "none") : (document.getElementById("whatswidget-conversation").style.opacity = 0,
		document.getElementById("whatswidget-conversation").style.display = "none",
		chatOpen = !1)
}

</script>
</body>
</html>