<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:site_name" content="MeuPix/Loja">
	<meta property="article:author" content="@DaviMaTaeus">
    <meta property="og:description" content="Compre produtos exclusivos na nossa loja online! Carrinho f√°cil, checkout r√°pido e hist√≥rico de pedidos. Pague com Pix!">
    <meta property="og:image" content="pagamentos.files/imagens/metaTag.png">
    <meta property="og:locale" content="pt_BR">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#ffa200e0">

    <link rel="icon" href="pagamentos.files/imagens/favicon.png" type="image/png">
    <link href="pagamentos.files/imagens/favicon.png" rel="shortcut icon" type="image/png">
    <title>Meu Pix - Loja online</title>
    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- √çcones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
    /* Cores Globais */
    :root {
    --primary-color: #ff6b6b;
    --secondary-color: #4ecdc4;
    --text-color: #ffffff;
    --background-color: #f9f9f9;
    --light-gray: #ddd;
    --success-color: #2ecc71;
    --error-color: #e74c3c;
    --floating-cart-bg: linear-gradient(47deg, #ffa200e0, #ff5d00e0);
}

    /* Estilos Globais */
    body {
    background-image: url(pagamentos.files/imagens/capa-pix.png);
    font-family: 'Poppins', sans-serif;
    background-color: var(--background-color);
    color: var(--text-color);
    line-height: 1.6;
    margin: 0;
    padding: 0;
}


    /* Header Styles */
header {
    text-align: center;
    background: linear-gradient(227deg, #05a5826b, #2069586b);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
}

    header img {
    max-width: 200px;
    height: auto;
    border-radius: 10px;
}

    header h1 {
    font-family: 'Poppins', sans-serif;
    color: white;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

    header p {
    font-size: 18px;
    color: #fff;
    font-weight: bold;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
}

    /* Container Principal */
.container {
    margin-right: 30px;
    margin-left: 30px;
    margin-top: 20px;
    margin-bottom: 20px;
    padding: 20px;
    box-shadow: 0 0 15px #05a582a1;
    background: linear-gradient(120deg, #206958b8, #05a582a1);
    border-radius: 15px;
    display: flex;
}

    /* Layout Desativado */
.desativado {
    margin: 20px auto;
    padding: 20px;
    box-shadow: 0 0 15px #ff0000;
    background: #ad0000b2;
    border-radius: 15px;
    color: #fff;
    text-align: center;
}

    /* Se√ß√£o de Produtos */
.products {
    flex: 2;
    padding-right: 20px;
    border-right: 1px solid var(--light-gray);
}

.products h2 {
    font-size: 2em;
    margin-bottom: 15px;
}

    /* Lista de Produtos */
#productList {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
}

    /* Item de Produto */
.product {
    width: calc(50% - 20px);
    padding: 15px;
    margin-bottom: 20px;
    margin-right: 20px;
    text-align: center;
    position: relative;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-sizing: border-box;
    border-radius: 15px;
    box-shadow: 0 0 10px rgb(0 0 0 / 53%);
    background: linear-gradient(24deg, #ff00007c, #0004ff86);
}

.product:nth-child(2n) {
    margin-right: 0;
}

.product:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.product img {
    max-width: 100%;
    height: auto;
    margin-bottom: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    transition: opacity 0.3s ease;
}

.product img:hover {
    opacity: 0.9;
}

.product h3 {
    font-size: 1.5em;
    margin-bottom: 8px;
    color: #ffffff;
    transition: color 0.3s ease;
}

.product:hover h3 {
    color: darken(#3498db, 10%);
}

.product p {
    font-size: 1.2em;
    margin-bottom: 12px;
    color: #ffffff;
}

    /* Badge de Desconto */
.discount-badge {
    position: absolute;
    top: 10px;
    left: 10px;
    background: linear-gradient(118deg, #ff0000, #cc0000);
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.9em;
    z-index: 1;
}

.discount-carrossel {
    position: absolute;
    top: 19px;
    margin-left: 20px;
    background: linear-gradient(118deg, #ff0000, #cc0000);
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.9em;
    z-index: 1;
}

    /* Barra Lateral */
aside {
    flex: 1;
    padding-left: 20px;
}

 
.tab-button {
    flex: 1; /* Distribui o espa√ßo igualmente entre os bot√µes */
    background: linear-gradient(120deg, #206958b8, #05a582a1);
    border: none;
    padding: 10px 0; /* Reduz o preenchimento vertical */
    cursor: pointer;
    border-radius: 10px 10px 0 0;
    font-size: 0.9em; /* Reduz o tamanho da fonte */
    font-weight: 500;
    color: #fff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    position: relative;
    overflow: hidden;
    z-index: 2;
    text-align: center; /* Centraliza o texto */
    white-space: nowrap; /* Evita que o texto quebre a linha */
    overflow: hidden; /* Esconde o texto que ultrapassa as bordas */
    text-overflow: ellipsis; /* Adiciona "..." ao texto que ultrapassa */
    margin: 0 2px; /* Adiciona margem lateral para separa√ß√£o */
}

.tab-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.3));
    transform: skewX(-45deg);
    transition: left 0.4s ease;
    z-index: 1;
}

.tab-button:hover::before {
    left: 150%;
}

.tab-button:hover {
    background: linear-gradient(120deg, #05a582a1, #206958b8);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.tab-button.active {
    box-shadow: 0 0 15px #ff6700;
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    color: #fff;
    z-index: 3;
}

/* Estilo base para os bot√µes */
button {
    padding: 12px 18px;

    border: none;
    border-radius: 8px;

    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    outline: none;
}

/* Estilos para os bot√µes prim√°rios */
.btnInicio {
    background-color: #3498db;
    /* Azul */
    color: #fff;
}

.btnInicio:hover {
    background-color: #2980b9;
    /* Azul mais escuro no hover */
    transform: translateY(-2px);
    /* Leve eleva√ß√£o no hover */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    /* Sombra mais intensa no hover */
}

.button-group {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
    margin-top: 20px;
}

.button-group-carousel {
    display: flex;
    margin-bottom: 9px;
    margin-top: 28px;
    flex-direction: column;
    align-items: center;
}

/* Estilo base para os bot√µes */
button {
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease; /* Transi√ß√£o para todos os atributos */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Sombra mais pronunciada */
  outline: none;
  font-weight: 500; /* Peso da fonte um pouco mais forte */
  position: relative; /* Necess√°rio para efeitos de brilho */
  overflow: hidden; /* Esconde o brilho que ultrapassa as bordas */
}

/* Efeito de brilho (Opcional, mas adiciona um toque premium) */
button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  margin-bottom: 10px;
  background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.4));
  transform: skewX(-45deg);
  transition: left 0.4s ease;
  z-index: 1;
}

button:hover::before {
  left: 150%;
}

/* Estilos para os bot√µes prim√°rios */
.btnInicio {
  background: linear-gradient(120deg, #3498db, #2980b9); /* Gradiente azul */
  color: #fff;
}

.btnInicio:hover {
  background: linear-gradient(120deg, #2980b9, #3498db); /* Inverte o gradiente no hover */
  transform: translateY(-3px); /* Eleva√ß√£o um pouco maior */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Sombra mais intensa */
}

/* Estilos para os bot√µes secund√°rios */
.ButtonFinalizarCompra {
  background: linear-gradient(120deg, #2ecc71, #27ae60); /* Gradiente verde */
  color: #fff;
}

.ButtonFinalizarCompra:hover {
  background: linear-gradient(120deg, #27ae60, #2ecc71); /* Inverte o gradiente no hover */
  transform: translateY(-3px); /* Eleva√ß√£o um pouco maior */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Sombra mais intensa */
}

/* Estilos para os bot√µes de a√ß√£o close-button*/
.ButtonEsvaziarCarrinho {
  background: linear-gradient(120deg, #e74c3c, #c0392b); /* Gradiente vermelho */
  color: #fff;
}

.ButtonEsvaziarCarrinho:hover {
  background: linear-gradient(120deg, #c0392b, #e74c3c); /* Inverte o gradiente no hover */
  transform: translateY(-3px); /* Eleva√ß√£o um pouco maior */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Sombra mais intensa */
}

/* Estilos para os bot√µes de texto */
.buy-now-button {
  background: linear-gradient(120deg, #2ecc71, #27ae60); /* Gradiente laranja */
  box-shadow: 0 0 15px #2ecc7052;
  color: #fff;
}
.add-to-cart-button {
  background: linear-gradient(120deg, #3498db, #2980b9); /* Gradiente laranja */
  box-shadow: 0 0 15px #3498db70;
  margin-bottom: 20px;
  color: #fff;
}

.add-to-cart-button:hover {
  background: linear-gradient(120deg, #d35400, #f39c12); /* Inverte o gradiente no hover */
  transform: translateY(-3px); /* Eleva√ß√£o um pouco maior */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Sombra mais intensa */
}

.buy-now-button:hover {
  background: linear-gradient(120deg, #d35400, #f39c12); /* Inverte o gradiente no hover */
  transform: translateY(-3px); /* Eleva√ß√£o um pouco maior */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Sombra mais intensa */
}

/* Estilos para os bot√µes desabilitados */
button:disabled {
  background: #ddd; /* Cinza claro */
  color: #999;
  cursor: not-allowed; /* Altera o cursor para indicar que n√£o √© clic√°vel */
  box-shadow: none; /* Remove a sombra */
  transform: none; /* Remove a eleva√ß√£o */
  opacity: 0.7; /* Diminui a opacidade para indicar que est√° desabilitado */
}

/* Estilos para o bot√£o de fechar no modal */
.close-button {
    background: linear-gradient(120deg, #e74c3c, #c0392b); /* Gradiente vermelho */
    color: #fff;
}

.close-button:hover { 
  background: linear-gradient(120deg, #e74c3c, #c0392b); /* Gradiente vermelho */
  transform: translateY(-3px); /* Eleva√ß√£o um pouco maior */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Sombra mais intensa */
}

/* Estilo adicional para os bot√µes para dar um efeito 3D suave */
button {
  border: 1px solid rgba(0, 0, 0, 0.1);
  background-clip: padding-box; /* Evita que o gradiente se estenda sob a borda */
}

/* Sutil efeito de relevo no hover */
button:hover {
  border-color: rgba(0, 0, 0, 0.2);
}

.button-container {
  display: flex;
  flex-direction: column;
}

#orderHistoryList button {
  margin-top: 12px; 
  padding: 12px 20px; 
  border-radius: 10px; 
  font-size: 1em;
  font-weight: 500; 
  border: none; 
  background: linear-gradient(120deg, #7986cb, #3f51b5); 
  color: #fff; 
  cursor: pointer; 
  transition: all 0.3s ease; 
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2); 
  position: relative; 
  overflow: hidden; 
}

#orderHistoryList button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.3));
  transform: skewX(-45deg);
  transition: left 0.4s ease;
  z-index: 1;
}

#orderHistoryList button:hover::before {
  left: 150%;
}

#orderHistoryList button:hover {
  transform: translateY(-2px); 
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); 
  background: linear-gradient(120deg, #3f51b5, #7986cb); 
}


#orderHistoryList button {
    margin-top: 10px;
    padding: 10px 15px;
    border-radius: 8px;
    font-size: 1em;
}

.pagination-buttons {
    display: flex;
    margin-top: 20px;
    justify-content: space-evenly;
}

.tabs {
    display: flex;
    margin-bottom: 20px;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}


#cartList {
    list-style: none;
    padding: 0;
}

.cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #ddd;
}

.cart-item img {
    max-width: 50px;
    height: auto;
    margin-right: 10px;
}

.cart-item span {
    flex-grow: 1;
}

.cart-item .remove-button {
    background-color: #e74c3c;
    color: #fff;
    padding: 8px 12px;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
    display: flex;
    justify-content: center;
}

.cart-item .remove-button:hover {
    display: flex;
    justify-content: center;
}

#cartTotal {
    font-weight: bold;
    color: #2ecc71;
}


.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
}

.form-group input[type="text"],
.form-group input[type="Email"],
.form-group input[type="number"],
.form-group input[type="Nome"],
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1em;
    box-sizing: border-box;
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

#orderHistoryList button {
    margin-top: 10px;
    padding: 10px 15px;
    border-radius: 8px;
    font-size: 1em;
}

.custom-select {
    margin-bottom: 12px;
    width: 55%;
    padding: 12px;
    font-size: 1em;
    border: 2px solid #ddd;
    border-radius: 8px;
    background-color: #fff;
    color: #333;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill%3D%22%23343a40%22%20d%3D%22M7%2C10l5%2C5l5%2C-5H7z%22%2F%3E%3C%2Fsvg%3E');
    background-repeat: no-repeat;
    background-position: right 12px top 50%;
    background-size: 18px;
    padding-right: 35px;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.custom-select:focus {
    border-color: #3498db;
    outline: none;
    box-shadow: 0 0 8px rgba(52, 152, 219, 0.5);
}

.custom-select option {
    font-size: 1em;
    color: #333;
    background-color: #fff;
}

#orderHistoryList {
    list-style: none;
    padding: 0;
}

.order-details {
    padding: 9px;
    margin-bottom: 10px;
    border-radius: 12px;
    background-color: #ffffff96;
    color: #000000;
}

.order-details h3 {
    color: #000000;
    margin-bottom: 10px;
}

.order-details p {
    margin-bottom: 8px;
}

.order-details h4 {
    margin-top: 15px;
    margin-bottom: 10px;
    color: #055d00;
}

.order-details ul {
    list-style: none;
    padding: 0;
}

.order-details li {
    padding: 8px 0;
    border-bottom: 1px dashed #ddd;
}

.order-details li:last-child {
    border-bottom: none;
}

.order-details img {
    vertical-align: middle;
    border-radius: 50%;
    object-fit: contain;
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 1000; 
}

.modal-content {
    position: absolute; 
    top: 50%; 
    left: 50%; 
    padding: 20px;
    width: 80%;
    max-width: 600px;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    border-radius: 10px; 
}

@keyframes animatetop {
    from {
    top: -300px;
    opacity: 0
}

to {
    top: 50%;
    opacity: 1
}
}

#qrCode {
    text-align: center;
}


.modal.fullscreen .modal-content {
    width: 100%;
    max-width: none;
    height: 100%;
    border: none;
    border-radius: 0;
    box-shadow: none;
    top: 0;
    left: 0;
    transform: none;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 0; /* Remove o padding para tela cheia */
}

.modal.fullscreen .close-button {
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 1002; /* Garante que o bot√£o fique vis√≠vel em tela cheia */
}

.modal.fullscreen #qrCode {
    width: 100%; /* Garante que ocupe toda a largura do modal */
    height: 100%; /* Garante que ocupe toda a altura do modal */
    max-width: none; /* Remove restri√ß√µes de largura */
    max-height: none; /* Remove restri√ß√µes de altura */
}

.modal.fullscreen iframe {
    width: 100%; /* Garante que o iframe ocupe toda a largura */
    height: 100%; /* Garante que o iframe ocupe toda a altura */
    border: none;
}

    /* Notifica√ß√µes */
#notification-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    width: 300px;
}

.notification {
    background-color: #2ecc71;
    color: white;
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    opacity: 0;
    transition: opacity 0.5s ease-in-out, transform 0.3s ease;
    transform: translateX(100%);
}
.notification.aguardando {
    background-color: #9e8600;
}
.notification.atualizado {
    background-color: #006eff;
}

.notification.success {
    background-color: #2ecc71;
}

.notification.error {
    background-color: #e74c3c;
}

.notification.show {
    opacity: 1;
    transform: translateX(0);
}

    /* Carrinho Flutuante */
#floating-cart {
    position: fixed;
    bottom: 20px;
    left: 20px;
    color: #fff;
    display: flex;
    align-items: center;
    padding: 17px;
    font-size: 1.5em;
    background: var(--floating-cart-bg);
    border: none;
    border-radius: 31px;
    cursor: pointer;
    box-shadow: 0 0 15px #000000ba;
    z-index: 100;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

#floating-cart:hover {
    background-color: darken(#3498db, 10%);
    transform: translateY(-2px);
    background: linear-gradient(47deg, #206958, #05a581, #206958);
}

#floating-cart .cart-icon {
    margin-right: 10px;
    font-size: 1.5em;
}

#floating-cart .cart-count {
    background-color: #e74c3c;
    color: white;
    border-radius: 50%;
    padding: 5px 15px;
    font-size: 0.8em;
    margin-left: 5px;
}

.mini-cart-button {
    display: none;
}




/* =================================== */
/*       ESTILOS DO NOVO RODAP√â        */
/* =================================== */

/* Estilo principal do rodap√© */
.rodape {
    background: linear-gradient(120deg, #206958b8, #05a582a1);
    box-shadow: 0 0 15px #05a582;
    color: #fff;
    padding: 40px 20px 20px 20px; /* Mais espa√ßo interno */
    margin-top: 30px;
    border-radius: 15px;
    font-size: 0.9em;
}

/* Container que segura as colunas */
.footer-content {
    display: flex;
    flex-wrap: wrap; /* Permite que as colunas quebrem a linha em telas menores */
    justify-content: space-between;
    gap: 30px; /* Espa√ßo entre as colunas */
    margin-bottom: 30px;
}

/* Estilo de cada coluna */
.footer-column {
    flex: 1; /* Faz as colunas dividirem o espa√ßo */
    min-width: 250px; /* Largura m√≠nima antes de quebrar a linha */
}

.footer-column h4 {
    font-size: 1.2em;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #4ecdc4; /* Linha de destaque no t√≠tulo */
    color: #ffffff;
}

.footer-column p {
    margin-bottom: 10px;
    line-height: 1.6;
}

/* Lista de links √∫teis */
.footer-links {
    list-style: none;
    padding: 0;
}
.footer-links li {
    margin-bottom: 10px;
}
.footer-links a {
    color: #fff;
    text-decoration: none;
    transition: color 0.3s ease;
}
.footer-links a:hover {
    color: #4ecdc4;
    text-decoration: underline;
}

/* √çcones de redes sociais */
.social-icons a {
    color: #fff;
    font-size: 1.8em; /* √çcones maiores */
    margin-right: 20px;
    transition: transform 0.3s ease, color 0.3s ease;
    display: inline-block; /* Necess√°rio para o transform */
}
.social-icons a:hover {
    color: #4ecdc4;
    transform: translateY(-3px); /* Efeito de eleva√ß√£o */
}

/* √çcone de pagamento */
.payment-icons .pix-icon {
    display: inline-block;
    background-color: #fff;
    border-radius: 4px;
    padding: 5px;
    margin-top: 10px;
}
.payment-icons .pix-icon img {
    width: 60px;
    height: auto;
    display: block;
}

/* Bot√£o de hor√°rios e aviso */
.footer-column #openModalhorarios {
    margin-top: 15px;
    width: 100%; /* Ocupa a largura da coluna */
}
.footer-notice {
    font-size: 0.85em;
    font-style: italic;
    margin-top: 15px;
    opacity: 0.8;
}

/* Se√ß√£o inferior do rodap√© (copyright) */
.footer-bottom {
    text-align: center;
    padding-top: 20px;
    margin-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.2); /* Linha divis√≥ria sutil */
}

/* Media Query para responsividade em celulares */
@media (max-width: 768px) {
    .footer-content {
        flex-direction: column; /* Empilha as colunas */
        text-align: center; /* Centraliza o texto */
    }
    .footer-column h4 {
        border-bottom: none; /* Remove a linha para um visual mais limpo no mobile */
    }
    .social-icons {
        margin-bottom: 20px;
    }
}




@media (max-width: 1280px) {
#featuredProductsCarousel {
    margin-right: 0 !important;
}

.container {
    margin-right: 10px !important;
    margin-left: 10px !important;
    margin-top: 20px !important;
    margin-bottom: 20px !important;
    flex-direction: column-reverse;
    padding: 10px;
    display: flex;
}

.products {
    border-right: none;
    padding-right: 0;
    margin-bottom: 20px;
}

    aside {
    padding-left: 0;
}

    header h1 {
    font-size: 2em;
}

    header p {
    font-size: 1em;
}

.products h2 {
    font-size: 1.8em;
}

#productList {
    flex-direction: column;
}

.product {
    width: 100%;
    margin-right: 0;
}
}

#featuredProductsCarousel {
    position: relative;
    overflow: hidden;
    margin-bottom: 20px;
    border-radius: 15px;
    margin-right: 20px;
    text-align: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-sizing: border-box;
    box-shadow: 0 0 15px #ff6700;
    background: linear-gradient(231deg, #ffa200b3, #ff5d00a1);
}

.loja-fechada-mensagem {
    text-align: center;
    margin-bottom: 20px;
}

.not-alert {
    padding: 15px;
    border: 1px solid transparent;
    border-radius: 4px;
}

.not-alert-danger {
    color: #000000;
}

.not-alert p {
    margin: 0;
    font-size: 1em;
}

.not-alert table {
    width: 100%;
    margin-top: 10px;
    border-collapse: collapse;
}

.not-alert table thead th {
    background-color: #ffffff;
    color: #000000;
    padding: 8px;
    border: 1px solid #ebccd1;
}

.not-alert table tbody td {
    padding: 8px;
    border: 1px solid #ebccd1;
    text-align: left;
}

.not-alert table tbody tr:nth-child(even) {
    background-color: #f9f9f9;
}

.uk-margin-xsmall-right {
    margin-right: 5px;
}



.carousel-slide {
    display: flex;
    transition: transform 0.5s ease-in-out;
}

.carousel-item {
    min-width: 100%;
    box-sizing: border-box;
    text-align: center;
    align-content: space-around;
}

.carousel-item img {
    max-width: 80%;
    height: auto;
    margin-bottom: 10px;
    border-radius: 8px;
    margin-top: 20px;
}

.carousel-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 100%;
    display: flex;
    justify-content: space-between;
    padding: 0 10px;
    box-sizing: border-box;
}

.carousel-nav button {
    background: rgba(0, 0, 0, 0.5);
    color: #fff;
    border: none;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

.carousel-nav button:hover {
    background: rgba(0, 0, 0, 0.7);
}

.required:after {
    content: " *";
    color: red;
}

@media (max-width: 768px) {
.close-button {
    font-size: 24px;
    padding: 6px 10px;
}
}

.loja-aberta {
    color: #ff7600;
    font-size: 24px;
    font-weight: bold;
}

.loja-fechada {
    color: red;
    font-size: 24px;
    font-weight: bold;
}

.whatswidget-widget-wrapper {
    font-family: "Helvetica Neue","Apple Color Emoji",Helvetica,Arial,sans-serif !important;
    font-size: 16px !important;
    position: fixed !important;
    bottom: 20px !important;
    right: 30px !important;
    z-index: 100;
}

.whatswidget-conversation {
    background-color: #e4dcd4 !important;
    background-image: url('data:image/png !important;base64,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') !important;
    background-repeat: repeat !important;
    box-shadow: rgba(0, 0, 0, 0.16) 0px 5px 40px !important;
    width: 250px !important;
    height: 300px !important;
    border-radius: 10px !important;
    transition-duration: 0.5s !important;
    margin-bottom: 80px !important
}

.whatswidget-conversation-header {
    background-color: #31d831c2 !important;
    padding: 10px !important;
    padding-left: 25px !important;
    box-shadow: 0px 1px #00000029 !important;
    font-weight: 600 !important;
    border-top-left-radius: 10px !important;
    border-top-right-radius: 10px !important
}

.whatswidget-conversation-message {
    line-height: 1.2em !important;
    background-color: rgba(0, 0, 0, 0.274) !important;
    padding: 10px !important;
    margin: 10px !important;
    margin-left: 15px !important;
    border-radius: 5px !important
}

.whatswidget-conversation-message-outer {
    background-color: #31d831c2  !important;
    padding: 10px !important;
    margin: 10px !important;
    margin-left: 0px !important;
    border-radius: 5px !important;
    box-shadow: rgba(0, 0, 0, 0.342) 0px 2.5px 10px !important;
    cursor: pointer !important;
    animation: nudge 2s linear infinite !important;
    margin-bottom: 70px !important
}

.whatswidget-text-header-outer {
    font-weight: bold !important;
    font-size: 90% !important
}

.whatswidget-text-message-outer {
    font-size: 90% !important
}

.whatswidget-conversation-cta {
    border-radius: 25px !important;
    width: 175px !important;
    font-size: 110% !important;
    padding: 10px !important;
    margin: 0 auto !important;
    text-align: center !important;
    background-color: #23b123 !important;
    color: white !important;
    font-weight: bold !important;
    box-shadow: rgba(0, 0, 0, 0.16) 0px 2.5px 10px !important;
    transition: 1s !important;
    position: absolute !important;
    top: 62% !important;
    left: 10% !important
}

.whatswidget-conversation-cta:hover {
    transform: scale(1.1) !important;
    filter: brightness(1.3) !important
}

.whatswidget-cta {
    text-decoration: none !important;
    color: white !important
}

.whatswidget-cta-desktop {
    display: none !important
}

.whatswidget-cta-mobile {
    display: inherit !important
}

    @media (min-width: 48em) {
.whatswidget-cta-desktop {
    display:inherit !important
}

.whatswidget-cta-mobile {
    display: none !important
}
}

.whatswidget-button-wrapper {
    position: fixed !important;
    bottom: 32px !important;
    right: 22px !important
}

.whatswidget-button {
    position: relative !important;
    right: 0px !important;
    background-color: #31d831 !important;
    border-radius: 100% !important;
    width: 60px !important;
    height: 60px !important;
    box-shadow: 2px 1px #0d630d63 !important;
    transition: 1s !important
}

.whatswidget-icon {
    width: 42px !important;
    height: 42px !important;
    position: absolute !important;
    bottom: 10px !important;
    left: 10px !important;
}

.whatswidget-button:hover {
    filter: brightness(115%) !important;
    transform: rotate(15deg) scale(1.15) !important;
    cursor: pointer !important
}

    @keyframes nudge {
    20%,100% {
    transform: translate(0,0)
}

    0% {
    transform: translate(0,5px);
    transform: rotate(2deg)
}

    10% {
    transform: translate(0,-5px);
    transform: rotate(-2deg)
}
}	

.backgroundred {
    background: linear-gradient(118deg, #ff0000, #cc0000);
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.9em;
}
.backgroundverde {
    background: linear-gradient(120deg, #206958, #05a582);
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.9em;
}
#modalErro {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 101;
        }
        #modalErro .conteudo {
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            width: 300px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
        #modalErro .botaoAjuda {
            background-color: #007BFF;
            color: white;
        }
        #modalErro.botaoFechar {
            background-color: #ff0000;
            color: white;
        }
        #modalErro.trocaid .conteudo {
            background: linear-gradient(153deg, #d8131388, #1900ff85);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        /* Estilos para os tipos de mensagem */
        #modalErro.success .conteudo {
            background: linear-gradient(153deg, #096d1a, #08ad08);
            color: white;
        }
        #modalErro.aviso .conteudo {
            background: linear-gradient(153deg, #6d5e09, #7e7101);
            color: white;
        }
        #modalErro.error .conteudo {
            background: linear-gradient(153deg, #f44336, #880303);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #modalErro button {
            margin-top: 10px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        /* Estilos para a tabela de hor√°rios */
.schedule-table-container {
    width: 100%;
    max-width: 50%;
    margin: 20px auto;
    overflow-x: auto;
}

.schedule-table {
    width: 100%;
    border-collapse: collapse;
    /* Combina as bordas das c√©lulas em uma √∫nica borda */
    margin: 0 auto;
    /* Centraliza a tabela dentro do container */
    font-size: 0.9em;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    /* Sutil sombra para dar profundidade */
    border-radius: 8px;
    /* Borda arredondada para um visual mais suave */
    overflow: hidden;
    /* Garante que as bordas arredondadas sejam aplicadas */
    color: var(--text-color);
}

.schedule-table thead {
    background: linear-gradient(360deg, #ffa200e0, #ff5d00e0);
    color: #fff;
    font-weight: bold;
}

.schedule-table th,
.schedule-table td {
    padding: 12px 15px;
    /* Espa√ßamento interno para melhor legibilidade */
    text-align: center;
    /* Alinhamento do texto centralizado */
    border-bottom: 1px solid #ddd;
    /* Linha divis√≥ria sutil */
}

.schedule-table tbody tr:nth-child(even) {
    background: linear-gradient(181deg, #ffa200, #ff5e00);
}

.schedule-table tbody tr:last-child {
    border-bottom: 2px solid #e2940c;
}

/* Estilos responsivos para telas menores */
@media (max-width: 600px) {
    .schedule-table-container {
        max-width: 100%;
        /* Ocupa toda a largura em telas menores */
        margin-left: 0;
        margin-right: 0;
        /* Remove margens laterais */
    }

    .schedule-table {
        font-size: 0.8em;
        /* Reduz o tamanho da fonte em telas menores */
    }

    .schedule-table th,
    .schedule-table td {
        padding: 8px 10px;
        /* Reduz o espa√ßamento interno em telas menores */
    }
}
   /* Estilos para o modal */
   .horariosModal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-contenthorarios {
            display: flex;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    justify-content: center;
    align-items: center;
        }

tbody {
    display: table-row-group;
    vertical-align: middle;
    unicode-bidi: isolate;
    background: linear-gradient(153deg, #206958, #05a582);
}

.close {
    position: absolute;
    top: -22px;
    right: 24px;
    cursor: pointer;
    display: block;
    font-size: 5em;
}

        /* Estilos para a tabela de hor√°rios */
        .schedule-table-container {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            overflow-x: auto;
            color: #333;
            /* Cor do texto para melhor contraste */
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin: 0 auto;
            font-size: 0.9em;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        .schedule-table thead {
            background-color: #343a40;
            color: #fff;
            font-weight: bold;
        }

        .schedule-table th,
        .schedule-table td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }

        .schedule-table tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        /* Responsivo para telas menores */
        @media (max-width: 600px) {
            .schedule-table-container {
                max-width: 100%;
                margin-left: 0;
                margin-right: 0;
            }

            .schedule-table {
                font-size: 0.8em;
            }

            .schedule-table th,
            .schedule-table td {
                padding: 8px 10px;
            }
        }
.status {
    font-family: helvetica;
    text-align: center;
    color: #ffffff;
    display: block;
    font-size: 1.57em;
    font-weight: bold;
}
        /* Estilos para o bot√£o de compartilhar */
#shareButton {
    background: linear-gradient(120deg, #851616cc, #1e05a5db);
    color: white;
    padding: 10px 15px;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

#openModalhorarios {
    background: linear-gradient(120deg, #851616cc, #1e05a5db);
    color: white;
    padding: 10px 15px;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
}
#openModalhorarios {
    background-color: #2980b9; /* Azul mais escuro no hover */
    transform: translateY(-2px); /* Levemente elevado no hover */
    box-shadow: 0 4px 8px rgba(0,0,0,0.3); /* Sombra mais intensa no hover */
}

#shareButton:hover {
    background-color: #2980b9; /* Azul mais escuro no hover */
    transform: translateY(-2px); /* Levemente elevado no hover */
    box-shadow: 0 4px 8px rgba(0,0,0,0.3); /* Sombra mais intensa no hover */
}
#sairdaloja {
    background: linear-gradient(60deg, #851616cc, #1e05a5db);
    color: white;
    padding: 10px 15px;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

#sairdaloja:hover {
    background-color: #2980b9; /* Azul mais escuro no hover */
    transform: translateY(-2px); /* Levemente elevado no hover */
    box-shadow: 0 4px 8px rgba(0,0,0,0.3); /* Sombra mais intensa no hover */
}

.image-slider-container { position: relative; overflow: hidden; width: 100%; }

.image-slider { display: flex; transition: transform 0.35s ease; width: 100%; }

.image-slider .slider-image { flex: 0 0 100%; width: 100%; height: auto; display: block; object-fit: cover; }

.slider-button { 
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
    background: linear-gradient(141deg, #ff0000b8, #4800ffba);
    color: #fff;
    border: none;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
    box-shadow: 2px 1px 2px #000000e8;
}

.slider-button.prev { left: 8px; }

.slider-button.next { right: 8px; }

.fullscreen-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.fullscreen-image {
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.7);
    cursor: zoom-out;
}

.close-btn {
    position: absolute;
    top: 20px;
    right: 30px;
    font-size: 40px;
    color: white;
    cursor: pointer;
    user-select: none;
}
.aviso-taxa {
    background-color: #fffbe6; /* Amarelo claro */
    border-left: 5px solid #f59e0b; /* Borda amarela/laranja */
    padding: 12px;
    margin-top: 15px;
    border-radius: 4px;
    font-size: 0.9em;
    color: #854d0e; /* Cor do texto mais escura */
    font-weight: 500;
}
/* Estilos para Filtros de Categoria */
#categoryFilters {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin-bottom: 25px;
}

.category-button {
    background: linear-gradient(120deg, #206958b8, #05a582a1);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.category-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.category-button.active {
    background: linear-gradient(231deg, #ffa200e0, #ff5d00e0);
    box-shadow: 0 0 15px #ff6700;
    font-weight: bold;
}
/* Adicione no seu CSS */
.skeleton {
    background-color: #3a3a3a;
    border-radius: 15px;
    margin-bottom: 20px;
    position: relative;
    overflow: hidden;
    height: 400px; /* Altura similar a um card de produto */
}

.skeleton::before {
    content: '';
    position: absolute;
    top: 0;
    left: -150%;
    height: 100%;
    width: 150%;
    background: linear-gradient(to right, transparent 0%, #555 50%, transparent 100%);
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% {
        left: -150%;
    }
    100% {
        left: 150%;
    }
}
/* Adicione no final do seu CSS */
.search-container {
    position: relative; /* Essencial para posicionar o bot√£o dentro dele */
}

/* Adiciona um espa√ßo √† direita no campo de texto para o bot√£o n√£o ficar em cima */
#searchInput {
    padding-right: 35px !important; 
}

.clear-search-btn {
    position: absolute;
    top: 50%;
    right: 10px; /* Dist√¢ncia da borda direita */
    transform: translateY(-50%); /* Alinha verticalmente no centro */
    
    background: none;
    border: none;
    cursor: pointer;
    
    font-size: 1.5em; /* Tamanho do "X" */
    color: #ff6600;
    
    display: none; /* Escondido por padr√£o */
}

/* Classe que vamos adicionar com JS para mostrar o bot√£o */
.clear-search-btn.show {
    display: block;
}
    </style>
</head>

<body>
    <header style="position: relative;">
    <div id="minhalogo"></div>
    <h1 id="NomeDaLoja">Carregando...</h1>
    <p id="descricao">Carregando...</p>
    <div id="statusLoja"></div>

    <div style="display: flex;flex-direction: row-reverse;justify-content: space-between;">
        <button id="sairdaloja"><span>Troca id da loja</span></button>
        <button id="shareButton"><span>üîóCompartilhar</span></button>
    </div>

    </header>

    <div class="tela-ativada">
    <div class="container">
    <div class="products" id="products">
    <h2>Nossos Produtos</h2>

    <div id="featuredProductsCarousel">
        <div class="carousel-slide"></div>
        <div class="carousel-nav">
        <button id="prevBtn"><i class="fas fa-chevron-left"></i></button>
        <button id="nextBtn"><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>

    <div class="form-group search-container" style="margin-bottom: 25px;">
    <input type="text" id="searchInput" placeholder="üîé Pesquisar por nome do produto..." style="width: 100%; color: #000;">
        <div id="clearSearchBtn" class="clear-search-btn">&times;</div>
</div>

    <div id="categoryFilters"></div>

    <div id="productList">
        <p id="loadingMessage">Carregando produtos...</p>
    </div>

    <p id="errorMessage" class="hidden" style="color: rgb(255, 255, 255);"></p>
    <div class="pagination-buttons">
        <button id="btnAnterior" onclick="previousPage()" disabled><i class="fas fa-chevron-left"></i></button>
        <button id="btnInicio" onclick="goToPage(1)" disabled>In√≠cio</button>
        <button id="btnProximo" onclick="nextPage()" disabled><i class="fas fa-chevron-right"></i></button>
    </div>
    </div>

    <aside id="cartSection">
    <div class="tabs">
        <button class="tab-button active" data-tab="cart">Meu Carrinho</button>
        <button class="tab-button" data-tab="checkout">Checkout</button>
        <button class="tab-button" data-tab="orderHistory">Hist√≥ricos</button>
    </div>

    <div id="cart" class="tab-content active">
        <h2>Seu Carrinho</h2>
        <ul id="cartList"></ul>
        <p>Total: <span id="cartTotal">R$ 0,00</span></p>
        <div class="button-group">
        <button class="ButtonFinalizarCompra" onclick="showTab('checkout')" id="proceedToCheckoutButton" disabled>Finalizar Compra</button>
        <button class="ButtonEsvaziarCarrinho" id="clearCartButton" onclick="clearCart()" disabled>Esvaziar Carrinho</button>
        </div>
    </div>

    <div id="checkout" class="tab-content">
        <h2>Detalhes da Entrega</h2>
        <form id="checkoutForm">
        <div class="form-group">
        <label for="Nome" class="required">Nome Completo</label>
        <input type="Nome" id="Nome" name="Nome" placeholder="Nome Completo" required>
        </div>

        <div class="form-group">
        <label for="Email" class="required">Email</label>
        <input type="email" id="Email" name="Email" placeholder="seu@email.com" required>
        </div>

        <div class="form-group">
        <label for="WhatsApp" class="required">WhatsApp</label>
        <input type="text" id="WhatsApp" name="WhatsApp" placeholder="(00) 90000-0000" required maxlength="15">
        </div>

        <div class="form-group">
        <label for="deliveryOption" class="required">Op√ß√£o de Entrega</label>
        <select id="deliveryOption" name="deliveryOption" class="custom-select" required
        onchange="toggleAddressFields()">
        <option value="">Retirar no Local</option>
        <option value="delivery">Entrega em Domic√≠lio</option>
        </select>
        <div id="avisoTaxaEntrega" class="aviso-taxa" style="display: none;"></div>
        </div>

        <div id="addressFields" style="display:none;">
        <div class="form-group">
        <label for="CEP" class="required">CEP</label>
        <input type="text" id="CEP" name="CEP" placeholder="00000-000" maxlength="9">
        </div>

        <div class="form-group">
        <label for="Endere√ßo" class="required">Endere√ßo</label>
        <input type="text" id="Endere√ßo" name="Endere√ßo" placeholder="Endere√ßo Completo">
        </div>

        <div class="form-group">
        <label for="Cidade" class="required">Cidade</label>
        <input type="text" id="Cidade" name="Cidade" placeholder="Cidade" disabled>
        </div>

        <div class="form-group">
        <label for="Bairro" class="required">Bairro</label>
        <input type="text" id="Bairro" name="Bairro" placeholder="Bairro" disabled>
        </div>
        </div>

        <div class="form-group">
        <label for="additionalInfo">Informa√ß√µes Adicionais (opcional)</label>
        <textarea id="additionalInfo" name="additionalInfo"
        placeholder="Informa√ß√µes Adicionais (opcional)"></textarea>
        </div>
        <div id="carrinhocheckout">
        <h3>Resumo do Pedido</h3>
        <ul id="cartListCheckout"></ul>
        <hr>
        <!-- MODIFIQUE A SE√á√ÉO DO TOTAL PARA ISTO -->
        <p class="resumo-linha">Subtotal: <span id="TotalcartCheckout">R$ 0,00</span></p>
        <p id="linhaTaxaEnvio" class="resumo-linha" style="display: none;">Taxa de Entrega: <span id="taxaEnvioCheckout"> R$ 0,00</span>
        </p>
        <h3 class="resumo-linha total-final">Total Final: <span id="totalFinalCheckout">R$ 0,00</span></h3>
        <!-- FIM DA MODIFICA√á√ÉO -->
        </div>
        <div class="button-group">
        <button class="btnInicio" type="button" onclick="generatePix()" id="generatePixButton">Gerar QR Code Pix</button>
        </div>
        </form>
    </div>

    <div id="orderHistory" class="tab-content">
        <h2>Hist√≥rico de Pedidos</h2>
        <ul id="orderHistoryList"></ul>
        <div class="button-group">
        <button class="ButtonEsvaziarCarrinho" id="clearHistoryButton" onclick="clearOrderHistory()">Apagar Hist√≥rico</button>
        </div>
    </div>
    </aside>
    </div>
    </div>

    <div id="myModal" class="modal">
    <div class="modal-content">
    <button class="close-button" onclick="closeModal()">Fechar</button>
    <div id="qrCode"></div>
    </div>
    </div>

    <div id="horariosModal" class="horariosModal">
        <div class="modal-contenthorarios">
            <span class="close" onclick="closeModalhorarios()">√ó</span>
            <div id="horariosContent"></div>
        </div>
    </div>

<footer class="rodape">
    <div class="footer-content">
        <!-- Coluna 1: Contato e Endere√ßo -->
        <div class="footer-column">
            <h4>Contato e Localiza√ß√£o</h4>
            <div id="contato-info">
                <!-- O par√°grafo de contato ser√° inserido aqui pelo JS -->
                <p id="contatorodape"></p>
            </div>
            <div id="endereco-info">
                <p><strong>üìç Endere√ßo:</strong></p>
                <p id="Endere√ßo1"></p>
                <p id="Endere√ßo2"></p>
                <p id="meucep"></p>
            </div>
        </div>

        <!-- Coluna 2: Links √öteis -->
        <div class="footer-column">
            <h4>Links √öteis</h4>
            <ul class="footer-links">
                <li><a id="politicaPrivacidadeLink" href="#" target="_blank">Pol√≠tica de Privacidade</a></li>
                <li><a id="termosUsoLink" href="#" target="_blank">Termos de Uso</a></li>
            </ul>
            <h4 style="margin-top: 20px;">Siga-nos</h4>
            <div id="redesSociaisDiv" class="social-icons">
                <!-- O JS vai esconder os que n√£o tiverem link -->
                <a id="instagramLink" href="#" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a id="facebookLink" href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a id="twitterLink" href="#" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            </div>
        </div>

        <!-- Coluna 3: Informa√ß√µes -->
        <div class="footer-column">
            <h4>Pagamento e Hor√°rios</h4>
            <div>
                <strong>Formas de Pagamento:</strong>
                <div class="payment-icons">
                    <div class="pix-icon"><img src="pagamentos.files/imagens/pix-icon.png" alt="Pix"></div>
                </div>
            </div>
            <button id="openModalhorarios" onclick="openModalhorarios()"><span>Hor√°rio de funcionamento</span></button>
            <p id="avisonorodape" class="footer-notice">‚ö†Ô∏è Todas as vendas s√£o feitas sob encomenda e conforme disponibilidade ‚ö†Ô∏è</p>
        </div>
    </div>

    <!-- Se√ß√£o Inferior do Rodap√© -->
    <div class="footer-bottom">
        <p id="rodapedaloja">Todos os direitos reservados.</p>
    </div>
</footer>

    <div id="notification-container"></div>

    <div id="floating-cart" onclick="showTab('cart')">
    <i class="fas fa-shopping-cart cart-icon"></i>
    <span class="cart-count" id="floatingCartCount">0</span>
    </div>

    <div id="whatswidget-pre-wrapper" class="">
        <div id="whatswidget-widget-wrapper" class="whatswidget-widget-wrapper">
        <div id="whatswidget-conversation" class="whatswidget-conversation" style="display: none; opacity: 0;">
        <div class="whatswidget-conversation-header" style="all:revert;">
            <div id="whatswidget-conversation-title" class="whatswidget-conversation-title" style="all:revert;"><span id="nome1"></span></div>
        </div>
        <div id="whatswidget-conversation-message" class="whatswidget-conversation-message " style="all:revert;">Qualquer d√∫vida estou a disposi√ß√£o.</div>
        <div class="whatswidget-conversation-cta" style="all:revert; cursor: pointer;">
            <a style="all:revert;" id="whatswidget-phone-desktop" onclick="AbrirWhatsapp();" class="whatswidget-cta whatswidget-cta-desktop">Enviar mensagem</a>
            <a id="whatswidget-phone-mobile" onclick="AbrirWhatsapp();" class="whatswidget-cta whatswidget-cta-mobile" style="all:revert;">Enviar mensagem</a>
        </div>
        </div>
        
        <div class="whatswidget-button-wrapper" style="all:revert;">
        <div class="whatswidget-button" id="whatswidget-button" style="all:revert;">
            <div style="margin:0 auto;width:38.5px;all:revert;">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgba(255,255,255,1)"><path d="M7.25361 18.4944L7.97834 18.917C9.18909 19.623 10.5651 20 12.001 20C16.4193 20 20.001 16.4183 20.001 12C20.001 7.58172 16.4193 4 12.001 4C7.5827 4 4.00098 7.58172 4.00098 12C4.00098 13.4363 4.37821 14.8128 5.08466 16.0238L5.50704 16.7478L4.85355 19.1494L7.25361 18.4944ZM2.00516 22L3.35712 17.0315C2.49494 15.5536 2.00098 13.8345 2.00098 12C2.00098 6.47715 6.47813 2 12.001 2C17.5238 2 22.001 6.47715 22.001 12C22.001 17.5228 17.5238 22 12.001 22C10.1671 22 8.44851 21.5064 6.97086 20.6447L2.00516 22ZM8.39232 7.30833C8.5262 7.29892 8.66053 7.29748 8.79459 7.30402C8.84875 7.30758 8.90265 7.31384 8.95659 7.32007C9.11585 7.33846 9.29098 7.43545 9.34986 7.56894C9.64818 8.24536 9.93764 8.92565 10.2182 9.60963C10.2801 9.76062 10.2428 9.95633 10.125 10.1457C10.0652 10.2428 9.97128 10.379 9.86248 10.5183C9.74939 10.663 9.50599 10.9291 9.50599 10.9291C9.50599 10.9291 9.40738 11.0473 9.44455 11.1944C9.45903 11.25 9.50521 11.331 9.54708 11.3991C9.57027 11.4368 9.5918 11.4705 9.60577 11.4938C9.86169 11.9211 10.2057 12.3543 10.6259 12.7616C10.7463 12.8783 10.8631 12.9974 10.9887 13.108C11.457 13.5209 11.9868 13.8583 12.559 14.1082L12.5641 14.1105C12.6486 14.1469 12.692 14.1668 12.8157 14.2193C12.8781 14.2457 12.9419 14.2685 13.0074 14.2858C13.0311 14.292 13.0554 14.2955 13.0798 14.2972C13.2415 14.3069 13.335 14.2032 13.3749 14.1555C14.0984 13.279 14.1646 13.2218 14.1696 13.2222V13.2238C14.2647 13.1236 14.4142 13.0888 14.5476 13.097C14.6085 13.1007 14.6691 13.1124 14.7245 13.1377C15.2563 13.3803 16.1258 13.7587 16.1258 13.7587L16.7073 14.0201C16.8047 14.0671 16.8936 14.1778 16.8979 14.2854C16.9005 14.3523 16.9077 14.4603 16.8838 14.6579C16.8525 14.9166 16.7738 15.2281 16.6956 15.3913C16.6406 15.5058 16.5694 15.6074 16.4866 15.6934C16.3743 15.81 16.2909 15.8808 16.1559 15.9814C16.0737 16.0426 16.0311 16.0714 16.0311 16.0714C15.8922 16.159 15.8139 16.2028 15.6484 16.2909C15.391 16.428 15.1066 16.5068 14.8153 16.5218C14.6296 16.5313 14.4444 16.5447 14.2589 16.5347C14.2507 16.5342 13.6907 16.4482 13.6907 16.4482C12.2688 16.0742 10.9538 15.3736 9.85034 14.402C9.62473 14.2034 9.4155 13.9885 9.20194 13.7759C8.31288 12.8908 7.63982 11.9364 7.23169 11.0336C7.03043 10.5884 6.90299 10.1116 6.90098 9.62098C6.89729 9.01405 7.09599 8.4232 7.46569 7.94186C7.53857 7.84697 7.60774 7.74855 7.72709 7.63586C7.85348 7.51651 7.93392 7.45244 8.02057 7.40811C8.13607 7.34902 8.26293 7.31742 8.39232 7.30833Z"></path></svg> 
            </div>
        </div>
        </div>
        </div>
        </div>

<script>
const Params = new URLSearchParams(window.location.search);
    let blog; // Declarar 'blog' aqui, sem inicializar

    // Fun√ß√£o para obter e validar o ID da loja
    function obterIdLoja() {
        let blog = Params.get('id'); // Tenta obter o ID da URL
        
        const newUrl = window.location.pathname;
        window.history.replaceState({}, document.title, newUrl);

        if (blog) {
            const lojaLogada = localStorage.getItem('lojalogada');

            if (lojaLogada && lojaLogada !== blog) {
                localStorage.setItem('lojalogada', blog);
            } else if (!lojaLogada) {
                localStorage.setItem('lojalogada', blog);
            }
        } else {
            blog = localStorage.getItem('lojalogada'); // Tenta obter o ID do localStorage
        }
        return blog;
    }

    // Obt√©m e valida o ID da loja
    blog = obterIdLoja();

  let cart = JSON.parse(localStorage.getItem(blog + 'cart')) || [];
  let orderHistory = JSON.parse(localStorage.getItem(blog)) || [];
    let products = [];

    let carouselProducts = [];
    let MeuPix = '';
    let whatsapp = '';
    let horariosFuncionamento = '';
    let Endere√ßo1 = '';
    let Endere√ßo2 = '';
    let unidadefederativa = '';
    let cidade = '';
    let bairro = '';
    let emailEndereco = '';
    let instagramUsuario = '';
    let facebookPagina = '';
    let twitterUsuario = '';
    let politicaPrivacidadeURL = '';
    let termosUsoURL = '';
    let isOpen = false;
    let currentPage = 1;
    const productsPerPage = 10;
    let currentCategory = 'all';
    let nomedaloja = '';
    let descricao = '';
    let logotipo = '';
    let taxadeenvio = 0;

    document.addEventListener('DOMContentLoaded', function () {

        if (!blog) {
            exibirModalErro("Digitar o id da loja", true, false, 'trocaid');
            return;
        }

    // Fun√ß√£o que processa pagamentos sequencialmente
    async function processarPagamentos() {
        // Obt√©m o hist√≥rico uma vez
        const history = JSON.parse(localStorage.getItem(blog)) || [];
        const indicesAguardandoPagamento = history
            .map((order, index) => (order.Entregue === "" || order.Enviado === "" || order.StatusPedido === "Aguardando Pagamento") ? index : -1)
            .filter(index => index !== -1); // Filtra apenas os √≠ndices v√°lidos

        for (let i = 0; i < indicesAguardandoPagamento.length; i++) {
            const index = indicesAguardandoPagamento[i];
            await verificarPagamento(index); 
        }
    }

    processarPagamentos(); // Inicia o processo de pagamento

    // Adiciona comportamento ao clique nas abas
    const tabButtons = document.querySelectorAll('.tab-button');
    tabButtons.forEach(button => {
        button.addEventListener('click', function () {
            const tabId = this.dataset.tab;
            showTab(tabId);
        });
    });

    verificarStatusDaLoja();
    updateCartDisplay();
    updateOrderHistoryDisplay();
    updateMiniCartCount();
    updateFloatingCartCount();
    updateFloatingCartAccessibilityLabel(); // Inicializa a label ARIA

    const trocaid = document.getElementById('sairdaloja');
        trocaid.addEventListener('click', function() {
        exibirModalErro("Digitar o id da loja", true, true, 'trocaid');
    });
});

function exibirModalErro(mensagem, comb, x, tipo = 'error') {
    // Verifica se j√° existe um modal e remove antes de criar outro
    let modalExistente = document.getElementById('modalErro');
    if (modalExistente) {
        modalExistente.remove();
    }

    // Cria√ß√£o do modal
    let modal2 = document.createElement('div');
    modal2.id = 'modalErro';

    // Cria√ß√£o do conte√∫do do modal
    let conteudo = document.createElement('div');
    conteudo.className = "conteudo";
    formGroupHTML = '';
    if (comb) {
    // Cria o form-group com input e bot√£o
    formGroupHTML = `
        <div class="form-group">
            <input type="text" id="addid" name="ADDid" placeholder="ID Da Loja">
        </div>
        <button class="ButtonFinalizarCompra" onclick="irParaLoja()">Ir para Loja</button>
    `;
    }

    // Adiciona os elementos ao conte√∫do
    conteudo.innerHTML = `
        <h3>${tipo === 'error' ? '‚úñÔ∏è Erro' : '' || tipo === 'success' ? '‚úîÔ∏è Sucesso' : '' || tipo === 'trocaid' ? 'üè™' : '' || tipo === 'aviso' ? '‚ö†Ô∏è' : ''} </h3>
        <p>${mensagem}</p>
        ${formGroupHTML ? `${formGroupHTML}` : ``}
    `;

    // Adiciona o bot√£o "Como criar um ID?" se `comb` for verdadeiro
    if (comb) {
        let botaoAjuda = document.createElement('a');
        botaoAjuda.href = "https://chat-meupix.blogspot.com/p/cria-sua-loja-virtual-com-meupix.html";
        botaoAjuda.target = "_blank";

        let botao = document.createElement('button');
        botao.className = "botaoAjuda";
        botao.innerText = "Como criar um ID?";
        botaoAjuda.appendChild(botao);
        conteudo.appendChild(botaoAjuda);
    }

    // Adiciona o bot√£o "Fechar" se `x` for verdadeiro
    if (x) {
        let botaoFechar = document.createElement('button');
        botaoFechar.className = "botaoFechar";
        botaoFechar.innerText = "Fechar";
        botaoFechar.onclick = function () {
            modal2.remove();
        };

        conteudo.appendChild(botaoFechar);
    }

    // Adiciona a classe do tipo ao modal
    modal2.classList.add(tipo);
    modal2.appendChild(conteudo);
    document.body.appendChild(modal2);
}

function irParaLoja() {
        const idLoja = document.getElementById('addid').value;
        if (idLoja) {
            // Remove o 'id=' existente da URL
            let url = window.location.href.replace(/[?&]id=[^&#]+/i, '');
            // Adiciona o novo ID como par√¢metro
            if (url.indexOf('?') > -1) {
                url += '&id=' + idLoja;
            } else {
                url += '?id=' + idLoja;
            }
            window.location.href = url;
        } else {
            showNotification("Por favor, insira o ID de loja.", 'error');
        }
    }

function verificarStatusDaLoja() {

    const script = document.createElement('script');
    script.src = 'https://www.blogger.com/feeds/' + blog + '/pages/default?start-index=1&max-results=500&alt=json-in-script&callback=processarStatusDaLoja';
    
    script.onerror = function () {
            exibirModalErro("ID do blog inv√°lido.", true, false, 'error');
        };
    
    document.body.appendChild(script);
}

function processarStatusDaLoja(data) {
    let fechada = false;
    let manutencao = false;
    let ativahorario = false;
    
    if (data && data.feed && data.feed.entry && data.feed.entry.length > 0) {
         nomedaloja = data.feed.title.$t;
         descricao = data.feed.subtitle.$t;
        
        document.querySelector('title').textContent = "Meu Pix - " + nomedaloja;
        document.getElementById('descricao').textContent = descricao;
        document.getElementById('NomeDaLoja').textContent = nomedaloja;
        document.getElementById('rodapedaloja').textContent = '¬© 2025 ' + nomedaloja + ' - Todos os direitos reservados.';
        
        const shareButton = document.getElementById('shareButton');
        shareButton.addEventListener('click', function() {
        const baseUrl = window.location.search; // Obt√©m a URL base da p√°gina
        const shareUrl = `${baseUrl}?id=${blog}`;

        if (navigator.share) {
        navigator.share({
        title: nomedaloja,
        text: descricao,
        url: shareUrl
        }).then(() => {
        showNotification("Link de compartilhamento Gerado!", 'success');
        }).catch((error) => {
        showNotification("Erro ao compartilhar: ", 'error');
        });
        } else {
        showNotification("Erro ao compartilhar: ", 'error');
        }
        });

        data.feed.entry.forEach(entry => {
        if (entry.content && entry.content.$t) {
        const lines = entry.content.$t.split('\n');
                
    lines.forEach(line => {
        line = line.replace(/<[^>]*>/g, '').trim();
    if (line.startsWith('fechada')) {
        fechada = line.includes('ativado');
    } else if (line.startsWith('manuten√ß√£o')) {
        manutencao = line.includes('ativado');
    } else if (line.startsWith('ativahor√°rio')) {
        ativahorario = line.includes('ativado');
    } else if (line.startsWith('pix')) {
        Pix = line.split('pix =')[1].trim();
        MeuPix = Pix.replace(/&amp;/g, "&");
    } else if (line.startsWith('whatsapp')) {
        whatsapp = line.split('=')[1].trim();
        const contatorodape = document.getElementById("contatorodape");
        contatorodape.innerHTML = `
         ${whatsapp ? `<p>üìû Contato: <a href="https://wa.me/${whatsapp}" target="_blank">WhatsApp</a> ${emailEndereco ? ` | ‚úâÔ∏è <a href="mailto:${emailEndereco}">E-mail</a></p>` : ``}` : `${whatsapp ? ` | ` : ``} ${emailEndereco ? `‚úâÔ∏è <a href="mailto:${emailEndereco}">E-mail</a></p>` : ``}`}
        `;
    } else if (line.startsWith('nome')) {
        nome = line.split('=')[1].trim();
        document.getElementById('nome1').textContent = nome;
    } else if (line.startsWith('hor√°rios')) {
        horariosFuncionamento = line.split('hor√°rios =')[1].trim();
    } else if (line.startsWith('logo')) {
        logotipo = line.split('logo =')[1].trim();
        var imagemContainer = document.getElementById('minhalogo');
        var imagemElemento = document.createElement('img');
        imagemElemento.setAttribute('src', logotipo);
        imagemElemento.setAttribute('width', '200');
        imagemElemento.setAttribute('height', '200');
        imagemContainer.appendChild(imagemElemento);
    } else if (line.startsWith('Endere√ßo1')) {
        Endere√ßo1 = line.split('Endere√ßo1 =')[1].trim();
        const Endere√ßo1id = document.getElementById("Endere√ßo1");
        Endere√ßo1id.innerHTML = `
         ${Endere√ßo1 ? `<p>üè† ${Endere√ßo1}</p>` : `üè† Carregando...`}
        `;
    } else if (line.startsWith('Endere√ßo2')) {
        Endere√ßo2 = line.split('Endere√ßo2 =')[1].trim();
        const Endere√ßo2id = document.getElementById("Endere√ßo2");
        Endere√ßo2id.innerHTML = `
         ${Endere√ßo2 ? `<p>üèôÔ∏è ${Endere√ßo2}</p>` : `üèôÔ∏è Carregando...`}
         `;
    } else if (line.startsWith('meucep')) {
        meucep = line.split('meucep =')[1].trim();
        const meucepid = document.getElementById("meucep");
        meucepid.innerHTML = `
        ${meucep ? `<p>üìÆ CEP: ${meucep}</p>` : `üìÆ CEP: Carregando...`}
        `;
    } else if (line.startsWith('unidadefederativa')) {
        unidadefederativa = line.split('unidadefederativa =')[1].trim();
    } else if (line.startsWith('cidade')) {
        cidade = line.split('cidade =')[1].trim();
    } else if (line.startsWith('bairro')) {
        bairro = line.split('bairro =')[1].trim();
    } else if (line.startsWith('emailEndereco')) {
        emailEndereco = line.split('emailEndereco =')[1].trim();
    } else if (line.startsWith('instagramUsuario')) {
        instagramUsuario = line.split('instagramUsuario =')[1].trim();
    } else if (line.startsWith('facebookPagina')) {
        facebookPagina = line.split('facebookPagina =')[1].trim();
    } else if (line.startsWith('twitterUsuario')) {
        twitterUsuario = line.split('twitterUsuario =')[1].trim();
    } else if (line.startsWith('politicaPrivacidadeURL')) {
        politicaPrivacidadeURL = line.split('politicaPrivacidadeURL =')[1].trim();
    } else if (line.startsWith('termosUsoURL')) {
        termosUsoURL = line.split('termosUsoURL =')[1].trim();
    } else if (line.startsWith('taxadeenvio ')) {
    const valorTaxa = line.split('taxadeenvio =')[1].trim();
    taxadeenvio = parseFloat(valorTaxa.replace('R$', '').replace(',', '.').trim());
    } else if (line.startsWith('avisonorodape')) {
        avisonorodape = line.split('avisonorodape =')[1].trim();
        document.getElementById('avisonorodape').textContent = avisonorodape;
    }
                });
            }
        });

        atualizarInterface(fechada, manutencao, ativahorario);

        const instagramLink = document.getElementById("instagramLink");
        const facebookLink = document.getElementById("facebookLink");
        const twitterLink = document.getElementById("twitterLink");
        const politicaPrivacidadeLink = document.getElementById("politicaPrivacidadeLink");
        const termosUsoLink = document.getElementById("termosUsoLink");

        const sigaNosParagrafo = document.getElementById("sigaNosParagrafo");
        const redesSociaisDiv = document.getElementById("redesSociaisDiv");
        const instagramSeparator = document.getElementById("instagramSeparator");
        const facebookSeparator = document.getElementById("facebookSeparator");
        const twitterSeparator = document.getElementById("twitterSeparator");
        const privacidadeTermosParagrafo = document.getElementById("privacidadeTermosParagrafo");
        const privacidadeTermosSeparator = document.getElementById("privacidadeTermosSeparator");

        let contatoAdicionado = false;
        let redesSociaisAdicionadas = false;
        let privacidadeTermosAdicionados = false;

        // Fun√ß√£o para verificar se uma string √© vazia ou cont√©m apenas espa√ßos em branco
        function isEmpty(str) {
        return (!str || str.trim().length === 0);
    }

        // Fun√ß√£o para remover o elemento e seu separador
        function removerRedeSocial(linkElement, separatorElement) {
        if (linkElement) {
        linkElement.parentNode.removeChild(linkElement);
    }
        if (separatorElement) {
        if (separatorElement.parentNode) { //verifica se o elemento pai existe
        separatorElement.parentNode.removeChild(separatorElement);
    }
    }
    }

        // Atualiza o link do Instagram, se o usu√°rio for v√°lido
        if (!isEmpty(instagramUsuario)) {
        instagramLink.href = `https://instagram.com/${instagramUsuario}`;
        redesSociaisAdicionadas = true;
    } else {
        removerRedeSocial(instagramLink, instagramSeparator);
    }

        // Atualiza o link do Facebook, se a p√°gina for v√°lida
        if (!isEmpty(facebookPagina)) {
        facebookLink.href = `https://facebook.com/${facebookPagina}`;
        redesSociaisAdicionadas = true;
    } else {
        removerRedeSocial(facebookLink, facebookSeparator);
    }

        // Atualiza o link do Twitter, se o usu√°rio for v√°lido
        if (!isEmpty(twitterUsuario)) {
        twitterLink.href = `https://x.com/${twitterUsuario}`;
        redesSociaisAdicionadas = true;
    } else {
        removerRedeSocial(twitterLink, twitterSeparator);
    }

        //Remove o siga-nos caso nenhuma rede social seja adicionada
        if (!redesSociaisAdicionadas) {
        removerRedeSocial(sigaNosParagrafo, null);
        removerRedeSocial(redesSociaisDiv, null);
    }

        // Remove o par√°grafo de termos de privacidade se n√£o houver links
        if (!isEmpty(politicaPrivacidadeURL)) {
        politicaPrivacidadeLink.href = politicaPrivacidadeURL;
        privacidadeTermosAdicionados = true;
    } else {
        removerRedeSocial(politicaPrivacidadeLink, null);
    }

        if (!isEmpty(termosUsoURL)) {
        termosUsoLink.href = termosUsoURL;
        privacidadeTermosAdicionados = true;
    } else {
        removerRedeSocial(termosUsoLink, null);
    }

        if (isEmpty(termosUsoURL) || isEmpty(politicaPrivacidadeURL)) {
        if (privacidadeTermosSeparator) {
        if (privacidadeTermosSeparator.parentNode) {
        privacidadeTermosSeparator.parentNode.removeChild(
            privacidadeTermosSeparator) //Remove a separa√ß√£o
    }

    }
    }

        if (!privacidadeTermosAdicionados) {
        if (privacidadeTermosParagrafo) {
        removerRedeSocial(privacidadeTermosParagrafo, null);
    }
    }
    }
    
    fetchProducts(); 
}

function atualizarInterface(fechada, manutencao, ativahorario) {
    const minecart = document.getElementById('floating-cart');
    const telaAtivada = document.querySelector('.products');
    const cartTabButton = document.querySelector('.tab-button[data-tab="cart"]');
    const checkoutTabButton = document.querySelector('.tab-button[data-tab="checkout"]');

    function desativarInterface() {
    if (minecart) minecart.style.display = 'none';
    if (cartTabButton) {
        cartTabButton.classList.add('disabled-tab');
        cartTabButton.disabled = true;
        cartTabButton.style.display = 'none';
        document.getElementById('cart').style.display = 'none';
    }
    if (checkoutTabButton) {
        checkoutTabButton.classList.add('disabled-tab');
        checkoutTabButton.disabled = true;
        checkoutTabButton.style.display = 'none';
    }
    const featuredProductsCarousel = document.getElementById('featuredProductsCarousel');
    if (featuredProductsCarousel) featuredProductsCarousel.style.display = 'none';
    }

    if (fechada) {
    desativarInterface();
    clearCart();
    const LojaAberta = document.getElementById('statusLoja');
    LojaAberta.innerHTML = '<h1 class="loja-fechada">Loja fechada!</h1>';
    telaAtivada.innerHTML = `
    <div class="desativado">
    <h1>‚ö†Ô∏è</h1>
    <p>A loja est√° temporariamente fechada. Por favor, volte mais tarde!</p>
    </div>
    `;
    } else if (manutencao) {
    desativarInterface();
    clearCart();
    const LojaAberta = document.getElementById('statusLoja');
    LojaAberta.innerHTML = '<h1 class="loja-fechada">Loja em Manuten√ß√£o!</h1>';
    telaAtivada.innerHTML = `
    <div class="desativado">
    <h1>‚ö†Ô∏è</h1>
    <p>Estamos trabalhando para melhorar sua experi√™ncia de compra. Por favor, volte mais tarde!</p>
    </div>
    `;
    } else if (ativahorario) {
    if (horariosFuncionamento) {
        getStoreStatus();
    }
    } else {
    isOpen = true;
    const LojaAberta = document.getElementById('statusLoja');
    LojaAberta.innerHTML = '<p class="loja-aberta">Loja aberta, Boas compras!</p>';

    // Loja aberta
    if (document.querySelector('.desativado')) {
        telaAtivada.innerHTML = ''; // Limpa a mensagem "Loja fechada"
    }
    if (minecart) minecart.style.display = 'flex'; // Exibe o carrinho flutuante
    //Reativa o carrinho caso a loja volte a estar dispon√≠vel
    if (cartTabButton) {
        cartTabButton.classList.remove('disabled-tab');
        cartTabButton.disabled = false;
        cartTabButton.style.display = 'block';
        document.getElementById('cart').style.display = 'block';
    }
    if (checkoutTabButton) {
        checkoutTabButton.classList.remove('disabled-tab');
        checkoutTabButton.disabled = false;
        checkoutTabButton.style.display = 'block';
    }
    const featuredProductsCarousel = document.getElementById('featuredProductsCarousel');
    if (featuredProductsCarousel) featuredProductsCarousel.style.display = 'block';
    }
}

function fetchProducts() {
    if (isOpen) { } else { return;}
    const productListElement = document.getElementById('productList');
    const errorMessage = document.getElementById('errorMessage');

    // Limpa a lista e mostra os skeletons
    productListElement.innerHTML = `
        <div class="product skeleton"></div>
        <div class="product skeleton"></div>
        <div class="product skeleton"></div>
        <div class="product skeleton"></div>
    `;
    errorMessage.classList.add('hidden');

    const script = document.createElement('script');
    script.src = 'https://www.blogger.com/feeds/' + blog + '/posts/default?start-index=1&max-results=500&alt=json-in-script&callback=processarProdutos';

    script.onerror = function () {
        productListElement.innerHTML = ''; // Limpa os skeletons em caso de erro
        errorMessage.textContent = 'A loja foi desativada ou o ID √© inv√°lido. Verifique novamente mais tarde.';
        errorMessage.classList.remove('hidden');

        // Desativa abas, etc.
        const cartTabButton = document.querySelector('.tab-button[data-tab="cart"]');
        const checkoutTabButton = document.querySelector('.tab-button[data-tab="checkout"]');
        if (cartTabButton) cartTabButton.style.display = 'none';
        if (checkoutTabButton) checkoutTabButton.style.display = 'none';
    };

    document.body.appendChild(script);
}

function processarProdutos(data) {
    const loadingMessage = document.getElementById('loadingMessage');
    
    try {
        products = []; // Limpa o array de produtos
        carouselProducts = []; // Limpa o array de produtos do carrossel

        data.feed.entry.forEach(entry => {
            const product = parseProductFromEntry(entry);
            products.push(product);

            if (product.isCarousel) {
                carouselProducts.push(product);
            }
        });

        if (carouselProducts.length > 0) {
            initializeCarousel();
        }

        displayCategoryFilters();
        displayProducts();

    } catch (error) {
        console.error("Erro ao processar produtos:", error);
    }
}

function verificarDisponibilidadeProdutos() {
    // Retorna uma Promise para que possamos usar async/await
    return new Promise((resolve, reject) => {
        // Define uma fun√ß√£o de callback global tempor√°ria
        window.verificarProdutosCallback = (data) => {
            const latestProducts = data.feed.entry.map(parseProductFromEntry);

            // --- IN√çCIO DA MODIFICA√á√ÉO ---
            // 1. Atualiza as listas de produtos globais com os dados mais recentes.
            products = latestProducts;
            carouselProducts = latestProducts.filter(p => p.isCarousel);

            // 2. Redesenha a vitrine de produtos e o carrossel na tela.
            displayProducts();
            if (carouselProducts.length > 0) {
                initializeCarousel();
            }
            // --- FIM DA MODIFICA√á√ÉO ---


            let cartWasModified = false;
            const errorMessages = [];
            const updatedCart = [];

            cart.forEach(itemInCart => {
                const latestProduct = latestProducts.find(p => p.name === itemInCart.name);

                // Verifica√ß√£o 1: O produto ainda existe?
                if (!latestProduct || !latestProduct.available) {
                    cartWasModified = true;
                    errorMessages.push(`- O produto "${itemInCart.name}" n√£o est√° mais dispon√≠vel e foi removido.`);
                    return; // Pula para o pr√≥ximo item do carrinho
                }

                // Verifica√ß√£o 2: A quantidade √© v√°lida?
                if (itemInCart.quantity > latestProduct.quantity) {
                    cartWasModified = true;
                    errorMessages.push(`- O estoque de "${itemInCart.name}" foi atualizado. Quantidade ajustada para ${latestProduct.quantity}.`);
                    itemInCart.quantity = latestProduct.quantity;
                }

                // Verifica√ß√£o 3: O pre√ßo mudou?
                if (itemInCart.price.toFixed(2) !== latestProduct.price.toFixed(2)) {
                    cartWasModified = true;
                    errorMessages.push(`- O pre√ßo de "${itemInCart.name}" mudou para ${realBR(latestProduct.price)}.`);
                    itemInCart.price = latestProduct.price;
                }

                updatedCart.push(itemInCart); // Adiciona o item (possivelmente modificado) ao novo carrinho
            });

            // Se o carrinho foi modificado, atualiza tudo e informa o usu√°rio
            if (cartWasModified) {
                cart = updatedCart; // Substitui o carrinho antigo pelo atualizado
                localStorage.setItem(blog + 'cart', JSON.stringify(cart));
                updateCartDisplay();
                updateFloatingCartCount();
                
                const finalMessage = "Seu carrinho foi atualizado devido a mudan√ßas no estoque ou pre√ßos:\n\n" + errorMessages.join('\n') + "\n\nPor favor, verifique antes de continuar.";
                exibirModalErro(finalMessage.replace(/\n/g, '<br>'), false, true, 'aviso');

                resolve(false); // Indica que a verifica√ß√£o falhou
            } else {
                resolve(true); // Indica que est√° tudo OK
            }

            // Limpeza: remove a fun√ß√£o de callback e o script
            document.body.removeChild(document.getElementById('productVerificationScript'));
            delete window.verificarProdutosCallback;
        };

        // Cria e adiciona o script para a chamada JSONP
        const script = document.createElement('script');
        script.id = 'productVerificationScript';
        script.src = 'https://www.blogger.com/feeds/' + blog + '/posts/default?start-index=1&max-results=500&alt=json-in-script&callback=verificarProdutosCallback';
        script.onerror = () => {
            showNotification("N√£o foi poss√≠vel verificar os produtos. Tente novamente.", 'error');
            reject(new Error("Falha ao carregar script de verifica√ß√£o."));
            document.body.removeChild(script);
            delete window.verificarProdutosCallback;
        };
        document.body.appendChild(script);
    });
}

function parseProductFromEntry(entry) {
    const entryTitle = entry.title.$t;
    const content = entry.content.$t;
    let imageUrls = [];
    const imgRegex = /<img.*?src="(.*?)"/g;
    let imgMatch;

    while ((imgMatch = imgRegex.exec(content)) !== null) {
        imageUrls.push(imgMatch[1]);
    }

    let price = 0;
    let originalPrice = 0;
    let discount = 0;
    let sizes = [];
    let sabor = [];
    let quantity = 0;
    let isCarousel = false;
    let categories = [];

    if (entry.category && Array.isArray(entry.category)) {
        isCarousel = entry.category.some(cat => cat.term.toLowerCase() === 'carousel');
        entry.category.forEach(cat => {
            const term = cat.term;
            if (term.startsWith('R$')) {
                price = parseFloat(term.replace('R$ ', '').replace(',', '.'));
            } else if (term.toLowerCase().startsWith('tamanho/')) {
                sizes = term.substring('tamanho/'.length).split('/');
            } else if (term.toLowerCase().startsWith('sabor/')) {
                sabor = term.substring('sabor/'.length).split('/');
            } else if (term.toLowerCase().startsWith('quantidade/')) {
                quantity = parseInt(term.substring('quantidade/'.length));
            } else if (term.toLowerCase().startsWith('desconto/')) {
                discount = parseInt(term.substring('desconto/'.length));
            } else if (term.toLowerCase().startsWith('categorias/')) {
                categories = term.substring('categorias/'.length).split('/').filter(c => c.trim() !== '');
            }
        });
    }

    const discountedPrice = price * (1 - (discount / 100));

    return {
        name: entryTitle,
        price: discountedPrice,
        originalPrice: price,
        imageUrls: imageUrls,
        sizes: sizes,
        sabor: sabor,
        quantity: quantity,
        discount: discount,
        available: quantity > 0,
        categories: categories,
        isCarousel: isCarousel
    };
}

// Fun√ß√£o para criar e exibir os bot√µes de filtro de categoria
function displayCategoryFilters() {
    const filtersContainer = document.getElementById('categoryFilters');
    if (!filtersContainer) return;

    // Extrai todas as categorias √∫nicas de todos os produtos
    const allCategories = new Set();
    products.forEach(p => {
        if (p.categories && p.categories.length > 0) {
            p.categories.forEach(cat => allCategories.add(cat));
        }
    });

    // Limpa filtros antigos e cria o bot√£o "Todos"
    filtersContainer.innerHTML = '';
    const allButton = document.createElement('button');
    allButton.textContent = 'Todos';
    allButton.classList.add('category-button', 'active'); // 'Todos' √© ativo por padr√£o
    allButton.onclick = () => filterByCategory('all');
    filtersContainer.appendChild(allButton);

    // Cria um bot√£o para cada categoria encontrada
    allCategories.forEach(category => {
        const button = document.createElement('button');
        button.textContent = category;
        button.classList.add('category-button');
        button.onclick = () => filterByCategory(category);
        filtersContainer.appendChild(button);
    });
}

// Fun√ß√£o para lidar com o clique em um bot√£o de categoria
function filterByCategory(category) {
    currentCategory = category; // Atualiza a categoria global
    currentPage = 1; // Volta para a primeira p√°gina ao filtrar

    // Atualiza qual bot√£o est√° com a classe 'active'
    document.querySelectorAll('#categoryFilters .category-button').forEach(button => {
        if (button.textContent === category || (category === 'all' && button.textContent === 'Todos')) {
            button.classList.add('active');
        } else {
            button.classList.remove('active');
        }
    });

    displayProducts(); // Re-renderiza a lista de produtos com o filtro aplicado
}

function displayProducts() {
    const productListElement = document.getElementById('productList');
    const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim(); // Pega o termo da pesquisa
    productListElement.innerHTML = '';

    // Filtra os produtos com base na categoria, disponibilidade E TERMO DE PESQUISA
    const filteredProducts = products.filter(product => {
        if (!product.available) return false;

        const matchesCategory = currentCategory === 'all' || (product.categories && product.categories.includes(currentCategory));
        const matchesSearch = product.name.toLowerCase().includes(searchTerm);

        return matchesCategory && matchesSearch; // O produto deve corresponder a ambos os filtros
    });

    if (filteredProducts.length === 0) {
        productListElement.innerHTML = '<p style="text-align: center; width: 100%;">Nenhum produto encontrado com esses filtros.</p>';
        updatePaginationButtons(0);
        return;
    }

    const startIndex = (currentPage - 1) * productsPerPage;
    const endIndex = startIndex + productsPerPage;
    const currentProducts = filteredProducts.slice(startIndex, endIndex);

    currentProducts.forEach(product => {
        // O resto do c√≥digo que cria o HTML do produto continua exatamente o mesmo...
        const productDiv = document.createElement('article');
        productDiv.classList.add('product');
        // ... (todo o seu c√≥digo de cria√ß√£o de sliders, selects, bot√µes, etc.)
        // Copie e cole o interior da sua fun√ß√£o displayProducts original a partir daqui.
        
        // --- Image Slider ---
        const imageSliderContainer = document.createElement('div');
        imageSliderContainer.classList.add('image-slider-container');

        const imageSlider = document.createElement('div');
        imageSlider.classList.add('image-slider');
        imageSlider.dataset.currentSlide = 0;

        product.imageUrls.forEach(imageUrl => {
            const img = document.createElement('img');
            img.src = imageUrl;
            img.alt = product.name;
            img.loading = 'lazy'; // Boa pr√°tica de performance
            img.classList.add('slider-image');
            img.addEventListener('click', () => openFullscreenImage(imageUrl));
            imageSlider.appendChild(img);
        });

        if (product.imageUrls.length > 1) {
            const prevButton = document.createElement('button');
            prevButton.classList.add('slider-button', 'prev');
            prevButton.innerHTML = '<i class="fas fa-chevron-left"></i>';
            prevButton.addEventListener('click', () => prevSlide(imageSlider));

            const nextButton = document.createElement('button');
            nextButton.classList.add('slider-button', 'next');
            nextButton.innerHTML = '<i class="fas fa-chevron-right"></i>';
            nextButton.addEventListener('click', () => nextSlide(imageSlider));
            
            imageSliderContainer.appendChild(prevButton);
            imageSliderContainer.appendChild(nextButton);
        }
        imageSliderContainer.appendChild(imageSlider);
        productDiv.appendChild(imageSliderContainer);

        const sizesHTML = (product.sizes?.length > 0) ? `
            <label for="sizeSelect_${sanitizeId(product.name)}">Tamanho:</label>
            <select id="sizeSelect_${sanitizeId(product.name)}" class="custom-select">
                ${product.sizes.map(size => `<option value="${size}">${size}</option>`).join('')}
            </select>` : '';

        const saborHTML = (product.sabor?.length > 0) ? `
            <label for="saborSelect_${sanitizeId(product.name)}">Sabor:</label>
            <select id="saborSelect_${sanitizeId(product.name)}" class="custom-select">
                ${product.sabor.map(s => `<option value="${s}">${s}</option>`).join('')}
            </select>` : '';

        const quantityHTML = `
            <label for="quantitySelect_${sanitizeId(product.name)}">Quantidade:</label>
            <select id="quantitySelect_${sanitizeId(product.name)}" class="custom-select">
                ${Array.from({ length: product.quantity }, (_, i) => i + 1).map(qty => `<option value="${qty}">${qty}</option>`).join('')}
            </select>`;

        const discountBadgeHTML = product.discount > 0 ? `<div class="discount-badge">-${product.discount}%</div>` : '';

        const infoHTML = `
            ${discountBadgeHTML}
            <h3>${product.name}</h3>
            <p>${
                product.discount > 0
                    ? `De <strike class="backgroundred">R$ ${product.originalPrice.toFixed(2)}</strike> Por <span class="backgroundverde">${realBR(product.price.toFixed(2))}</span>`
                    : `<span class="backgroundverde">${realBR(product.price.toFixed(2))}</span>`
            }</p>
            <div class="button-group-carousel">
                ${sizesHTML}
                ${saborHTML}
                ${quantityHTML}
            </div>
        `;

        productDiv.insertAdjacentHTML('beforeend', infoHTML);

        const productDivs = document.createElement('div');
        productDivs.classList.add('button-group-carousel');
        
        productDivs.appendChild(CriaBotaoAdicionarAoCarrinho(product));
        productDivs.appendChild(CriaBotaoComprarAgora(product));
        productDiv.appendChild(productDivs);

        productListElement.appendChild(productDiv);

        const spacer = document.createElement('div');
        spacer.style.marginBottom = '20px';
        productListElement.appendChild(spacer);
    });

    updatePaginationButtons(filteredProducts.length);
}

// --- Slider Functions (com checagem e dataset por slider) ---
function nextSlide(slider) {
    const images = slider.querySelectorAll('.slider-image');
    if (images.length === 0) return;
    let currentSlide = parseInt(slider.dataset.currentSlide, 10) || 0;
    currentSlide = (currentSlide + 1) % images.length;
    slider.dataset.currentSlide = currentSlide;
    slider.style.transform = `translateX(-${currentSlide * 100}%)`;
}

function prevSlide(slider) {
    const images = slider.querySelectorAll('.slider-image');
    if (images.length === 0) return;
    let currentSlide = parseInt(slider.dataset.currentSlide, 10) || 0;
    currentSlide = (currentSlide - 1 + images.length) % images.length;
    slider.dataset.currentSlide = currentSlide;
    slider.style.transform = `translateX(-${currentSlide * 100}%)`;
}

// --- utilit√°rio para ids seguros (substitui espa√ßos e chars inv√°lidos) ---
function sanitizeId(name) {
    return String(name).replace(/\s+/g, '_').replace(/[^A-Za-z0-9_\-]/g, '');
}
    // Fun√ß√£o para criar o bot√£o "Adicionar ao Carrinho"
    function CriaBotaoAdicionarAoCarrinho(product) {
    const button = document.createElement('button');
    button.classList.add('add-to-cart-button');
    button.textContent = 'Adicionar ao Carrinho';
    button.onclick = () => AdicionaraoCarrinho(product); // Chama a fun√ß√£o Adicionar ao Carrinho
    return button;
}

function openFullscreenImage(imageUrl) {
    // Cria o overlay
    const overlay = document.createElement('div');
    overlay.classList.add('fullscreen-overlay');

    // Cria a imagem em fullscreen
    const fullscreenImg = document.createElement('img');
    fullscreenImg.src = imageUrl;
    fullscreenImg.classList.add('fullscreen-image');

    // Bot√£o fechar
    const closeBtn = document.createElement('span');
    closeBtn.classList.add('close-btn');
    closeBtn.innerHTML = '&times;';
    closeBtn.addEventListener('click', () => overlay.remove());

    // Fecha clicando fora da imagem tamb√©m
    overlay.addEventListener('click', e => {
        if (e.target === overlay) overlay.remove();
    });

    overlay.appendChild(fullscreenImg);
    overlay.appendChild(closeBtn);
    document.body.appendChild(overlay);
}

function AdicionaraoCarrinho(product) {
    // Obt√©m as op√ß√µes selecionadas dos selects
    const selectedQuantity = document.getElementById(`quantitySelect_${sanitizeId(product.name)}`) ? document.getElementById(`quantitySelect_${sanitizeId(product.name)}`).value : 1;
    const selectedSize = document.getElementById(`sizeSelect_${sanitizeId(product.name)}`) ? document.getElementById(`sizeSelect_${sanitizeId(product.name)}`).value : '';
    const selectedSabor = document.getElementById(`saborSelect_${sanitizeId(product.name)}`) ? document.getElementById(`saborSelect_${sanitizeId(product.name)}`).value : '';

    handleAddToCartOrBuyNow(product, selectedQuantity, selectedSize, selectedSabor, false);
}
    // Fun√ß√£o para criar o bot√£o "Comprar Agora"
function CriaBotaoComprarAgora(product) {
    const button = document.createElement('button');
    button.classList.add('buy-now-button');
    button.textContent = 'Comprar Agora';
    button.onclick = () => ComprarAgora(product); // Chama a fun√ß√£o buyNow
    return button;
}

function ComprarAgora(product) {
    // Obt√©m as op√ß√µes selecionadas dos selects
    const selectedQuantity = document.getElementById(`quantitySelect_${sanitizeId(product.name)}`) ? document.getElementById(`quantitySelect_${sanitizeId(product.name)}`).value : 1;
    const selectedSize = document.getElementById(`sizeSelect_${sanitizeId(product.name)}`) ? document.getElementById(`sizeSelect_${sanitizeId(product.name)}`).value : '';
    const selectedSabor = document.getElementById(`saborSelect_${sanitizeId(product.name)}`) ? document.getElementById(`saborSelect_${sanitizeId(product.name)}`).value : '';

    // Chama a fun√ß√£o auxiliar, indicando para redirecionar para o checkout
    handleAddToCartOrBuyNow(product, selectedQuantity, selectedSize, selectedSabor, true);
}

// Fun√ß√£o auxiliar para padronizar a adi√ß√£o/atualiza√ß√£o do carrinho
function handleAddToCartOrBuyNow(product, selectedQuantity, selectedSize, selectedSabor, redirectToCheckout = false) {
    if (!product) {
        showNotification("Produto n√£o encontrado.", 'error');
        return;
    }

    // Valida√ß√µes
    if (product.sizes && product.sizes.length > 0 && selectedSize === "") {
        showNotification("Por favor, selecione um tamanho.", 'error');
        return;
    }

    if (product.sabor && product.sabor.length > 0 && selectedSabor === "") {
        showNotification("Por favor, selecione um Sabor.", 'error');
        return;
    }

    if (!selectedQuantity || parseInt(selectedQuantity) <= 0) {
        showNotification("Por favor, selecione uma quantidade v√°lida.", 'error');
        return;
    }

    selectedQuantity = parseInt(selectedQuantity);

    // Encontra o √≠ndice de um item *com as mesmas caracter√≠sticas*
    const existingItemIndex = cart.findIndex(item =>
        item.name === product.name &&
        item.selectedSize === selectedSize &&
        item.selectedsabor === selectedSabor
    );

    if (existingItemIndex > -1) {
        // O produto j√° existe no carrinho com as mesmas op√ß√µes de tamanho e sabor
        const existingItem = cart[existingItemIndex];

        if (existingItem.quantity === selectedQuantity) {
            showNotification("Produto j√° adicionado no carrinho com a mesma quantidade!", 'error');
        } else {
            existingItem.quantity = selectedQuantity;
            showNotification("Quantidade do produto atualizada no carrinho!", 'atualizado');
        }

    } else {
        // O produto n√£o existe no carrinho com essas op√ß√µes, ent√£o adicione-o
        cart.push({
            name: product.name,
            price: product.price,
            quantity: selectedQuantity,
            imageUrl: product.imageUrls[0],
            selectedSize: selectedSize,
            selectedsabor: selectedSabor
        });
        showNotification("Item adicionado ao carrinho!", 'success');
    }

    localStorage.setItem(blog + 'cart', JSON.stringify(cart));
    updateCartDisplay();
    updateMiniCartCount();
    updateFloatingCartCount();
    updateFloatingCartAccessibilityLabel();

    if (redirectToCheckout) {
        showTab('checkout');
    }
}

    function removeFromCart(index) {
    cart.splice(index, 1);
    localStorage.setItem(blog + 'cart', JSON.stringify(cart));
    updateCartDisplay();
    updateMiniCartCount();
    updateFloatingCartCount();
    updateFloatingCartAccessibilityLabel();
    showNotification("Item removido do carrinho!", 'success');
}

function updateCartDisplay() {
    const cartList = document.getElementById('cartList');
    const cartTotalElement = document.getElementById('cartTotal');
    const cartListCheckout = document.getElementById('cartListCheckout');
    
    const subtotalCheckoutEl = document.getElementById('TotalcartCheckout');
    const linhaTaxaEnvioEl = document.getElementById('linhaTaxaEnvio');
    const taxaEnvioEl = document.getElementById('taxaEnvioCheckout');
    const totalFinalEl = document.getElementById('totalFinalCheckout');

    const proceedToCheckoutButton = document.getElementById('proceedToCheckoutButton');
    const clearCartButton = document.getElementById('clearCartButton');
    const carrinhoCheckoutDiv = document.getElementById('carrinhocheckout');
    const generatePixButton = document.getElementById('generatePixButton');
    
    cartList.innerHTML = '';
    cartListCheckout.innerHTML = '';

    let subtotal = 0;

    cart.forEach((item, index) => {
        const itemTotal = item.price * item.quantity;
        subtotal += itemTotal;

        // --- NOVO HTML PARA O ITEM DO CARRINHO ---
        const li = document.createElement('li');
        li.classList.add('cart-item');
        li.style.flexWrap = 'wrap'; // Permite que o conte√∫do quebre a linha
        
        li.innerHTML = `
            <img src="${item.imageUrl}" alt="${item.name}" style="flex-shrink: 0;">
            <div style="flex-grow: 1; margin: 0 10px;">
                <span>${item.name} ${item.selectedSize ? `(${item.selectedSize})` : ''} ${item.selectedsabor ? `(${item.selectedsabor})` : ''}</span>
                <br>
                <strong>${realBR(itemTotal)}</strong>
            </div>
            <div class="cart-quantity-controls" style="display: flex; align-items: center; margin-top: 5px;">
                <button class="remove-button" onclick="decreaseCartItemQuantity(${index})" style="padding: 5px 10px;">-</button>
                <span style="padding: 0 10px; font-weight: bold;">${item.quantity}</span>
                <button class="ButtonFinalizarCompra" onclick="increaseCartItemQuantity(${index})" style="padding: 5px 10px;">+</button>
                <button class="remove-button" onclick="removeFromCart(${index})" style="margin-left: 15px; padding: 5px 10px;"><i class="fas fa-trash-alt"></i></button>
            </div>
        `;

        const li1 = document.createElement('li');
        li1.classList.add('cart-item');
        li1.innerHTML = `
            <img src="${item.imageUrl}" alt="${item.name}">
            <span>${item.name} ${item.selectedSize ? `(T: ${item.selectedSize})` : ''} ${item.selectedsabor ? `(S: ${item.selectedsabor})` : ''} (Qtd: ${item.quantity}) - ${realBR(itemTotal)}</span>
        `;

        cartList.appendChild(li);
        cartListCheckout.appendChild(li1);
    });

    const deliveryOption = document.getElementById('deliveryOption').value;
    let totalFinal = subtotal;

    if (deliveryOption === 'delivery' && taxadeenvio > 0) {
        totalFinal += taxadeenvio;
        taxaEnvioEl.textContent = realBR(taxadeenvio);
        linhaTaxaEnvioEl.style.display = 'flex';
    } else {
        linhaTaxaEnvioEl.style.display = 'none';
    }

    cartTotalElement.textContent = realBR(subtotal);
    subtotalCheckoutEl.textContent = realBR(subtotal);
    totalFinalEl.textContent = realBR(totalFinal);

    const cartHasItems = cart.length > 0;
    proceedToCheckoutButton.disabled = !cartHasItems;
    clearCartButton.disabled = !cartHasItems;
    generatePixButton.disabled = !cartHasItems;

    carrinhoCheckoutDiv.style.display = cartHasItems ? 'block' : 'none';
}

function updateMiniCartCount() {
    const miniCartCount = document.getElementById('miniCartCount');
    if (miniCartCount) { // Check if the element exists
    let totalItems = 0;
    cart.forEach(item => {
        totalItems += item.quantity;
});
    miniCartCount.textContent = totalItems;
} else {}
}

function updateFloatingCartCount() {
    const floatingCartCount = document.getElementById('floatingCartCount');
    if (floatingCartCount) { // Check if the element exists
    let totalItems = 0;
    cart.forEach(item => {
        totalItems += item.quantity;
});
    floatingCartCount.textContent = totalItems;
} else {}

}

function updateFloatingCartAccessibilityLabel() {
    const floatingCart = document.getElementById('floating-cart');
    const cartCount = cart.reduce((sum, item) => sum + item.quantity,
    0); //Soma a quantidade total de itens
    floatingCart.setAttribute('aria-label',
    `Carrinho de Compras (itens: ${cartCount}). Clique para ver o carrinho.`);
}

async function generateHash(value) {
    const encoder = new TextEncoder();
    const data = encoder.encode(value);
    const hashBuffer = await crypto.subtle.digest('SHA-256', data);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(byte => byte.toString(16).padStart(2, '0')).join('');
}

async function generatePix() {
    const deliveryOption = document.getElementById('deliveryOption').value;
    let requiredFields = ['Nome', 'Email', 'WhatsApp'];

    if (deliveryOption === 'delivery') {
        requiredFields = requiredFields.concat(['CEP', 'Endere√ßo', 'Cidade', 'Bairro']);
    }

    const missingFields = requiredFields.filter(field => !document.getElementById(field).value);
    if (missingFields.length > 0) {
        showNotification(`Por favor, preencha os campos: ${missingFields.join(', ')}.`, 'error');
        return;
    }

    if (deliveryOption === 'delivery') {
        const postcode = document.getElementById('CEP').value;
        if (!(await isCepValido(postcode))) {
            showNotification("CEP fora da √°rea de entrega!", 'error');
            return;
        }
    }

    if (cart.length === 0) {
        showNotification("Carrinho de compras vazio!", 'error');
        return;
    }
    
    // --- NOVA ETAPA DE VERIFICA√á√ÉO ---
    try {
        //showNotification("Verificando disponibilidade dos produtos...", 'aguardando');
        const isCartValid = await verificarDisponibilidadeProdutos();

        if (!isCartValid) {
            // A fun√ß√£o verificarDisponibilidadeProdutos j√° exibiu o modal de erro.
            // Apenas paramos a execu√ß√£o aqui.
            return; 
        }
    } catch (error) {
        showNotification("Erro ao verificar o estoque. Tente novamente.", 'error');
        return;
    }
    // --- FIM DA NOVA ETAPA ---


    // O resto da fun√ß√£o continua como antes, pois agora sabemos que o carrinho √© v√°lido.
    try {
        const idPagamentos = generatePaymentId();
        const paymentHash = idPagamentos;
        
        const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        let valorFinal = subtotal;
        let taxaAplicada = 0;

        if (deliveryOption === 'delivery' && taxadeenvio > 0) {
            valorFinal += taxadeenvio;
            taxaAplicada = taxadeenvio;
        }
        const valor = valorFinal.toFixed(2);

        const dataCompra = new Date().toLocaleDateString();

        const produtosnopix = JSON.stringify(cart.map(item => ({
            name: item.name,
            price: item.price,
            quantity: item.quantity,
            imageUrl: item.imageUrl,
            selectedSize: item.selectedSize || '',
            selectedsabor: item.selectedsabor || '',
        })));

        let whatsappMessage = `Novo pedido #${idPagamentos}\n\n` +
            `Dados do Cliente:\nNome: ${document.getElementById('Nome').value}\nEmail: ${document.getElementById('Email').value}\nTelefone: ${document.getElementById('WhatsApp').value}\n` +
            `Informa√ß√µes Adicionais: ${document.getElementById('additionalInfo').value}\n\n` +
            (deliveryOption === 'delivery' ? `Endere√ßo: ${document.getElementById('Endere√ßo').value}, ${document.getElementById('Cidade').value} - ${document.getElementById('Bairro').value}, ${document.getElementById('CEP').value}\n\n` : 'Retirada no Local\n\n') +
            `Itens do Pedido:\n` +
            cart.map(item => `${item.name} ${item.selectedSize ? '(Tamanho: ' + item.selectedSize + ')' : ''} ${item.selectedsabor ? '(Sabor: ' + item.selectedsabor + ')' : ''} (Qtd: ${item.quantity}) - ${realBR((item.price * item.quantity))}`).join('\n') +
            `\n\nSubtotal: ${realBR(subtotal)}` +
            (taxaAplicada > 0 ? `\nTaxa de Entrega: ${realBR(taxaAplicada)}` : '') +
            `\nTotal: ${realBR(valor)}\nData da Compra: ${dataCompra}`;

        const pedidowhatsapp = `https://wa.me/${whatsapp}?text=${encodeURIComponent(whatsappMessage)}`;
        const paramschaves = `${MeuPix}&valor=${valor}&txid=${idPagamentos}&logo=${logotipo}&produtos=${produtosnopix}&pedidowhatsapp=${btoa(pedidowhatsapp)}`;
        const dadospix = btoa(paramschaves);
        const pixUrl = `index.html?codepix=${dadospix}`;

        const order = {
            id: idPagamentos,
            paymentHash: paymentHash,
            isPago: false,
            Pagamento: '',
            Enviado: '',
            StatusButton: true,
            StatusPedido: 'Aguardando Pagamento',
            Entregue: '',
            items: cart.map(item => ({
                name: item.name,
                price: item.price,
                quantity: item.quantity,
                imageUrl: item.imageUrl,
                selectedSize: item.selectedSize || '',
                selectedsabor: item.selectedsabor || '',
            })),
            subtotal: subtotal.toFixed(2),
            deliveryFee: taxaAplicada.toFixed(2),
            total: valor,
            pixUrl: pixUrl,
            timestamp: Date.now(),
            deliveryOption: deliveryOption,
            address: {
                name: document.getElementById('Nome').value,
                address: document.getElementById('Endere√ßo').value,
                city: document.getElementById('Cidade').value,
                bairro: document.getElementById('Bairro').value,
                postcode: document.getElementById('CEP').value,
                email: document.getElementById('Email').value,
                phone: document.getElementById('WhatsApp').value,
                additionalInfo: document.getElementById('additionalInfo').value
            }
        };

        orderHistory.push(order);
        localStorage.setItem(blog, JSON.stringify(orderHistory));

        document.getElementById('myModal').classList.add('fullscreen');
        document.getElementById('qrCode').innerHTML = `<iframe src='${pixUrl}' style="width:100%; height:100%; border:none;"></iframe>`;

        showNotification("QR Code Pix gerado e dados enviados para o WhatsApp!", 'success');
        clearCart();
        updateOrderHistoryDisplay();
        openModal();
        showTab('orderHistory');
    } catch (error) {
        showNotification("Erro ao gerar QR Code Pix. Tente novamente.", 'error');
    }
}




function openModal() {
    document.getElementById('myModal').style.display = 'block';
}

function closeModal() {
    document.getElementById('myModal').style.display = 'none';
    document.getElementById('myModal').classList.remove('fullscreen'); // Remove a classe fullscreen ao fechar
    document.getElementById('qrCode').innerHTML = '';
}

function clearCart() {
    cart = [];
    localStorage.removeItem(blog + 'cart');
    updateCartDisplay();
    updateMiniCartCount();
    updateFloatingCartCount();
    updateFloatingCartAccessibilityLabel();
    showNotification("Carrinho esvaziado!", 'success');
}

function updateOrderHistoryDisplay() {
    const orderHistoryList = document.getElementById('orderHistoryList');
    const clearHistoryButton = document.getElementById('clearHistoryButton');
    orderHistoryList.innerHTML = '';

    const history = JSON.parse(localStorage.getItem(blog)) || [];

    const reversedHistory = [...history].reverse();

    const limitedOrderHistory = reversedHistory.slice(0, 10);
    if (history.length > 0) {
    limitedOrderHistory.forEach((order, index) => {
        const li = document.createElement('li');
        li.classList.add('order-details');

        // Verifica√ß√µes de seguran√ßa para evitar erros
        const addressData = order.address || {};
        const nomeCliente = addressData.name;
        const enderecoCompleto = addressData.address ? `${addressData.address}, ${addressData.city} - ${addressData.bairro}, ${addressData.postcode}` : 'Endere√ßo n√£o dispon√≠vel';

        let itemsList = "";
        if (order.items && order.items.length > 0) {
        itemsList = order.items.map(item => {
        const itemTotal = item.price * item.quantity;
        return `<li style="list-style:none;"><img src="${item.imageUrl}" alt="${item.name}" width="40" height="40"> ${item.name} (Qtd: ${item.quantity}) ${item.selectedSize ? `(Tamanho: ${item.selectedSize})` : ``} ${item.selectedsabor ? `(sabor: ${item.selectedsabor})` : ``} - ${realBR(itemTotal.toFixed(2))}</li>`;}).join('\n    ');
        } else {
        itemsList = "Nenhum item no pedido.";
        }

        let addressDisplay = "";
        let buttonRetirada = "";
        let Retiranolocal = "";
        let cancelado = "";
        if (order.deliveryOption === 'delivery') {
        addressDisplay = `<p>Endere√ßo: ${enderecoCompleto}</p>`;
        Retiranolocal = `<h3>Total: ${realBR(order.total)}</h3>`;
        } else {
            if (order.StatusButton === false) {
                cancelado = `<span class='loja-fechada'>Cancelado</span>`;
            } else {
                Retiranolocal = `<h3>Total: ${realBR(order.total)}</h3><h3>(Retirada no Local)</h3>`;
                buttonRetirada = `<button onclick="goToAddress()">Endere√ßo de Retirada</button>`;
            }

        }
        const originalIndex = history.findIndex(item => item.id === order.id);
        const safeIndex = originalIndex !== -1 ? originalIndex : index; 
        li.innerHTML = `
        <div class="order-details">
        <h3>Pedido #${order.id}</h3>
        <p>Nome: ${nomeCliente}</p>
        <p>Email: ${order.address.email}</p>
        <p>Telefone: ${order.address.phone}</p>
        ${addressDisplay}
        <p>Informa√ß√µes Adicionais: ${order.address.additionalInfo}</p>
        <p>Data: ${new Date(order.timestamp).toLocaleString()}</p>
        <h4>Itens Comprados:</h4>
        <ul>
        ${itemsList}
        </ul>
        ${order.deliveryFee > 0 ? `<h3>Taxa de Entrega: ${realBR(order.deliveryFee)}</h3>` : ''}
        ${Retiranolocal} 
        <div class="status">
        <h4>Status do Pedido: ${cancelado} ${order.Entregue ? `${order.Entregue}` : `${order.Enviado ? `${order.Enviado}` : `${order.Pagamento ? `${order.Pagamento}` : `Aguardando Pagamentos`}`}`} </h4>
        </div>
        <div class="button-container">
 
        ${order.StatusButton ? `
         ${buttonRetirada}
         ${order.isPago ? '' : `<button onclick="showPixQrCode(${originalIndex})">Ver QR Pix</button>`}
         ${order.isPago ? '' : `<button onclick="verificarPagamento(${originalIndex})">Verificar Pagamento</button>`}
         ${order.isPago ? '' : `<button onclick="resendWhatsappMessage(${safeIndex})">Reenviar WhatsApp</button>`}
         ${order.isPago ? `<button onclick="printOrder(${safeIndex})">üñ®Ô∏è Imprimir Pedido</button>` : ``}
         <button onclick="deleteOrderFromHistory(${safeIndex})">üóëÔ∏è Excluir Pedido</button>
        ` : `
         <button onclick="AbrirWhatsapp();">Entra em contato</button>
         <button onclick="deleteOrderFromHistory(${safeIndex})">üóëÔ∏è Excluir Pedido</button>
        `}
        
        </div>
        </div>
        `;

        orderHistoryList.appendChild(li);
        document.getElementById('Nome').value = '';
        document.getElementById('Endere√ßo').value = '';
        document.getElementById('Cidade').value = '';
        document.getElementById('Email').value = '';
        document.getElementById('WhatsApp').value = '';
        document.getElementById('CEP').value = '';
        document.getElementById('Bairro').value = '';
        document.getElementById('additionalInfo').value = '';
        document.getElementById('deliveryOption').value = '';
        toggleAddressFields();
        });

        clearHistoryButton.style.display = '';
        } else {
        orderHistoryList.textContent = "Nenhuma transa√ß√£o no hist√≥rico.";
        clearHistoryButton.style.display = 'none';
        }
}

function deleteOrderFromHistory(index) {
    let history = JSON.parse(localStorage.getItem(blog)) || [];

    if (index >= 0 && index < history.length) {
        const removedOrder = history[index];

        history.splice(index, 1); 
        localStorage.setItem(blog, JSON.stringify(history));
        updateOrderHistoryDisplay();
        showNotification(`Pedido #${removedOrder.id} foi exclu√≠do com sucesso!`, 'error');
    } else {
        showNotification("Erro ao excluir o pedido. Tente novamente.", 'error');
    }
}

// Fun√ß√£o para imprimir um pedido
function printOrder(index) {
    const history = JSON.parse(localStorage.getItem(blog)) || [];
    const order = history[index];

    if (!order) {
        showNotification("Erro ao imprimir o pedido.", "error");
        return;
    }
    const addressData = order.address || {};
    const enderecoCompleto = addressData.address ? `${addressData.address}, ${addressData.city || 'Cidade n√£o dispon√≠vel'} - ${addressData.bairro || 'Bairro n√£o dispon√≠vel'}, ${addressData.postcode || 'CEP n√£o dispon√≠vel'}` : 'Endere√ßo n√£o dispon√≠vel';
   
    let itemsList = "";
    if (order.items && order.items.length > 0) {
        itemsList = order.items.map(item => {
            const itemTotal = item.price * item.quantity;
            return `
                <li>
                    <img src="${item.imageUrl}" alt="${item.name}" width="40" height="40" />
                    <div style="word-break: break-word;">
                     ${item.name} ${item.selectedSize ? '(Tamanho: ' + item.selectedSize + ')' : ''} ${item.selectedsabor ? '(Sabor: ' + item.selectedsabor + ')' : ''} (Qtd: ${item.quantity}) - ${realBR(itemTotal.toFixed(2))}
                    </div>
                </li>`;
        }).join('\n');
    } else {
        itemsList = "Nenhum item no pedido.";
    }
    
    let addressDisplay = "";
    let buttonRetirada = "";
    if (order.deliveryOption === 'delivery') {
        addressDisplay = `<p><strong>Endere√ßo de Entrega:</strong> ${enderecoCompleto}</p>`;
    } else {
        buttonRetirada = `<h2>Retirada no Local</h2>`;
    }

    const printWindow = window.open('a', '_blank');
    printWindow.document.write(`
        <html>
        <head>
            <style>
                /* Estilos Globais */
                :root {
                    --primary-color: #000;
                    --secondary-color: #6c757d;
                    --text-color: #343a40;
                    --light-bg: #f8f9fa;
                    --border-color: #dee2e6;
                    --font-family: 'Roboto', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                }

                body {
                    font-family: var(--font-family);
                    padding: 20px;
                    line-height: 1.6;
                    color: var(--text-color);
                }

                h2, h3, h4 {
                    text-align: center;
                    color: var(--primary-color);
                    margin-bottom: 15px;
                }

                h4 {
                    margin-top: 25px;
                    border-bottom: 1px solid var(--border-color);
                    padding-bottom: 5px;
                }

                .order-container {
                    max-width: 800px;
                    margin: 0 auto;
                }

                .order-details {
                    border: 1px solid var(--border-color);
                    padding: 15px;
                    margin: 20px 0;
                    border-radius: 5px;
                    background-color: var(--light-bg);
                    display: flex; /* Alinha as informa√ß√µes e o QR Code lado a lado */
                    justify-content: space-between;
                    align-items: flex-start;
                }

                .order-details p {
                    margin-bottom: 8px;
                }

                .order-info {
                    flex-grow: 1;
                }

                /* Estilo para o container do QR Code */
                .qr-code {
                    margin-left: 20px;
                }

                .qr-code img {
                    display: block;
                    width: 150px;
                    height: 150px;
                }

                .logo {
                    display: block;
                    margin: 0 auto 20px;
                    max-width: 150px;
                    height: auto;
                }

                ul {
                    list-style-type: none;
                    padding: 0;
                }

                strong {
                    font-weight: 600;
                }

                .total {
                    font-size: 1.2em;
                    font-weight: bold;
                    margin-top: 20px;
                    text-align: center;
                    color: var(--primary-color);
                }

                .description {
                    margin-top: 20px;
                    font-style: italic;
                    color: var(--secondary-color);
                }

                .address {
                    margin-top: 15px;
                    color: var(--secondary-color);
                }

                @media print {
                    body {
                        padding: 10px;
                        font-size: 12pt;
                        -webkit-print-color-adjust: exact !important;
                        print-color-adjust: exact !important;
                    }

                    .logo {
                        max-width: 100px;
                    }

                    .order-details {
                        background-color: transparent !important;
                        border: none !important;
                        padding: 0;
                        margin: 10px 0;
                        display: block;
                    }

                    .order-details img {
                        display: block;
                        margin: 0 auto;
                    }

                    h2, h3, h4, .total {
                        color: #000 !important;
                    }

                    a {
                        text-decoration: none !important;
                        color: #000 !important;
                    }
                }
                
                li {
                    list-style: none;
                    display: flex;
                    padding: 1px 0;
                    border-bottom: 1px solid #9c9c9c;
                    align-items: center;
                }
                
                li img {
                    object-fit: contain;
                    max-width: 40px;
                    max-height: 40px;
                    border-radius: 50%;
                    margin-right: 15px;
                }
                    #qr-code {
mix-blend-mode: normal;
    background: linear-gradient(47deg, #206958, #05a581, #206958);

    color: #fff;
    border-radius: 15px;
}

.descricao {
    font-size: 12px;
    font-family: helvetica;
    text-align: center;
    color: #000;
}

.rodape {
    height: auto;
    font-size: 14px;
    font-family: helvetica;
    margin-top: 15px;
    border-radius: 15px;
    text-align: center;
    padding: 20px;
    color: #000;
}

.rodape a {
    color: #3498db;
    text-decoration: none;
    transition: color 0.3s ease;
}

.rodape a:hover {
    color: #fff;
    text-decoration: underline;
}

.rodape p {
    margin: 10px 0;
    font-size: 0.9em;
}

.rodape strong {
    color: #000000;
}

.rodape .redes-sociais {
    margin-top: 20px;
}

.rodape .redes-sociais a {
    display: inline-block;
    margin: 0 15px;
    font-size: 1.4em;
    color: #fff;
    transition: transform 0.3s ease, color 0.3s ease;
}

.rodape .redes-sociais a:hover {
    transform: translateY(-3px);
    color: #e67e22;
    text-decoration: none;
}
            </style>
        </head>
        <body>
            <div class="order-container">
                <img src="${logotipo}" alt="${nomedaloja}" class="logo">
                <h2>${nomedaloja}</h2>
                <div class="descricao">
                ${descricao ? `<strong>${descricao}</strong>` : ``}
                </div>
                <h3>Pedido #${order.id}</h3>

                <h2>Status do Pedido: ${order.Pagamento}</h2>

                <div class="order-details">
                    <div class="order-info">
                        <p><strong>Nome:</strong> ${order.address?.name}</p>
                        <p><strong>Email:</strong> ${order.address?.email}</p>
                        <p><strong>Telefone:</strong> ${order.address?.phone}</p>
                        <p><strong>Data:</strong> ${new Date(order.timestamp).toLocaleString()}</p>
                        <p><strong>Informa√ß√µes Adicionais:</strong> ${order.address?.additionalInfo}</p>
                        ${addressDisplay ? addressDisplay : buttonRetirada}
                        ${order.Enviado ? `<ul>${order.Enviado}</ul>` : ''}
                    </div>
                </div>
                
                <h4>Itens Comprados:</h4>
                <ul>
                    ${itemsList}
                </ul>
                ${order.deliveryFee > 0 ? `<p class="total"></strong>Taxa de Entrega:</strong> ${realBR(order.deliveryFee)}</p>` : ''}
                <p class="total"><strong>Total:</strong> R$ ${order.total}</p>
                <footer class="rodape">
                <p> ${whatsapp ? `üìû Contato: ${whatsapp}` : ``} ${emailEndereco ? `| ‚úâÔ∏è E-mail: ${emailEndereco},` : ``}</p>
                <p><strong>üìç Endere√ßo:</strong></p>
                 <p><strong>üè† ${Endere√ßo1 ? `${Endere√ßo1},` : ``}</strong></p>
                 <p><strong>üèôÔ∏è ${Endere√ßo2 ? `${Endere√ßo2}` : ``}</strong></p>
                 <p><strong>üìÆ ${meucep ? `CEP: ${meucep}` : ``}</strong></p>
                 </footer>
                </div>
        </body>
        </html>
    `);

    printWindow.document.close();
    setTimeout(() => {printWindow.print(); }, 500); 
}

async function verificarPagamento(index) {
    const history = JSON.parse(localStorage.getItem(blog)) || [];

    if (!blog) {
        showNotification("Blog n√£o definido. Verifique as configura√ß√µes.", 'error');
        return;
    }

    if (index >= 0 && index < history.length) {
        const order = history[index];
        const paymentHash = order.paymentHash;
        const iddopagamento = order.id;

        // Obter os dados da API do Blogger
        const script = document.createElement('script');
        script.src = 'https://www.blogger.com/feeds/' + blog + '/pages/default?alt=json-in-script&callback=processarVerificacaoPagamento';
        script.onerror = () => {
            showNotification("Erro ao obter os dados de pagamento.", 'error');
        };

        window.processarVerificacaoPagamento = (data) => {
            if (data && data.feed && data.feed.entry) {
                let paymentFound = false;

                // Iterar sobre as entradas do feed
                data.feed.entry.forEach(entry => {
                    if (entry.content && entry.content.$t) {
                        const lines = entry.content.$t.split('\n').map(line => line.replace(/<[^>]*>/g, '').trim());

                        for (const line of lines) {
                            const match = line.match(new RegExp(`${paymentHash}\\s+(\\w+)`));

                            if (match) {
                                const status = match[1].trim();

                                if (status === 'Cancelado') {
                                        history[index].StatusButton = false;
                                        history[index].StatusPedido = 'Cancelado';
                                        history[index].Enviado = ' ';
                                        history[index].Pagamento = ' ';
                                        history[index].Entregue = ' ';
                                        history[index].isPago = false;
                                        showNotification(`Pedido #${iddopagamento} foi Cancelado.`, 'error');
                                        paymentFound = true;
                                        //deleteOrderFromHistory(index);
                                        //return;
                                } if (order.Entregue === '') {
                                    if (status === 'Entregue') {
                                        history[index].Entregue = 'Entregue';
                                        history[index].Pagamento = 'Pago';
                                        history[index].StatusPedido = 'Pago';
                                        history[index].isPago = true;
                                        showNotification(`Pedido #${iddopagamento} Pago e foi entregue.`, 'atualizado');
                                        paymentFound = true;

                                    }
                                 } if (order.Enviado === '') {
                                    if (status === 'Enviado') {
                                        history[index].Enviado = 'Enviado';
                                        history[index].Pagamento = 'Pago';
                                        history[index].StatusPedido = 'Pago';
                                        history[index].isPago = true;
                                        showNotification(`Pedido #${iddopagamento} Pago e foi enviado.`, 'atualizado');
                                        paymentFound = true;

                                    }
                                 } if (order.StatusPedido === 'Aguardando Pagamento') {
                                    if (status === 'Pago') { 
                                        history[index].isPago = true;
                                        history[index].Pagamento = 'Pago';
                                        history[index].StatusPedido = 'Pago';
                                        showNotification(`Pagamento #${iddopagamento} conclu√≠do com sucesso!`, 'success');
                                        paymentFound = true;
                                    }
                                    
                                }
                                
                            }
                        }
                    }
                });

                // Se o pagamento n√£o foi encontrado
                if (!paymentFound && order.StatusPedido === "Aguardando Pagamento") {
                    showNotification(`Estamos aguardando a confirma√ß√£o do seu pagamento #${iddopagamento}. Assim que recebermos a confirma√ß√£o, voc√™ ser√° notificado.`, 'aguardando'); // 'info' em vez de 'aguardando'
                }

                localStorage.setItem(blog, JSON.stringify(history)); // Salva as mudan√ßas no localStorage
                updateOrderHistoryDisplay(); // Atualiza a interface
            } else {
                showNotification("Erro ao processar os dados da API.", 'error');
            }
        };

        document.body.appendChild(script);

        // Adicionando um tempo de espera (simula√ß√£o) para poder ver o fluxo mais claramente
        await new Promise(resolve => setTimeout(resolve, 2000)); // Espera 2 segundos entre as verifica√ß√µes
    }
}

function goToAddress() {
    const addressElement = document.querySelector('.rodape');

    if (addressElement) {
    addressElement.scrollIntoView({
        behavior: 'smooth'
    });
    } else {
    alert("Endere√ßo para retirada n√£o encontrado!");
    }
}

function showPixQrCode(index) {
    const order = orderHistory[index];
    document.getElementById('myModal').classList.add('fullscreen');
    document.getElementById('qrCode').innerHTML = `<iframe src='${order.pixUrl}' style="width:100%; height:100%; border:none;"></iframe>`;
    openModal();
}

function generatePaymentId() {
    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let paymentId = 'Pagamento';
    for (let i = 0; i < 6; i++) {
    paymentId += characters.charAt(Math.floor(Math.random() * characters.length));
    }
    return paymentId;
}

function clearOrderHistory() {
    if (confirm("Tem certeza que deseja apagar o hist√≥rico de pedidos?")) {
    orderHistory = [];
    localStorage.removeItem(blog);
    updateOrderHistoryDisplay();
    showNotification("Hist√≥rico de pedidos apagado!", 'success');
    }
}

function showTab(tabId) {
    const tabContents = document.querySelectorAll('.tab-content');
    const tabButtons = document.querySelectorAll('.tab-button');

    tabContents.forEach(content => {
    content.classList.remove('active');
    content.style.display = 'none';
    });

    tabButtons.forEach(button => {
    button.classList.remove('active');
    });

    const tabContent = document.getElementById(tabId);
    if (tabContent) {
    tabContent.classList.add('active');
    tabContent.style.display = 'block';
    } else {}

    const tabButton = document.querySelector(`.tab-button[data-tab="${tabId}"]`);

    if (tabButton) {
    tabButton.classList.add('active');
    } else {}

    const proceedToCheckoutButton = document.getElementById('proceedToCheckoutButton');

    if (proceedToCheckoutButton) {
    if (tabId === 'checkout') {
        proceedToCheckoutButton.style.display = 'none';
    } else {
        proceedToCheckoutButton.style.display = 'inline-block';
    }
    }
    document.getElementById(tabId).scrollIntoView({
    behavior: 'smooth'
    });
}

function resendWhatsappMessage(index) {
    const order = orderHistory[index];
    const dataCompra = new Date().toLocaleDateString();

    let itemsList = "";
    if (order.items && order.items.length > 0) {
    itemsList = order.items.map(item => {
        const itemTotal = item.price * item.quantity;
        return `${item.name} ${item.selectedSize ? '(Tamanho: ' + item.selectedSize + ')' : ''} ${item.selectedsabor ? '(Sabor: ' + item.selectedsabor + ')' : ''} (Qtd: ${item.quantity}) - ${realBR(itemTotal.toFixed(2))}`;}).join('\n  ');
    } else {
    itemsList = "Nenhum item no pedido.";
    }

    let addressInfo = "";
    if (order.deliveryOption === 'delivery') {
    addressInfo =
        ` Endere√ßo: ${order.address.address}, ${order.address.city} - ${order.address.bairro}, ${order.address.postcode}`;
    } else {
    addressInfo = "Retirada no Local";
    }

const whatsappMessage = `
  Pedido #${order.id} (REENVIO)

  Dados do Cliente:
  Nome: ${order.address.name}
  Email: ${order.address.email}
  Telefone: ${order.address.phone}
  Informa√ß√µes Adicionais: ${order.address.additionalInfo}

  ${addressInfo}

  Itens do Pedido:
  ${itemsList}

  Total: ${realBR(order.total)}
  Data da Compra: ${dataCompra}
`;

    const encodedMessage = encodeURIComponent(whatsappMessage);
    const whatsappLink = `https://wa.me/${whatsapp}?text=${encodedMessage}`;

    window.open(whatsappLink, '_blank');
    showNotification(`Mensagem do pedido #${order.id} reenviada para o WhatsApp!`, 'success');
}

function previousPage() {
    if (currentPage > 1) {
    currentPage--;
    displayProducts();
    document.getElementById('productList').scrollIntoView({
        behavior: 'smooth'
    });
    }
}

function nextPage() {
    const totalPages = Math.ceil(products.length / productsPerPage);
    if (currentPage < totalPages) {
    currentPage++;
    document.getElementById('productList').scrollIntoView({
        behavior: 'smooth'
    });
    displayProducts();
    }
}

function goToPage(page) {
    currentPage = page;
    displayProducts();
    document.getElementById('productList').scrollIntoView({
    behavior: 'smooth'
    });
}

function updatePaginationButtons(totalFilteredProducts) { // Modifique aqui
    const btnInicio = document.getElementById('btnInicio');
    const btnAnterior = document.getElementById('btnAnterior');
    const btnProximo = document.getElementById('btnProximo');

    // Modifique aqui para usar o total de produtos filtrados
    const totalPages = Math.ceil(totalFilteredProducts / productsPerPage);

    btnInicio.disabled = currentPage === 1;
    btnAnterior.disabled = currentPage === 1;
    btnProximo.disabled = currentPage >= totalPages || totalPages === 0; // Use >= para seguran√ßa

    btnInicio.onclick = () => goToPage(1);
    btnAnterior.onclick = previousPage;
    btnProximo.onclick = nextPage;
}

function showNotification(message, type = 'success') {
    const notificationContainer = document.getElementById('notification-container');

    if (!notificationContainer) {
        console.error("Elemento 'notification-container' n√£o encontrado!");
        return;
    }

    const notification = document.createElement('div');
    notification.classList.add('notification', type);
    notification.textContent = message;

    // Adiciona notifica√ß√£o ao container
    notificationContainer.appendChild(notification);

    // Exibe a notifica√ß√£o
    setTimeout(() => notification.classList.add('show'), 30);

    // Remove a notifica√ß√£o ap√≥s o tempo determinado
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            if (notificationContainer.contains(notification)) {
                notificationContainer.removeChild(notification);
            }
        }, 500);
    }, 4000);

    // Remove notifica√ß√£o ao clicar nela
    notification.onclick = () => {
        notification.classList.remove('show');
        setTimeout(() => {
            if (notificationContainer.contains(notification)) {
                notificationContainer.removeChild(notification);
            }
        }, 500);
    };
}

    // --- Carrossel ---
    function initializeCarousel() {
        const carouselSlide = document.querySelector('.carousel-slide');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        // Verifica se os elementos do carrossel existem
        if (!carouselSlide || !prevBtn || !nextBtn) {
            console.warn('Carrossel n√£o inicializado corretamente. Verifique os elementos.');
            return; // Aborta a inicializa√ß√£o se algum elemento estiver faltando
        }

        let slideIndex = 0;
        let autoSlideInterval; // Vari√°vel para armazenar o intervalo do slideshow autom√°tico

        // Fun√ß√£o para exibir um slide espec√≠fico
        function showSlide() {
            // Evita erros se n√£o houver produtos no carrossel
            if (carouselProducts.length === 0) return;

            slideIndex++;
            // Volta para o primeiro slide se chegar ao final
            if (slideIndex >= carouselProducts.length) {
                slideIndex = 0;
            }
            // Aplica a transforma√ß√£o para exibir o slide correto
            carouselSlide.style.transform = `translateX(-${slideIndex * 100}%)`;
        }

        function startAutoSlide() {
            autoSlideInterval = setInterval(showSlide, 10000);
        }

        // Fun√ß√£o para pausar o slideshow autom√°tico
        function pauseAutoSlide() {
            // Limpa o intervalo para pausar o slideshow
            clearInterval(autoSlideInterval);
        }

        // Event listener para avan√ßar o slide ao clicar no bot√£o "pr√≥ximo"
        nextBtn.addEventListener('click', () => {
            pauseAutoSlide(); // Pausa o slideshow ao interagir
            showSlide();
            startAutoSlide(); // Reinicia o slideshow ap√≥s a intera√ß√£o
        });

        // Event listener para retroceder o slide ao clicar no bot√£o "anterior"
        prevBtn.addEventListener('click', () => {
            pauseAutoSlide(); // Pausa o slideshow ao interagir
            slideIndex--;
            // Volta para o √∫ltimo slide se estiver no primeiro
            if (slideIndex < 0) {
                slideIndex = carouselProducts.length - 1;
            }
            // Aplica a transforma√ß√£o para exibir o slide correto
            carouselSlide.style.transform = `translateX(-${slideIndex * 100}%)`;
            startAutoSlide(); // Reinicia o slideshow ap√≥s a intera√ß√£o
        });


function loadCarouselProducts() {
    carouselSlide.innerHTML = '';
    let sizesHTML = '';
    let quantityHTML = '';
    let discountBadgeHTML = '';
    let saborHTML = '';
    carouselProducts.forEach(product => {
        if (!product.available) return;

        const carouselItem = document.createElement('div');
        carouselItem.classList.add('carousel-item');

        // --- Selects de tamanho ---
        let sizeSelectId = `carouselSizeSelect_${product.name}`;
        const sizesHTML = product.sizes && product.sizes.length > 0 ? `
            <label for="${sizeSelectId}">Tamanho:</label>
            <select id="${sizeSelectId}" class="custom-select">
                ${product.sizes.map(size => `<option value="${size}">${size}</option>`).join('')}
            </select>
        ` : '';

        // --- Selects de sabor ---
        let saborSelectId = `carouselsaborSelect_${product.name}`;
        const saborHTML = product.sabor && product.sabor.length > 0 ? `
            <label for="${saborSelectId}">Sabor:</label>
            <select id="${saborSelectId}" class="custom-select">
                ${product.sabor.map(s => `<option value="${s}">${s}</option>`).join('')}
            </select>
        ` : '';

        // --- Select de quantidade ---
        let quantitySelectId = `carouselQuantitySelect_${product.name}`;
        const quantityHTML = `
            <label for="${quantitySelectId}">Quantidade:</label>
            <select id="${quantitySelectId}" class="custom-select">
              ${Array.from({ length: product.quantity }, (_, i) => i + 1)
                .map(qty => `<option value="${qty}">${qty}</option>`).join('')}
            </select>
        `;

        // --- Desconto ---
        const discountBadgeHTML = product.discount > 0
            ? `<div class="discount-carrossel">-${product.discount}%</div>`
            : '';

        // --- Estrutura do item ---
        carouselItem.innerHTML = `
            ${discountBadgeHTML}
            <img src="${product.imageUrls[0] || ''}" alt="${product.name}">
            <h3>${product.name}</h3>
            <p>${
                product.discount > 0
                ? `De <strike class="backgroundred">R$ ${product.originalPrice.toFixed(2)}</strike>
                   Por <span class="backgroundverde">${realBR(product.price.toFixed(2))}</span>`
                : `<span class="backgroundverde">${realBR(product.price.toFixed(2))}</span>`
            }</p>
            <div class="button-group-carousel">
                ${sizesHTML}
                ${saborHTML}
                ${quantityHTML}
                <button class="add-to-cart-button" onclick="carouseladdToCart(this, '${product.name}')">Adicionar ao Carrinho</button>
                <button class="buy-now-button" onclick="buyNowCarousel(this, '${product.name}')">Comprar Agora</button>
            </div>
        `;

        // --- Adiciona no carrossel ---
        carouselSlide.appendChild(carouselItem);

        // --- Evento de fullscreen na imagem ---
        const img = carouselItem.querySelector('img');
        if (img) {
            img.addEventListener('click', () => openFullscreenImage(product.imageUrls[0]));
        }
    });
    }
    loadCarouselProducts();
    startAutoSlide();
}

function carouseladdToCart(button, productName) {
 const product = carouselProducts.find(p => p.name === productName);

    if (!product) {
        showNotification("Produto n√£o encontrado.", 'error');
        return;
    }

    const sizeSelectId = `carouselSizeSelect_${product.name}`;
    const sizeSelectElement = document.getElementById(sizeSelectId);
    const selectedSize = sizeSelectElement ? sizeSelectElement.value : "";

    const saborSelectId = `carouselsaborSelect_${product.name}`;
    const saborSelectElement = document.getElementById(saborSelectId);
    const selectedSabor = saborSelectElement ? saborSelectElement.value : "";

    const quantitySelectId = `carouselQuantitySelect_${product.name}`;
    const quantitySelectElement = document.getElementById(quantitySelectId);
    const selectedQuantity = quantitySelectElement ? quantitySelectElement.value : 1;
    handleAddToCartOrBuyNow(product, selectedQuantity, selectedSize, selectedSabor, false);
}

function buyNowCarousel(button, productName) {
    const product = carouselProducts.find(p => p.name === productName);

    if (!product) {
        showNotification("Produto n√£o encontrado.", 'error');
        return;
    }

    const sizeSelectId = `carouselSizeSelect_${product.name}`;
    const sizeSelectElement = document.getElementById(sizeSelectId);
    const selectedSize = sizeSelectElement ? sizeSelectElement.value : "";

    const saborSelectId = `carouselsaborSelect_${product.name}`;
    const saborSelectElement = document.getElementById(saborSelectId);
    const selectedSabor = saborSelectElement ? saborSelectElement.value : "";

    const quantitySelectId = `carouselQuantitySelect_${product.name}`;
    const quantitySelectElement = document.getElementById(quantitySelectId);
    const selectedQuantity = quantitySelectElement ? quantitySelectElement.value : 1;

    // Chama a fun√ß√£o auxiliar, indicando para redirecionar para o checkout
    handleAddToCartOrBuyNow(product, selectedQuantity, selectedSize, selectedSabor, true);
}

// Fun√ß√£o para validar CEP
async function isCepValido(cep) {
    let cepLimpo = cep.replace(/\D/g, '');
    if (cepLimpo.length !== 8) return false;

    try {
        let response = await fetch(`https://viacep.com.br/ws/${cepLimpo}/json/`);
        let data = await response.json();
        if (data.erro) return false;

        let isValid = true;

        // Converte as strings em listas
        let ufList = unidadefederativa ? unidadefederativa.split(/\s+/).map(u => u.toUpperCase()) : [];
        let cidadesList = cidade ? cidade.split(/\s+/).map(c => c.toLowerCase()) : [];
        let bairrosList = bairro ? bairro.split(/\s+/).map(b => b.toLowerCase()) : [];

        // Verifica√ß√£o UF
        if (ufList.length > 0 && !ufList.includes(data.uf.toUpperCase())) {
            isValid = false;
        }

        // Verifica√ß√£o Cidade
        if (cidadesList.length > 0 && !cidadesList.includes(data.localidade.toLowerCase())) {
            isValid = false;
        }

        // Verifica√ß√£o Bairro
        if (bairrosList.length > 0 && data.bairro && !bairrosList.includes(data.bairro.toLowerCase())) {
            isValid = false;
        }

        return isValid;

    } catch (error) {
        console.error("Erro ao buscar o CEP:", error);
        return false;
    }
}

function increaseCartItemQuantity(index) {
    const item = cart[index];
    if (!item) return;

    // Encontra o produto original para verificar o estoque m√°ximo
    const productData = products.find(p => p.name === item.name);
    const maxQuantity = productData ? productData.quantity : item.quantity;

    if (item.quantity < maxQuantity) {
        item.quantity++;
        localStorage.setItem(blog + 'cart', JSON.stringify(cart));
        updateCartDisplay();
        updateFloatingCartCount();
    } else {
        showNotification(`Estoque m√°ximo para "${item.name}" atingido.`, 'error');
    }
}

function decreaseCartItemQuantity(index) {
    const item = cart[index];
    if (!item) return;

    item.quantity--;

    if (item.quantity <= 0) {
        removeFromCart(index); // Remove se a quantidade for zero
    } else {
        localStorage.setItem(blog + 'cart', JSON.stringify(cart));
        updateCartDisplay();
        updateFloatingCartCount();
    }
}

const searchInput = document.getElementById('searchInput');
const clearSearchBtn = document.getElementById('clearSearchBtn');

searchInput.addEventListener('input', () => {
    currentPage = 1; 
    displayProducts();

    // Mostra ou esconde o bot√£o "X"
    if (searchInput.value.length > 0) {
        clearSearchBtn.classList.add('show');
    } else {
        clearSearchBtn.classList.remove('show');
    }
});

clearSearchBtn.addEventListener('click', () => {
    searchInput.value = ''; 
    clearSearchBtn.classList.remove('show');
    
    currentPage = 1;
    displayProducts(); 
    searchInput.focus();
});

// Evento ao perder foco do campo CEP
document.getElementById("CEP").addEventListener("blur", async function () {
    let cep = this.value.replace(/\D/g, ''); // Remove caracteres n√£o num√©ricos

    if (cep.length === 8) {
        try {
            let response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
            let data = await response.json();
            if (!data.erro) {
                let valid = true;
                let errorMessage = "Apenas CEPs ";
                let restrictions = [];

                // Listas
                let ufList = unidadefederativa ? unidadefederativa.split(/\s+/).map(u => u.toUpperCase()) : [];
                let cidadesList = cidade ? cidade.split(/\s+/).map(c => c.toLowerCase()) : [];
                let bairrosList = bairro ? bairro.split(/\s+/).map(b => b.toLowerCase()) : [];

                // UF
                if (ufList.length > 0 && !ufList.includes(data.uf.toUpperCase())) {
                    valid = false;
                    restrictions.push("da UF " + unidadefederativa);
                }

                // Cidade
                if (cidadesList.length > 0 && !cidadesList.includes(data.localidade.toLowerCase())) {
                    valid = false;
                    restrictions.push("da cidade " + cidade);
                }

                // Bairro
                if (bairrosList.length > 0 && data.bairro && !bairrosList.includes(data.bairro.toLowerCase())) {
                    valid = false;
                    restrictions.push("do bairro " + bairro);
                }

                if (valid) {
                    document.getElementById("Endere√ßo").value = data.logradouro + ', casa:';
                    document.getElementById("Bairro").value = data.bairro;
                    document.getElementById("Cidade").value = data.localidade;
                } else {
                    errorMessage += restrictions.join(", ");
                    errorMessage += " s√£o aceitos!";
                    showNotification(errorMessage, 'error');
                    this.value = "";
                    document.getElementById("Endere√ßo").value = "";
                    document.getElementById("Bairro").value = "";
                    document.getElementById("Cidade").value = "";
                }

            } else {
                showNotification("CEP n√£o encontrado!", 'error');
            }
        } catch (error) {
            console.error("Erro ao buscar o CEP:", error);
        }
    } else {
        showNotification("CEP inv√°lido!", 'error');
    }
});

function toggleAddressFields() {
    const deliveryOption = document.getElementById('deliveryOption').value;
    const addressFields = document.getElementById('addressFields');
    const avisoTaxaEl = document.getElementById('avisoTaxaEntrega'); // Pega o elemento do aviso

    if (deliveryOption === 'delivery') {
        addressFields.style.display = 'block';
        document.getElementById('CEP').setAttribute('required', '');
        document.getElementById('Endere√ßo').setAttribute('required', '');
        document.getElementById('Cidade').setAttribute('required', '');
        document.getElementById('Bairro').setAttribute('required', '');

        // --- L√ìGICA DO AVISO ---
        if (taxadeenvio > 0) {
            // Mostra o aviso fixo
            avisoTaxaEl.textContent = `Aten√ß√£o: Ser√° aplicada uma taxa de entrega no valor de ${realBR(taxadeenvio)}.`;
            avisoTaxaEl.style.display = 'block';
            exibirModalErro("Aten√ß√£o: Ser√° aplicada uma taxa de entrega no valor de " + realBR(taxadeenvio) + ".", false, true, 'aviso');
        } else {
            // Se a taxa for 0 ou n√£o definida, avisa que a entrega √© gr√°tis
            avisoTaxaEl.textContent = 'A entrega em domic√≠lio √© gratuita!';
            avisoTaxaEl.style.display = 'block';
            showNotification('A entrega √© gratuita!', 'success');
        }
        // --- FIM DA L√ìGICA DO AVISO ---

    } else {
        addressFields.style.display = 'none';
        avisoTaxaEl.style.display = 'none'; // Esconde o aviso se for retirada
        
        document.getElementById('CEP').removeAttribute('required');
        document.getElementById('Endere√ßo').removeAttribute('required');
        document.getElementById('Cidade').removeAttribute('required');
        document.getElementById('Bairro').removeAttribute('required');

        document.getElementById('CEP').value = '';
        document.getElementById('Endere√ßo').value = '';
        document.getElementById('Cidade').value = '';
        document.getElementById('Bairro').value = '';
    }
    
    updateCartDisplay(); // Mant√©m esta linha para recalcular o total
}


function getStoreStatus() {
    const now = new Date();
    const dayOfWeek = now.getDay();
    const hour = now.getHours();
    const minute = now.getMinutes();
    const currentTime = hour * 60 + minute; 

 
    let openingTime = 0;
    let closingTime = 0;

    const minecart = document.getElementById('floating-cart');
    const telaAtivada = document.querySelector('.products');
    const cartTabButton = document.querySelector('.tab-button[data-tab="cart"]');
    const checkoutTabButton = document.querySelector('.tab-button[data-tab="checkout"]');

    function desativarInterface() {
    if (minecart) minecart.style.display = 'none';
    if (cartTabButton) {
        cartTabButton.classList.add('disabled-tab');
        cartTabButton.disabled = true;
        cartTabButton.style.display = 'none';
        document.getElementById('cart').style.display = 'none';
    }
    if (checkoutTabButton) {
        checkoutTabButton.classList.add('disabled-tab');
        checkoutTabButton.disabled = true;
        checkoutTabButton.style.display = 'none';
    }
    const featuredProductsCarousel = document.getElementById('featuredProductsCarousel');
    if (featuredProductsCarousel) featuredProductsCarousel.style.display = 'none';
    }

    const horariosArray = horariosFuncionamento.split(';');
    const diasSemana = ['Domingo', 'Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado'];
    let horarioDia = null;

    horariosArray.forEach(horario => {
    const [dia, tempo] = horario.split(':');
    if (diasSemana[dayOfWeek].startsWith(dia.trim())) {
        horarioDia = {
        dia: dia.trim(),
        tempo: tempo.trim()
    };
    }
    });

    const statusLojaDiv = document.getElementById('products');
    const LojaAberta = document.getElementById('statusLoja');

    if (horarioDia && horarioDia.tempo === 'FECHADO') {
    statusLojaDiv.innerHTML = `
    <p class="loja-fechada">Loja fechada! Hoje estamos fechados.</p> ${generateScheduleTable(horariosFuncionamento)}`;
    desativarInterface();
    clearInterval(intervalID2);
    return;
    }

    if (horarioDia) {
    const [abertura, fechamento] = horarioDia.tempo.split('-');
    if (abertura && fechamento) {
        const [aberturaHora, aberturaMinuto] = abertura.split('h');
        const [fechamentoHora, fechamentoMinuto] = fechamento.split('h');

        openingTime = parseInt(aberturaHora) * 60 + parseInt(aberturaMinuto || 0);
        closingTime = parseInt(fechamentoHora) * 60 + parseInt(fechamentoMinuto || 0);

        // Verificar se a loja est√° aberta
        if (currentTime >= openingTime && currentTime <= closingTime) {
        isOpen = true;
    }
    }
    }

    // Exibir mensagem de status da loja
    if (isOpen) {
    LojaAberta.innerHTML = '<p class="loja-aberta">Loja aberta, Boas compras!</p>';
    } else {
    const openModalhorarios = document.getElementById("openModalhorarios");
    openModalhorarios.style.display = "none";
    statusLojaDiv.innerHTML = ''; // Limpar mensagens anteriores
    LojaAberta.innerHTML = '<p class="loja-fechada">Loja fechada!</p>';
    statusLojaDiv.innerHTML = `<p class="loja-fechada">Hor√°rio de funcionamento:</p> ${generateScheduleTable(horariosFuncionamento)}`;
    desativarInterface();
    clearInterval(intervalID2);
    return;
    }

    var intervalID2 = setInterval(getStoreStatus, 60000);
}

function generateScheduleTable(horarios) {
    const horariosArray = horarios.split(';');
    let tableHTML = `
    <div class="schedule-table-container">
        <table class="schedule-table">
            <thead>
                <tr>
                    <th>Dia da Semana</th>
                    <th>Abertura</th>
                    <th>Fechamento</th>
                </tr>
            </thead>
            <tbody>`;

    horariosArray.forEach(horario => {
        const [dia, tempo] = horario.split(':');
        const diaTrimmed = dia.trim();

        if (tempo === 'FECHADO') {
            tableHTML += `<tr><td>${diaTrimmed}</td><td colspan="2">Fechado</td></tr>`;
        } else {
            const [abertura, fechamento] = tempo.split('-');
            const aberturaTrimmed = abertura.trim();
            const fechamentoTrimmed = fechamento.trim();
            tableHTML += `<tr><td>${diaTrimmed}</td><td>${aberturaTrimmed}</td><td>${fechamentoTrimmed}</td></tr>`;
        }
    });

    tableHTML += `
            </tbody>
        </table>
    </div>
    `;
    return tableHTML;
}

// Fun√ß√µes para abrir e fechar o modal
function openModalhorarios() {
    const modal = document.getElementById("horariosModal");
    const content = document.getElementById("horariosContent");

    // Aqui, "seuHorarioFuncionamento" deve ser substitu√≠do pela sua vari√°vel real
    content.innerHTML = `<p class="loja-fechada">Hor√°rio de funcionamento:</p> ${generateScheduleTable(horariosFuncionamento)}`;

    modal.style.display = "block";
}

function closeModalhorarios() {
    const modal = document.getElementById("horariosModal");
    modal.style.display = "none";
}

        // Para fechar o modal ao clicar fora do conte√∫do do modal
window.onclick = function (event) {
    const modal = document.getElementById("horariosModal");
    if (event.target == modal) {
    modal.style.display = "none";
    }
}

function realBR(valorNumerico) {
    const valor = parseFloat(valorNumerico);
    if (isNaN(valor)) {
        return "R$ 0,00"; // Retorna um valor padr√£o se a entrada for inv√°lida
    }
    return valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
}

function realBR2(input) { //R$ 325.325.232,53
    valor = input.replace(/\D/g, '');
    valor = (parseFloat(valor) / 100).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
    valor = valor.toLocaleString('pt-BR');
	return input.value = valor; 
}

function AbrirWhatsapp() {
    window.open("https://api.whatsapp.com/send?phone=" + encodeURIComponent(whatsapp), '_blank');
}

    // --- SELECIONA OS ELEMENTOS DO FORMUL√ÅRIO ---
    const inputCep = document.getElementById('CEP');
    const inputEmail = document.getElementById('Email');
    const inputWhatsApp = document.getElementById('WhatsApp');

    // --- FORMATADOR DE CEP ---
    // Adiciona o evento 'input' que √© acionado a cada vez que o usu√°rio digita algo.
    if (inputCep) {
        inputCep.addEventListener('input', () => {
            // 1. Remove tudo que n√£o for d√≠gito usando uma express√£o regular.
            let cep = inputCep.value.replace(/\D/g, '');

            // 2. Limita a 8 caracteres.
            cep = cep.substring(0, 8);

            // 3. Aplica a m√°scara XXXXX-XXX se houver mais de 5 d√≠gitos.
            cep = cep.replace(/(\d{5})(\d)/, '$1-$2');

            // 4. Atualiza o valor do campo no formul√°rio.
            inputCep.value = cep;
        });
    }

    // --- VALIDADOR DE EMAIL ---
    // Adiciona o evento 'blur', que √© acionado quando o usu√°rio clica fora do campo.
    if (inputEmail) {
        inputEmail.addEventListener('blur', () => {
            const email = inputEmail.value;
            // Express√£o regular simples para validar a estrutura de um email.
            const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;

            // Testa se o valor corresponde √† express√£o regular.
            if (emailRegex.test(email)) {
                // Se for v√°lido, remove a classe de erro (caso exista).
                inputEmail.style.borderColor = ''; // Volta √† cor padr√£o
            } else {
                // Se for inv√°lido e o campo n√£o estiver vazio, aplica um estilo de erro.
                if (email.length > 0) {
                   inputEmail.style.borderColor = 'red';
                } else {
                    // Se estiver vazio, remove o estilo de erro.
                    inputEmail.style.borderColor = '';
                }
            }
        });
    }

    // --- FORMATADOR DE WHATSAPP ---
    // Adiciona o evento 'input' para formatar em tempo real.
    if (inputWhatsApp) {
        inputWhatsApp.addEventListener('input', () => {
            // 1. Remove tudo que n√£o for d√≠gito.
            let whatsapp = inputWhatsApp.value.replace(/\D/g, '');
            
            // 2. Limita o tamanho para 11 d√≠gitos (DDD + 9 + n√∫mero).
            whatsapp = whatsapp.substring(0, 11);

            // 3. Aplica a m√°scara dinamicamente conforme o usu√°rio digita.
            if (whatsapp.length > 10) {
                // Celular com 9¬∫ d√≠gito: (XX) 9XXXX-XXXX
                whatsapp = whatsapp.replace(/^(\d{2})(\d{5})(\d{4})$/, '($1) $2-$3');
            } else if (whatsapp.length > 11) {
                // Fixo ou celular em digita√ß√£o: (XX) XXXX-XXXX
                whatsapp = whatsapp.replace(/^(\d{2})(\d{4})(\d{0,4})$/, '($1) $2-$3');
            } else if (whatsapp.length > 2) {
                // Apenas o DDD e o come√ßo do n√∫mero: (XX) XXXX
                whatsapp = whatsapp.replace(/^(\d{2})(\d*)$/, '($1) $2');
            } else if (whatsapp.length > 0) {
                // Apenas o DDD sendo digitado: (XX
                whatsapp = whatsapp.replace(/^(\d*)$/, '($1');
            }
            
            // 4. Atualiza o valor no campo.
            inputWhatsApp.value = whatsapp;
        });
    }

const button = document.getElementById("whatswidget-button");
    const conversation = document.getElementById("whatswidget-conversation");
    let chatOpen = false;

function openChat() {
    if (!chatOpen) {
    conversation.style.display = "block";
    conversation.style.opacity = "1";
    } else {
    conversation.style.opacity = "0";
    conversation.style.display = "none";
    }
    chatOpen = !chatOpen;
}

    button.addEventListener("click", openChat);
</script>

</body>

</html>